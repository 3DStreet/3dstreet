<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flux Image Generator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="favicon.png">
    <!-- CSS now bundled in image-playground.js -->
</head>
<body class="min-h-screen flex flex-col">
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-4 py-4 flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <h1 class="text-2xl font-bold text-indigo-600">Flux Image Generator</h1>
                <button id="dark-mode-toggle" class="p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500" aria-label="Toggle Dark Mode">
                    <!-- Sun icon for light mode -->
                    <svg id="theme-toggle-light-icon" class="w-5 h-5 hidden dark:block" fill="currentColor" viewBox="0 0 27 27" xmlns="http://www.w3.org/2000/svg"><path d="M13.0654 0.000113845C12.8182 0.00397823 12.5826 0.105768 12.4103 0.283142C12.2381 0.460516 12.1432 0.698984 12.1466 0.946208V3.74621C12.1449 3.86989 12.1677 3.99268 12.2138 4.10745C12.26 4.22222 12.3284 4.32668 12.4153 4.41476C12.5021 4.50283 12.6056 4.57278 12.7197 4.62051C12.8338 4.66825 12.9563 4.69283 13.08 4.69283C13.2036 4.69283 13.3261 4.66825 13.4402 4.62051C13.5543 4.57278 13.6578 4.50283 13.7446 4.41476C13.8315 4.32668 13.9 4.22222 13.9461 4.10745C13.9922 3.99268 14.015 3.86989 14.0133 3.74621V0.946208C14.015 0.821337 13.9916 0.697394 13.9446 0.581716C13.8975 0.466039 13.8277 0.360979 13.7393 0.272759C13.651 0.18454 13.5458 0.114953 13.43 0.0681213C13.3142 0.0212892 13.1902 -0.00183646 13.0654 0.000113845ZM4.49038 3.55845C4.30486 3.55886 4.12367 3.61454 3.96995 3.71838C3.81622 3.82223 3.69692 3.96953 3.62728 4.14148C3.55764 4.31342 3.54081 4.50223 3.57896 4.68378C3.6171 4.86533 3.70847 5.0314 3.84142 5.16079L5.82111 7.14048C5.90711 7.23005 6.01012 7.30156 6.1241 7.35083C6.23809 7.40009 6.36076 7.42612 6.48493 7.42738C6.6091 7.42864 6.73228 7.40512 6.84724 7.35818C6.9622 7.31124 7.06665 7.24184 7.15445 7.15403C7.24226 7.06623 7.31166 6.96179 7.3586 6.84682C7.40554 6.73186 7.42906 6.60868 7.4278 6.48451C7.42654 6.36034 7.40051 6.23767 7.35125 6.12369C7.30198 6.0097 7.23047 5.90669 7.1409 5.82069L5.16121 3.841C5.07402 3.75137 4.96971 3.68017 4.85447 3.63164C4.73923 3.5831 4.61542 3.55821 4.49038 3.55845ZM21.6404 3.55845C21.3979 3.56567 21.1678 3.66701 20.9987 3.841L19.019 5.82069C18.9294 5.90669 18.8579 6.0097 18.8087 6.12369C18.7594 6.23767 18.7334 6.36034 18.7321 6.48451C18.7309 6.60868 18.7544 6.73185 18.8013 6.84682C18.8483 6.96178 18.9177 7.06622 19.0055 7.15403C19.0933 7.24184 19.1977 7.31124 19.3127 7.35818C19.4276 7.40511 19.5508 7.42864 19.675 7.42738C19.7992 7.42611 19.9218 7.40009 20.0358 7.35083C20.1498 7.30156 20.2528 7.23005 20.3388 7.14048L22.3185 5.16079C22.4534 5.02969 22.5455 4.86091 22.5828 4.67656C22.6201 4.4922 22.6008 4.30089 22.5275 4.12767C22.4542 3.95446 22.3303 3.80743 22.172 3.70586C22.0137 3.60428 21.8284 3.5529 21.6404 3.55845ZM13.08 6.54621C11.3472 6.54621 9.68543 7.23454 8.46019 8.45978C7.23496 9.68501 6.54663 11.3468 6.54663 13.0795C6.54663 14.8123 7.23496 16.4741 8.46019 17.6993C9.68543 18.9245 11.3472 19.6129 13.08 19.6129C14.8127 19.6129 16.4745 18.9245 17.6997 17.6993C18.925 16.4741 19.6133 14.8123 19.6133 13.0795C19.6133 11.3468 18.925 9.68501 17.6997 8.45978C16.4745 7.23454 14.8127 6.54621 13.08 6.54621ZM0.946626 12.1462C0.822948 12.1445 0.700157 12.1673 0.585386 12.2134C0.470616 12.2595 0.366156 12.328 0.278078 12.4149C0.189999 12.5017 0.120059 12.6052 0.0723211 12.7193C0.0245833 12.8334 0 12.9559 0 13.0795C0 13.2032 0.0245833 13.3257 0.0723211 13.4398C0.120059 13.5539 0.189999 13.6574 0.278078 13.7442C0.366156 13.8311 0.470616 13.8995 0.585386 13.9457C0.700157 13.9918 0.822948 14.0146 0.946626 14.0129H3.74663C3.8703 14.0146 3.9931 13.9918 4.10787 13.9457C4.22264 13.8995 4.3271 13.8311 4.41517 13.7442C4.50325 13.6574 4.57319 13.5539 4.62093 13.4398C4.66867 13.3257 4.69325 13.2032 4.69325 13.0795C4.69325 12.9559 4.66867 12.8334 4.62093 12.7193C4.57319 12.6052 4.50325 12.5017 4.41517 12.4149C4.3271 12.328 4.22264 12.2595 4.10787 12.2134C3.9931 12.1673 3.8703 12.1445 3.74663 12.1462H0.946626ZM22.4133 12.1462C22.2896 12.1445 22.1668 12.1673 22.0521 12.2134C21.9373 12.2595 21.8328 12.328 21.7447 12.4149C21.6567 12.5017 21.5867 12.6052 21.539 12.7193C21.4912 12.8334 21.4667 12.9559 21.4667 13.0795C21.4667 13.2032 21.4912 13.3257 21.539 13.4398C21.5867 13.5539 21.6567 13.6574 21.7447 13.7442C21.8328 13.8311 21.9373 13.8995 22.0521 13.9457C22.1668 13.9918 22.2896 14.0146 22.4133 14.0129H25.2133C25.337 14.0146 25.4598 13.9918 25.5745 13.9457C25.6893 13.8995 25.7938 13.8311 25.8818 13.7442C25.9699 13.6574 26.0399 13.5539 26.0876 13.4398C26.1353 13.3257 26.1599 13.2032 26.1599 13.0795C26.1599 12.9559 26.1353 12.8334 26.0876 12.7193C26.0399 12.6052 25.9699 12.5017 25.8818 12.4149C25.7938 12.328 25.6893 12.2595 25.5745 12.2134C25.4598 12.1673 25.337 12.1445 25.2133 12.1462H22.4133ZM6.46277 18.7361C6.22029 18.7433 5.99015 18.8446 5.82111 19.0186L3.84142 20.9983C3.75185 21.0843 3.68033 21.1873 3.63107 21.3013C3.58181 21.4153 3.55578 21.5379 3.55452 21.6621C3.55326 21.7863 3.57678 21.9095 3.62372 22.0244C3.67066 22.1394 3.74006 22.2438 3.82786 22.3316C3.91567 22.4194 4.02011 22.4888 4.13508 22.5358C4.25004 22.5827 4.37321 22.6062 4.49738 22.605C4.62155 22.6037 4.74422 22.5777 4.85821 22.5284C4.9722 22.4792 5.07521 22.4077 5.16121 22.3181L7.1409 20.3384C7.27577 20.2073 7.36788 20.0385 7.40518 19.8542C7.44247 19.6698 7.42321 19.4785 7.3499 19.3053C7.2766 19.1321 7.15267 18.985 6.99437 18.8835C6.83607 18.7819 6.65078 18.7305 6.46277 18.7361ZM19.6698 18.7361C19.4841 18.7361 19.3027 18.7915 19.1487 18.8952C18.9947 18.9989 18.8751 19.1462 18.8052 19.3182C18.7354 19.4903 18.7184 19.6792 18.7565 19.8609C18.7946 20.0427 18.886 20.2089 19.019 20.3384L20.9987 22.3181C21.0847 22.4077 21.1877 22.4792 21.3017 22.5284C21.4157 22.5777 21.5384 22.6037 21.6625 22.605C21.7867 22.6062 21.9099 22.5827 22.0248 22.5358C22.1398 22.4888 22.2442 22.4194 22.332 22.3316C22.4199 22.2438 22.4893 22.1394 22.5362 22.0244C22.5831 21.9095 22.6067 21.7863 22.6054 21.6621C22.6041 21.5379 22.5781 21.4153 22.5288 21.3013C22.4796 21.1873 22.4081 21.0843 22.3185 20.9983L20.3388 19.0186C20.2518 18.9292 20.1478 18.8581 20.0329 18.8096C19.918 18.7611 19.7945 18.7361 19.6698 18.7361ZM13.0654 21.4668C12.8182 21.4706 12.5826 21.5724 12.4103 21.7498C12.2381 21.9272 12.1432 22.1657 12.1466 22.4129V25.2129C12.1449 25.3366 12.1677 25.4593 12.2138 25.5741C12.26 25.6889 12.3284 25.7933 12.4153 25.8814C12.5021 25.9695 12.6056 26.0394 12.7197 26.0872C12.8338 26.1349 12.9563 26.1595 13.08 26.1595C13.2036 26.1595 13.3261 26.1349 13.4402 26.0872C13.5543 26.0394 13.6578 25.9695 13.7446 25.8814C13.8315 25.7933 13.9 25.6889 13.9461 25.5741C13.9922 25.4593 14.015 25.3366 14.0133 25.2129V22.4129C14.015 22.288 13.9916 22.1641 13.9446 22.0484C13.8975 21.9327 13.8277 21.8276 13.7393 21.7394C13.651 21.6512 13.5458 21.5816 13.43 21.5348C13.3142 21.488 13.1902 21.4648 13.0654 21.4668Z" fill="white"/></svg>
                    <!-- Moon icon for dark mode -->
                    <svg id="theme-toggle-dark-icon" class="w-5 h-5 block dark:hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                </button>
            </div>
        </div>
    </header>

    <div class="bg-white shadow-sm">
        <div class="container mx-auto px-4">
            <div class="tab-navigation">
                <button class="tab-button active" data-tab="generator-tab">Generator</button>
                <button class="tab-button" data-tab="inpaint-tab">Inpaint</button>
                <button class="tab-button" data-tab="outpaint-tab">Outpaint</button>
                <!-- More tabs will be added here -->
            </div>
        </div>
    </div>

    <main class="flex-grow container mx-auto px-4 py-6">
        <!-- Tab contents - each will be populated by its respective JS file -->
        <div id="generator-tab" class="tab-content active"></div>
        <div id="inpaint-tab" class="tab-content"></div>
        <div id="outpaint-tab" class="tab-content"></div>
    </main>

    <!-- Gallery Sidebar -->
    <div id="gallery-container" class="gallery-sidebar gallery-collapsed">
        <button id="gallery-toggle" class="gallery-toggle" aria-label="Toggle Gallery">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
            </svg>
        </button>
        <div class="gallery-header">
            <div class="gallery-title">
                Gallery <span id="gallery-counter" class="gallery-counter">0</span>
            </div>
        </div>
        <div id="gallery-content" class="gallery-content">
            <!-- Gallery items will be added here dynamically -->
        </div>
        <div class="gallery-footer">
            <button id="clear-gallery-btn" class="clear-gallery-btn">Clear Gallery</button>
        </div>
    </div>

    <footer class="bg-white border-t border-gray-200 py-4 mt-8">
        <div class="container mx-auto px-4 text-center text-sm text-gray-500">
            <p>Flux Image Generator | Simple interface for 
               <a href="https://blackforestlabs.ai/" target="_blank" class="text-indigo-600 hover:text-indigo-800">
                  Black Forest Labs
               </a> 
               Flux API | 
               <a href="https://github.com/Tremontaine/flux-ui" target="_blank" class="text-indigo-600 hover:text-indigo-800">
                  GitHub
               </a>
            </p>
        </div>
    </footer>

    <!-- Notification -->
    <div id="notification" class="fixed left-4 bottom-4 bg-red-500 text-white p-4 rounded-lg shadow-lg transform transition-transform duration-300 translate-y-20 opacity-0">
        <div class="flex items-center">
            <svg id="notification-icon" class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <span id="notification-message">Error message goes here</span>
        </div>
    </div>

    <!-- Load the bundled JavaScript -->
    <script src="../dist/image-playground.js"></script>
</body>
</html>