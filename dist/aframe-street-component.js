!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(self,(()=>(()=>{var t={631:t=>{var e=[new THREE.Vector2,new THREE.Vector2,new THREE.Vector2,new THREE.Vector2];function r(t,r,n,i){const a=1/i,o=1/n;return e[0].set(a*r,o*t+o),e[1].set(a*r,o*t),e[2].set(a*r+a,o*t),e[3].set(a*r+a,o*t+o),e}AFRAME.registerComponent("atlas-uvs",{dependencies:["geometry"],schema:{totalColumns:{type:"int",default:1},totalRows:{type:"int",default:1},column:{type:"int",default:1},row:{type:"int",default:1}},update:function(){const t=this.data,e=r(t.row-1,t.column-1,t.totalRows,t.totalColumns),n=this.el.getObject3D("mesh").geometry;var i=new Float32Array([e[0].x,e[0].y,e[3].x,e[3].y,e[1].x,e[1].y,e[2].x,e[2].y]);n.setAttribute("uv",new THREE.BufferAttribute(i,2)),n.uvsNeedUpdate=!0}}),AFRAME.registerComponent("dynamic-texture-atlas",{schema:{canvasId:{default:"dynamicAtlas"},canvasHeight:{default:1024},canvasWidth:{default:1024},debug:{default:!1},numColumns:{default:8},numRows:{default:8}},multiple:!0,init:function(){const t=this.canvas=document.createElement("canvas");t.id=this.data.canvasId,t.height=this.data.canvasHeight,t.width=this.data.canvasWidth,this.ctx=t.getContext("2d"),document.body.appendChild(t),this.data.debug&&(t.style.left=0,t.style.top=0,t.style.position="fixed",t.style.zIndex=9999999999)},drawTexture:function(t,e,n,i,a){const o=this.canvas,s=this.data;t.complete||(t.onload=()=>{this.drawTexture(t,e,n)});const c=a||o.height/s.numRows,l=i||o.width/s.numColumns;return this.ctx.drawImage(t,l*e,l*n,l,c),r(e,n,s.numRows,s.numColumns)}}),t.exports.getGridUvs=r},5236:(t,e,r)=>{"use strict";if(r(412),r(7588),r(8327),r.g._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");r.g._babelPolyfill=!0;function n(t,e,r){t[e]||Object.defineProperty(t,e,{writable:!0,configurable:!0,value:r})}n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(t){[][t]&&n(Array,t,Function.call.bind([][t]))}))},8327:(t,e,r)=>{r(9217),t.exports=r(7984).RegExp.escape},8304:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},5811:(t,e,r)=>{var n=r(9519);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},6224:(t,e,r)=>{var n=r(8076)("unscopables"),i=Array.prototype;null==i[n]&&r(9247)(i,n,{}),t.exports=function(t){i[n][t]=!0}},2774:(t,e,r)=>{"use strict";var n=r(5813)(!0);t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},264:t=>{t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},9204:(t,e,r)=>{var n=r(9603);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},8734:(t,e,r)=>{"use strict";var n=r(6415),i=r(7149),a=r(1773);t.exports=[].copyWithin||function(t,e){var r=n(this),o=a(r.length),s=i(t,o),c=i(e,o),l=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===l?o:i(l,o))-c,o-s),d=1;for(c<s&&s<c+u&&(d=-1,c+=u-1,s+=u-1);u-- >0;)c in r?r[s]=r[c]:delete r[s],s+=d,c+=d;return r}},6436:(t,e,r)=>{"use strict";var n=r(6415),i=r(7149),a=r(1773);t.exports=function(t){for(var e=n(this),r=a(e.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,r),c=o>2?arguments[2]:void 0,l=void 0===c?r:i(c,r);l>s;)e[s++]=t;return e}},9349:(t,e,r)=>{var n=r(1725);t.exports=function(t,e){var r=[];return n(t,!1,r.push,r,e),r}},3997:(t,e,r)=>{var n=r(3057),i=r(1773),a=r(7149);t.exports=function(t){return function(e,r,o){var s,c=n(e),l=i(c.length),u=a(o,l);if(t&&r!=r){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===r)return t||u||0;return!t&&-1}}},2026:(t,e,r)=>{var n=r(9124),i=r(3424),a=r(6415),o=r(1773),s=r(4164);t.exports=function(t,e){var r=1==t,c=2==t,l=3==t,u=4==t,d=6==t,f=5==t||d,p=e||s;return function(e,s,h){for(var m,g,v=a(e),y=i(v),b=n(s,h,3),x=o(y.length),w=0,A=r?p(e,x):c?p(e,0):void 0;x>w;w++)if((f||w in y)&&(g=b(m=y[w],w,v),t))if(r)A[w]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:A.push(m)}else if(u)return!1;return d?-1:l||u?u:A}}},1457:(t,e,r)=>{var n=r(8304),i=r(6415),a=r(3424),o=r(1773);t.exports=function(t,e,r,s,c){n(e);var l=i(t),u=a(l),d=o(l.length),f=c?d-1:0,p=c?-1:1;if(r<2)for(;;){if(f in u){s=u[f],f+=p;break}if(f+=p,c?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;c?f>=0:d>f;f+=p)f in u&&(s=e(s,u[f],f,l));return s}},5720:(t,e,r)=>{var n=r(9603),i=r(7375),a=r(8076)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},4164:(t,e,r)=>{var n=r(5720);t.exports=function(t,e){return new(n(t))(e)}},6371:(t,e,r)=>{"use strict";var n=r(8304),i=r(9603),a=r(3436),o=[].slice,s={};t.exports=Function.bind||function(t){var e=n(this),r=o.call(arguments,1),c=function(){var n=r.concat(o.call(arguments));return this instanceof c?function(t,e,r){if(!(e in s)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";s[e]=Function("F,a","return new F("+n.join(",")+")")}return s[e](t,r)}(e,n.length,n):a(e,n,t)};return i(e.prototype)&&(c.prototype=e.prototype),c}},9382:(t,e,r)=>{var n=r(9519),i=r(8076)("toStringTag"),a="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:a?n(e):"Object"==(o=n(e))&&"function"==typeof e.callee?"Arguments":o}},9519:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},947:(t,e,r)=>{"use strict";var n=r(5234).f,i=r(4958),a=r(4584),o=r(9124),s=r(264),c=r(1725),l=r(7091),u=r(4165),d=r(6538),f=r(1329),p=r(4787).fastKey,h=r(2023),m=f?"_s":"size",g=function(t,e){var r,n=p(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,l){var u=t((function(t,n){s(t,u,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[m]=0,null!=n&&c(n,r,t[l],t)}));return a(u.prototype,{clear:function(){for(var t=h(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var r=h(this,e),n=g(r,t);if(n){var i=n.n,a=n.p;delete r._i[n.i],n.r=!0,a&&(a.n=i),i&&(i.p=a),r._f==n&&(r._f=i),r._l==n&&(r._l=a),r[m]--}return!!n},forEach:function(t){h(this,e);for(var r,n=o(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!g(h(this,e),t)}}),f&&n(u.prototype,"size",{get:function(){return h(this,e)[m]}}),u},def:function(t,e,r){var n,i,a=g(t,e);return a?a.v=r:(t._l=a={i:i=p(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=a),n&&(n.n=a),t[m]++,"F"!==i&&(t._i[i]=a)),t},getEntry:g,setStrong:function(t,e,r){l(t,e,(function(t,r){this._t=h(t,e),this._k=r,this._l=void 0}),(function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?u(0,"keys"==e?r.k:"values"==e?r.v:[r.k,r.v]):(t._t=void 0,u(1))}),r?"entries":"values",!r,!0),d(e)}}},5741:(t,e,r)=>{var n=r(9382),i=r(9349);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},5268:(t,e,r)=>{"use strict";var n=r(4584),i=r(4787).getWeak,a=r(9204),o=r(9603),s=r(264),c=r(1725),l=r(2026),u=r(1262),d=r(2023),f=l(5),p=l(6),h=0,m=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},v=function(t,e){return f(t.a,(function(t){return t[0]===e}))};g.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var r=v(this,t);r?r[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,r,a){var l=t((function(t,n){s(t,l,e,"_i"),t._t=e,t._i=h++,t._l=void 0,null!=n&&c(n,r,t[a],t)}));return n(l.prototype,{delete:function(t){if(!o(t))return!1;var r=i(t);return!0===r?m(d(this,e)).delete(t):r&&u(r,this._i)&&delete r[this._i]},has:function(t){if(!o(t))return!1;var r=i(t);return!0===r?m(d(this,e)).has(t):r&&u(r,this._i)}}),l},def:function(t,e,r){var n=i(a(e),!0);return!0===n?m(t).set(e,r):n[t._i]=r,t},ufstore:m}},1405:(t,e,r)=>{"use strict";var n=r(2276),i=r(3350),a=r(1951),o=r(4584),s=r(4787),c=r(1725),l=r(264),u=r(9603),d=r(4308),f=r(3490),p=r(6668),h=r(1906);t.exports=function(t,e,r,m,g,v){var y=n[t],b=y,x=g?"set":"add",w=b&&b.prototype,A={},S=function(t){var e=w[t];a(w,t,"delete"==t||"has"==t?function(t){return!(v&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,r){return e.call(this,0===t?0:t,r),this})};if("function"==typeof b&&(v||w.forEach&&!d((function(){(new b).entries().next()})))){var E=new b,M=E[x](v?{}:-0,1)!=E,k=d((function(){E.has(1)})),_=f((function(t){new b(t)})),T=!v&&d((function(){for(var t=new b,e=5;e--;)t[x](e,e);return!t.has(-0)}));_||((b=e((function(e,r){l(e,b,t);var n=h(new y,e,b);return null!=r&&c(r,g,n[x],n),n}))).prototype=w,w.constructor=b),(k||T)&&(S("delete"),S("has"),g&&S("get")),(T||M)&&S(x),v&&w.clear&&delete w.clear}else b=m.getConstructor(e,t,g,x),o(b.prototype,r),s.NEED=!0;return p(b,t),A[t]=b,i(i.G+i.W+i.F*(b!=y),A),v||m.setStrong(b,t,g),b}},7984:t=>{var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},2122:(t,e,r)=>{"use strict";var n=r(5234),i=r(9933);t.exports=function(t,e,r){e in t?n.f(t,e,i(0,r)):t[e]=r}},9124:(t,e,r)=>{var n=r(8304);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},4041:(t,e,r)=>{"use strict";var n=r(4308),i=Date.prototype.getTime,a=Date.prototype.toISOString,o=function(t){return t>9?t:"0"+t};t.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-50000000000001))}))||!n((function(){a.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),r=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+o(t.getUTCMonth()+1)+"-"+o(t.getUTCDate())+"T"+o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds())+"."+(r>99?r:"0"+o(r))+"Z"}:a},768:(t,e,r)=>{"use strict";var n=r(9204),i=r(4276),a="number";t.exports=function(t){if("string"!==t&&t!==a&&"default"!==t)throw TypeError("Incorrect hint");return i(n(this),t!=a)}},2099:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},1329:(t,e,r)=>{t.exports=!r(4308)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},7233:(t,e,r)=>{var n=r(9603),i=r(2276).document,a=n(i)&&n(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},120:t=>{t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5084:(t,e,r)=>{var n=r(1720),i=r(1259),a=r(6418);t.exports=function(t){var e=n(t),r=i.f;if(r)for(var o,s=r(t),c=a.f,l=0;s.length>l;)c.call(t,o=s[l++])&&e.push(o);return e}},3350:(t,e,r)=>{var n=r(2276),i=r(7984),a=r(9247),o=r(1951),s=r(9124),c="prototype",l=function(t,e,r){var u,d,f,p,h=t&l.F,m=t&l.G,g=t&l.S,v=t&l.P,y=t&l.B,b=m?n:g?n[e]||(n[e]={}):(n[e]||{})[c],x=m?i:i[e]||(i[e]={}),w=x[c]||(x[c]={});for(u in m&&(r=e),r)f=((d=!h&&b&&void 0!==b[u])?b:r)[u],p=y&&d?s(f,n):v&&"function"==typeof f?s(Function.call,f):f,b&&o(b,u,f,t&l.U),x[u]!=f&&a(x,u,p),v&&w[u]!=f&&(w[u]=f)};n.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},2381:(t,e,r)=>{var n=r(8076)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},4308:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},1658:(t,e,r)=>{"use strict";r(5761);var n=r(1951),i=r(9247),a=r(4308),o=r(2099),s=r(8076),c=r(3323),l=s("species"),u=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var f=s(t),p=!a((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),h=p?!a((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[l]=function(){return r}),r[f](""),!e})):void 0;if(!p||!h||"replace"===t&&!u||"split"===t&&!d){var m=/./[f],g=r(o,f,""[t],(function(t,e,r,n,i){return e.exec===c?p&&!i?{done:!0,value:m.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),v=g[0],y=g[1];n(String.prototype,t,v),i(RegExp.prototype,f,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},9388:(t,e,r)=>{"use strict";var n=r(9204);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},7849:(t,e,r)=>{"use strict";var n=r(7375),i=r(9603),a=r(1773),o=r(9124),s=r(8076)("isConcatSpreadable");t.exports=function t(e,r,c,l,u,d,f,p){for(var h,m,g=u,v=0,y=!!f&&o(f,p,3);v<l;){if(v in c){if(h=y?y(c[v],v,r):c[v],m=!1,i(h)&&(m=void 0!==(m=h[s])?!!m:n(h)),m&&d>0)g=t(e,r,h,a(h.length),g,d-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=h}g++}v++}return g}},1725:(t,e,r)=>{var n=r(9124),i=r(228),a=r(99),o=r(9204),s=r(1773),c=r(8837),l={},u={},d=t.exports=function(t,e,r,d,f){var p,h,m,g,v=f?function(){return t}:c(t),y=n(r,d,e?2:1),b=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(a(v)){for(p=s(t.length);p>b;b++)if((g=e?y(o(h=t[b])[0],h[1]):y(t[b]))===l||g===u)return g}else for(m=v.call(t);!(h=m.next()).done;)if((g=i(m,y,h.value,e))===l||g===u)return g};d.BREAK=l,d.RETURN=u},7650:(t,e,r)=>{t.exports=r(3259)("native-function-to-string",Function.toString)},2276:t=>{var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},1262:t=>{var e={}.hasOwnProperty;t.exports=function(t,r){return e.call(t,r)}},9247:(t,e,r)=>{var n=r(5234),i=r(9933);t.exports=r(1329)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},1847:(t,e,r)=>{var n=r(2276).document;t.exports=n&&n.documentElement},706:(t,e,r)=>{t.exports=!r(1329)&&!r(4308)((function(){return 7!=Object.defineProperty(r(7233)("div"),"a",{get:function(){return 7}}).a}))},1906:(t,e,r)=>{var n=r(9603),i=r(8860).set;t.exports=function(t,e,r){var a,o=e.constructor;return o!==r&&"function"==typeof o&&(a=o.prototype)!==r.prototype&&n(a)&&i&&i(t,a),t}},3436:t=>{t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},3424:(t,e,r)=>{var n=r(9519);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},99:(t,e,r)=>{var n=r(479),i=r(8076)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||a[i]===t)}},7375:(t,e,r)=>{var n=r(9519);t.exports=Array.isArray||function(t){return"Array"==n(t)}},8400:(t,e,r)=>{var n=r(9603),i=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&i(t)===t}},9603:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},5119:(t,e,r)=>{var n=r(9603),i=r(9519),a=r(8076)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},228:(t,e,r)=>{var n=r(9204);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var a=t.return;throw void 0!==a&&n(a.call(t)),e}}},4434:(t,e,r)=>{"use strict";var n=r(4958),i=r(9933),a=r(6668),o={};r(9247)(o,r(8076)("iterator"),(function(){return this})),t.exports=function(t,e,r){t.prototype=n(o,{next:i(1,r)}),a(t,e+" Iterator")}},7091:(t,e,r)=>{"use strict";var n=r(5020),i=r(3350),a=r(1951),o=r(9247),s=r(479),c=r(4434),l=r(6668),u=r(9565),d=r(8076)("iterator"),f=!([].keys&&"next"in[].keys()),p="keys",h="values",m=function(){return this};t.exports=function(t,e,r,g,v,y,b){c(r,e,g);var x,w,A,S=function(t){if(!f&&t in _)return _[t];switch(t){case p:case h:return function(){return new r(this,t)}}return function(){return new r(this,t)}},E=e+" Iterator",M=v==h,k=!1,_=t.prototype,T=_[d]||_["@@iterator"]||v&&_[v],O=T||S(v),R=v?M?S("entries"):O:void 0,N="Array"==e&&_.entries||T;if(N&&(A=u(N.call(new t)))!==Object.prototype&&A.next&&(l(A,E,!0),n||"function"==typeof A[d]||o(A,d,m)),M&&T&&T.name!==h&&(k=!0,O=function(){return T.call(this)}),n&&!b||!f&&!k&&_[d]||o(_,d,O),s[e]=O,s[E]=m,v)if(x={values:M?O:S(h),keys:y?O:S(p),entries:R},b)for(w in x)w in _||a(_,w,x[w]);else i(i.P+i.F*(f||k),e,x);return x}},3490:(t,e,r)=>{var n=r(8076)("iterator"),i=!1;try{var a=[7][n]();a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:r=!0}},a[n]=function(){return o},t(a)}catch(t){}return r}},4165:t=>{t.exports=function(t,e){return{value:e,done:!!t}}},479:t=>{t.exports={}},5020:t=>{t.exports=!1},9372:t=>{var e=Math.expm1;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},5600:(t,e,r)=>{var n=r(7083),i=Math.pow,a=i(2,-52),o=i(2,-23),s=i(2,127)*(2-o),c=i(2,-126);t.exports=Math.fround||function(t){var e,r,i=Math.abs(t),l=n(t);return i<c?l*(i/c/o+1/a-1/a)*c*o:(r=(e=(1+o/a)*i)-(e-i))>s||r!=r?l*(1/0):l*r}},5386:t=>{t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},6030:t=>{t.exports=Math.scale||function(t,e,r,n,i){return 0===arguments.length||t!=t||e!=e||r!=r||n!=n||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-n)/(r-e)+n}},7083:t=>{t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},4787:(t,e,r)=>{var n=r(6835)("meta"),i=r(9603),a=r(1262),o=r(5234).f,s=0,c=Object.isExtensible||function(){return!0},l=!r(4308)((function(){return c(Object.preventExtensions({}))})),u=function(t){o(t,n,{value:{i:"O"+ ++s,w:{}}})},d=t.exports={KEY:n,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,n)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[n].i},getWeak:function(t,e){if(!a(t,n)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[n].w},onFreeze:function(t){return l&&d.NEED&&c(t)&&!a(t,n)&&u(t),t}}},9966:(t,e,r)=>{var n=r(468),i=r(3350),a=r(3259)("metadata"),o=a.store||(a.store=new(r(7729))),s=function(t,e,r){var i=o.get(t);if(!i){if(!r)return;o.set(t,i=new n)}var a=i.get(e);if(!a){if(!r)return;i.set(e,a=new n)}return a};t.exports={store:o,map:s,has:function(t,e,r){var n=s(e,r,!1);return void 0!==n&&n.has(t)},get:function(t,e,r){var n=s(e,r,!1);return void 0===n?void 0:n.get(t)},set:function(t,e,r,n){s(r,n,!0).set(t,e)},keys:function(t,e){var r=s(t,e,!1),n=[];return r&&r.forEach((function(t,e){n.push(e)})),n},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},6787:(t,e,r)=>{var n=r(2276),i=r(9770).set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,c="process"==r(9519)(o);t.exports=function(){var t,e,r,l=function(){var n,i;for(c&&(n=o.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(c)r=function(){o.nextTick(l)};else if(!a||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);r=function(){u.then(l)}}else r=function(){i.call(n,l)};else{var d=!0,f=document.createTextNode("");new a(l).observe(f,{characterData:!0}),r=function(){f.data=d=!d}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}},8176:(t,e,r)=>{"use strict";var n=r(8304);function i(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)}t.exports.f=function(t){return new i(t)}},7288:(t,e,r)=>{"use strict";var n=r(1329),i=r(1720),a=r(1259),o=r(6418),s=r(6415),c=r(3424),l=Object.assign;t.exports=!l||r(4308)((function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=l({},t)[r]||Object.keys(l({},e)).join("")!=n}))?function(t,e){for(var r=s(t),l=arguments.length,u=1,d=a.f,f=o.f;l>u;)for(var p,h=c(arguments[u++]),m=d?i(h).concat(d(h)):i(h),g=m.length,v=0;g>v;)p=m[v++],n&&!f.call(h,p)||(r[p]=h[p]);return r}:l},4958:(t,e,r)=>{var n=r(9204),i=r(2305),a=r(120),o=r(1606)("IE_PROTO"),s=function(){},c="prototype",l=function(){var t,e=r(7233)("iframe"),n=a.length;for(e.style.display="none",r(1847).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l[c][a[n]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(s[c]=n(t),r=new s,s[c]=null,r[o]=t):r=l(),void 0===e?r:i(r,e)}},5234:(t,e,r)=>{var n=r(9204),i=r(706),a=r(4276),o=Object.defineProperty;e.f=r(1329)?Object.defineProperty:function(t,e,r){if(n(t),e=a(e,!0),n(r),i)try{return o(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},2305:(t,e,r)=>{var n=r(5234),i=r(9204),a=r(1720);t.exports=r(1329)?Object.defineProperties:function(t,e){i(t);for(var r,o=a(e),s=o.length,c=0;s>c;)n.f(t,r=o[c++],e[r]);return t}},8358:(t,e,r)=>{"use strict";t.exports=r(5020)||!r(4308)((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete r(2276)[t]}))},154:(t,e,r)=>{var n=r(6418),i=r(9933),a=r(3057),o=r(4276),s=r(1262),c=r(706),l=Object.getOwnPropertyDescriptor;e.f=r(1329)?l:function(t,e){if(t=a(t),e=o(e,!0),c)try{return l(t,e)}catch(t){}if(s(t,e))return i(!n.f.call(t,e),t[e])}},9563:(t,e,r)=>{var n=r(3057),i=r(399).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?function(t){try{return i(t)}catch(t){return o.slice()}}(t):i(n(t))}},399:(t,e,r)=>{var n=r(2696),i=r(120).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},1259:(t,e)=>{e.f=Object.getOwnPropertySymbols},9565:(t,e,r)=>{var n=r(1262),i=r(6415),a=r(1606)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},2696:(t,e,r)=>{var n=r(1262),i=r(3057),a=r(3997)(!1),o=r(1606)("IE_PROTO");t.exports=function(t,e){var r,s=i(t),c=0,l=[];for(r in s)r!=o&&n(s,r)&&l.push(r);for(;e.length>c;)n(s,r=e[c++])&&(~a(l,r)||l.push(r));return l}},1720:(t,e,r)=>{var n=r(2696),i=r(120);t.exports=Object.keys||function(t){return n(t,i)}},6418:(t,e)=>{e.f={}.propertyIsEnumerable},4730:(t,e,r)=>{var n=r(3350),i=r(7984),a=r(4308);t.exports=function(t,e){var r=(i.Object||{})[t]||Object[t],o={};o[t]=e(r),n(n.S+n.F*a((function(){r(1)})),"Object",o)}},1305:(t,e,r)=>{var n=r(1329),i=r(1720),a=r(3057),o=r(6418).f;t.exports=function(t){return function(e){for(var r,s=a(e),c=i(s),l=c.length,u=0,d=[];l>u;)r=c[u++],n&&!o.call(s,r)||d.push(t?[r,s[r]]:s[r]);return d}}},7738:(t,e,r)=>{var n=r(399),i=r(1259),a=r(9204),o=r(2276).Reflect;t.exports=o&&o.ownKeys||function(t){var e=n.f(a(t)),r=i.f;return r?e.concat(r(t)):e}},4963:(t,e,r)=>{var n=r(2276).parseFloat,i=r(1344).trim;t.exports=1/n(r(1680)+"-0")!=-1/0?function(t){var e=i(String(t),3),r=n(e);return 0===r&&"-"==e.charAt(0)?-0:r}:n},1092:(t,e,r)=>{var n=r(2276).parseInt,i=r(1344).trim,a=r(1680),o=/^[-+]?0[xX]/;t.exports=8!==n(a+"08")||22!==n(a+"0x16")?function(t,e){var r=i(String(t),3);return n(r,e>>>0||(o.test(r)?16:10))}:n},6518:t=>{t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},1650:(t,e,r)=>{var n=r(9204),i=r(9603),a=r(8176);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=a.f(t);return(0,r.resolve)(e),r.promise}},9933:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4584:(t,e,r)=>{var n=r(1951);t.exports=function(t,e,r){for(var i in e)n(t,i,e[i],r);return t}},1951:(t,e,r)=>{var n=r(2276),i=r(9247),a=r(1262),o=r(6835)("src"),s=r(7650),c="toString",l=(""+s).split(c);r(7984).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,r,s){var c="function"==typeof r;c&&(a(r,"name")||i(r,"name",e)),t[e]!==r&&(c&&(a(r,o)||i(r,o,t[e]?""+t[e]:l.join(String(e)))),t===n?t[e]=r:s?t[e]?t[e]=r:i(t,e,r):(delete t[e],i(t,e,r)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[o]||s.call(this)}))},3231:(t,e,r)=>{"use strict";var n=r(9382),i=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var a=r.call(t,e);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},3323:(t,e,r)=>{"use strict";var n,i,a=r(9388),o=RegExp.prototype.exec,s=String.prototype.replace,c=o,l="lastIndex",u=(n=/a/,i=/b*/g,o.call(n,"a"),o.call(i,"a"),0!==n[l]||0!==i[l]),d=void 0!==/()??/.exec("")[1];(u||d)&&(c=function(t){var e,r,n,i,c=this;return d&&(r=new RegExp("^"+c.source+"$(?!\\s)",a.call(c))),u&&(e=c[l]),n=o.call(c,t),u&&n&&(c[l]=c.global?n.index+n[0].length:e),d&&n&&n.length>1&&s.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),t.exports=c},988:t=>{t.exports=function(t,e){var r=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,r)}}},5954:t=>{t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},8846:(t,e,r)=>{"use strict";var n=r(3350),i=r(8304),a=r(9124),o=r(1725);t.exports=function(t){n(n.S,t,{from:function(t){var e,r,n,s,c=arguments[1];return i(this),(e=void 0!==c)&&i(c),null==t?new this:(r=[],e?(n=0,s=a(c,arguments[2],2),o(t,!1,(function(t){r.push(s(t,n++))}))):o(t,!1,r.push,r),new this(r))}})}},3281:(t,e,r)=>{"use strict";var n=r(3350);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},8860:(t,e,r)=>{var n=r(9603),i=r(9204),a=function(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=r(9124)(Function.call,r(154).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return a(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:a}},6538:(t,e,r)=>{"use strict";var n=r(2276),i=r(5234),a=r(1329),o=r(8076)("species");t.exports=function(t){var e=n[t];a&&e&&!e[o]&&i.f(e,o,{configurable:!0,get:function(){return this}})}},6668:(t,e,r)=>{var n=r(5234).f,i=r(1262),a=r(8076)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},1606:(t,e,r)=>{var n=r(3259)("keys"),i=r(6835);t.exports=function(t){return n[t]||(n[t]=i(t))}},3259:(t,e,r)=>{var n=r(7984),i=r(2276),a="__core-js_shared__",o=i[a]||(i[a]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r(5020)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},7302:(t,e,r)=>{var n=r(9204),i=r(8304),a=r(8076)("species");t.exports=function(t,e){var r,o=n(t).constructor;return void 0===o||null==(r=n(o)[a])?e:i(r)}},7532:(t,e,r)=>{"use strict";var n=r(4308);t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},5813:(t,e,r)=>{var n=r(9677),i=r(2099);t.exports=function(t){return function(e,r){var a,o,s=String(i(e)),c=n(r),l=s.length;return c<0||c>=l?t?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?t?s.charAt(c):a:t?s.slice(c,c+2):o-56320+(a-55296<<10)+65536}}},9883:(t,e,r)=>{var n=r(5119),i=r(2099);t.exports=function(t,e,r){if(n(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},9686:(t,e,r)=>{var n=r(3350),i=r(4308),a=r(2099),o=/"/g,s=function(t,e,r,n){var i=String(a(t)),s="<"+e;return""!==r&&(s+=" "+r+'="'+String(n).replace(o,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var r={};r[t]=e(s),n(n.P+n.F*i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",r)}},466:(t,e,r)=>{var n=r(1773),i=r(9582),a=r(2099);t.exports=function(t,e,r,o){var s=String(a(t)),c=s.length,l=void 0===r?" ":String(r),u=n(e);if(u<=c||""==l)return s;var d=u-c,f=i.call(l,Math.ceil(d/l.length));return f.length>d&&(f=f.slice(0,d)),o?f+s:s+f}},9582:(t,e,r)=>{"use strict";var n=r(9677),i=r(2099);t.exports=function(t){var e=String(i(this)),r="",a=n(t);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(r+=e);return r}},1344:(t,e,r)=>{var n=r(3350),i=r(2099),a=r(4308),o=r(1680),s="["+o+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),u=function(t,e,r){var i={},s=a((function(){return!!o[t]()||"​"!="​"[t]()})),c=i[t]=s?e(d):o[t];r&&(i[r]=c),n(n.P+n.F*s,"String",i)},d=u.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=u},1680:t=>{t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},9770:(t,e,r)=>{var n,i,a,o=r(9124),s=r(3436),c=r(1847),l=r(7233),u=r(2276),d=u.process,f=u.setImmediate,p=u.clearImmediate,h=u.MessageChannel,m=u.Dispatch,g=0,v={},y="onreadystatechange",b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},x=function(t){b.call(t.data)};f&&p||(f=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},n(g),g},p=function(t){delete v[t]},"process"==r(9519)(d)?n=function(t){d.nextTick(o(b,t,1))}:m&&m.now?n=function(t){m.now(o(b,t,1))}:h?(a=(i=new h).port2,i.port1.onmessage=x,n=o(a.postMessage,a,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(n=function(t){u.postMessage(t+"","*")},u.addEventListener("message",x,!1)):n=y in l("script")?function(t){c.appendChild(l("script"))[y]=function(){c.removeChild(this),b.call(t)}}:function(t){setTimeout(o(b,t,1),0)}),t.exports={set:f,clear:p}},7149:(t,e,r)=>{var n=r(9677),i=Math.max,a=Math.min;t.exports=function(t,e){return(t=n(t))<0?i(t+e,0):a(t,e)}},6074:(t,e,r)=>{var n=r(9677),i=r(1773);t.exports=function(t){if(void 0===t)return 0;var e=n(t),r=i(e);if(e!==r)throw RangeError("Wrong length!");return r}},9677:t=>{var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},3057:(t,e,r)=>{var n=r(3424),i=r(2099);t.exports=function(t){return n(i(t))}},1773:(t,e,r)=>{var n=r(9677),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},6415:(t,e,r)=>{var n=r(2099);t.exports=function(t){return Object(n(t))}},4276:(t,e,r)=>{var n=r(9603);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},8933:(t,e,r)=>{"use strict";if(r(1329)){var n=r(5020),i=r(2276),a=r(4308),o=r(3350),s=r(1089),c=r(6019),l=r(9124),u=r(264),d=r(9933),f=r(9247),p=r(4584),h=r(9677),m=r(1773),g=r(6074),v=r(7149),y=r(4276),b=r(1262),x=r(9382),w=r(9603),A=r(6415),S=r(99),E=r(4958),M=r(9565),k=r(399).f,_=r(8837),T=r(6835),O=r(8076),R=r(2026),N=r(3997),P=r(7302),C=r(4287),I=r(479),j=r(3490),F=r(6538),L=r(6436),B=r(8734),D=r(5234),z=r(154),V=D.f,H=z.f,G=i.RangeError,U=i.TypeError,W=i.Uint8Array,Y="ArrayBuffer",q="Shared"+Y,J="BYTES_PER_ELEMENT",X="prototype",K=Array[X],Z=c.ArrayBuffer,Q=c.DataView,$=R(0),tt=R(2),et=R(3),rt=R(4),nt=R(5),it=R(6),at=N(!0),ot=N(!1),st=C.values,ct=C.keys,lt=C.entries,ut=K.lastIndexOf,dt=K.reduce,ft=K.reduceRight,pt=K.join,ht=K.sort,mt=K.slice,gt=K.toString,vt=K.toLocaleString,yt=O("iterator"),bt=O("toStringTag"),xt=T("typed_constructor"),wt=T("def_constructor"),At=s.CONSTR,St=s.TYPED,Et=s.VIEW,Mt="Wrong length!",kt=R(1,(function(t,e){return Nt(P(t,t[wt]),e)})),_t=a((function(){return 1===new W(new Uint16Array([1]).buffer)[0]})),Tt=!!W&&!!W[X].set&&a((function(){new W(1).set({})})),Ot=function(t,e){var r=h(t);if(r<0||r%e)throw G("Wrong offset!");return r},Rt=function(t){if(w(t)&&St in t)return t;throw U(t+" is not a typed array!")},Nt=function(t,e){if(!w(t)||!(xt in t))throw U("It is not a typed array constructor!");return new t(e)},Pt=function(t,e){return Ct(P(t,t[wt]),e)},Ct=function(t,e){for(var r=0,n=e.length,i=Nt(t,n);n>r;)i[r]=e[r++];return i},It=function(t,e,r){V(t,e,{get:function(){return this._d[r]}})},jt=function(t){var e,r,n,i,a,o,s=A(t),c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,f=_(s);if(null!=f&&!S(f)){for(o=f.call(s),n=[],e=0;!(a=o.next()).done;e++)n.push(a.value);s=n}for(d&&c>2&&(u=l(u,arguments[2],2)),e=0,r=m(s.length),i=Nt(this,r);r>e;e++)i[e]=d?u(s[e],e):s[e];return i},Ft=function(){for(var t=0,e=arguments.length,r=Nt(this,e);e>t;)r[t]=arguments[t++];return r},Lt=!!W&&a((function(){vt.call(new W(1))})),Bt=function(){return vt.apply(Lt?mt.call(Rt(this)):Rt(this),arguments)},Dt={copyWithin:function(t,e){return B.call(Rt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return rt(Rt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return L.apply(Rt(this),arguments)},filter:function(t){return Pt(this,tt(Rt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(Rt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(Rt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){$(Rt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ot(Rt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return at(Rt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return pt.apply(Rt(this),arguments)},lastIndexOf:function(t){return ut.apply(Rt(this),arguments)},map:function(t){return kt(Rt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return dt.apply(Rt(this),arguments)},reduceRight:function(t){return ft.apply(Rt(this),arguments)},reverse:function(){for(var t,e=this,r=Rt(e).length,n=Math.floor(r/2),i=0;i<n;)t=e[i],e[i++]=e[--r],e[r]=t;return e},some:function(t){return et(Rt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ht.call(Rt(this),t)},subarray:function(t,e){var r=Rt(this),n=r.length,i=v(t,n);return new(P(r,r[wt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,m((void 0===e?n:v(e,n))-i))}},zt=function(t,e){return Pt(this,mt.call(Rt(this),t,e))},Vt=function(t){Rt(this);var e=Ot(arguments[1],1),r=this.length,n=A(t),i=m(n.length),a=0;if(i+e>r)throw G(Mt);for(;a<i;)this[e+a]=n[a++]},Ht={entries:function(){return lt.call(Rt(this))},keys:function(){return ct.call(Rt(this))},values:function(){return st.call(Rt(this))}},Gt=function(t,e){return w(t)&&t[St]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ut=function(t,e){return Gt(t,e=y(e,!0))?d(2,t[e]):H(t,e)},Wt=function(t,e,r){return!(Gt(t,e=y(e,!0))&&w(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?V(t,e,r):(t[e]=r.value,t)};At||(z.f=Ut,D.f=Wt),o(o.S+o.F*!At,"Object",{getOwnPropertyDescriptor:Ut,defineProperty:Wt}),a((function(){gt.call({})}))&&(gt=vt=function(){return pt.call(this)});var Yt=p({},Dt);p(Yt,Ht),f(Yt,yt,Ht.values),p(Yt,{slice:zt,set:Vt,constructor:function(){},toString:gt,toLocaleString:Bt}),It(Yt,"buffer","b"),It(Yt,"byteOffset","o"),It(Yt,"byteLength","l"),It(Yt,"length","e"),V(Yt,bt,{get:function(){return this[St]}}),t.exports=function(t,e,r,c){var l=t+((c=!!c)?"Clamped":"")+"Array",d="get"+t,p="set"+t,h=i[l],v=h||{},y=h&&M(h),b=!h||!s.ABV,A={},S=h&&h[X],_=function(t,r){V(t,r,{get:function(){return function(t,r){var n=t._d;return n.v[d](r*e+n.o,_t)}(this,r)},set:function(t){return function(t,r,n){var i=t._d;c&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),i.v[p](r*e+i.o,n,_t)}(this,r,t)},enumerable:!0})};b?(h=r((function(t,r,n,i){u(t,h,l,"_d");var a,o,s,c,d=0,p=0;if(w(r)){if(!(r instanceof Z||(c=x(r))==Y||c==q))return St in r?Ct(h,r):jt.call(h,r);a=r,p=Ot(n,e);var v=r.byteLength;if(void 0===i){if(v%e)throw G(Mt);if((o=v-p)<0)throw G(Mt)}else if((o=m(i)*e)+p>v)throw G(Mt);s=o/e}else s=g(r),a=new Z(o=s*e);for(f(t,"_d",{b:a,o:p,l:o,e:s,v:new Q(a)});d<s;)_(t,d++)})),S=h[X]=E(Yt),f(S,"constructor",h)):a((function(){h(1)}))&&a((function(){new h(-1)}))&&j((function(t){new h,new h(null),new h(1.5),new h(t)}),!0)||(h=r((function(t,r,n,i){var a;return u(t,h,l),w(r)?r instanceof Z||(a=x(r))==Y||a==q?void 0!==i?new v(r,Ot(n,e),i):void 0!==n?new v(r,Ot(n,e)):new v(r):St in r?Ct(h,r):jt.call(h,r):new v(g(r))})),$(y!==Function.prototype?k(v).concat(k(y)):k(v),(function(t){t in h||f(h,t,v[t])})),h[X]=S,n||(S.constructor=h));var T=S[yt],O=!!T&&("values"==T.name||null==T.name),R=Ht.values;f(h,xt,!0),f(S,St,l),f(S,Et,!0),f(S,wt,h),(c?new h(1)[bt]==l:bt in S)||V(S,bt,{get:function(){return l}}),A[l]=h,o(o.G+o.W+o.F*(h!=v),A),o(o.S,l,{BYTES_PER_ELEMENT:e}),o(o.S+o.F*a((function(){v.of.call(h,1)})),l,{from:jt,of:Ft}),J in S||f(S,J,e),o(o.P,l,Dt),F(l),o(o.P+o.F*Tt,l,{set:Vt}),o(o.P+o.F*!O,l,Ht),n||S.toString==gt||(S.toString=gt),o(o.P+o.F*a((function(){new h(1).slice()})),l,{slice:zt}),o(o.P+o.F*(a((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!a((function(){S.toLocaleString.call([1,2])}))),l,{toLocaleString:Bt}),I[l]=O?T:R,n||O||f(S,yt,R)}}else t.exports=function(){}},6019:(t,e,r)=>{"use strict";var n=r(2276),i=r(1329),a=r(5020),o=r(1089),s=r(9247),c=r(4584),l=r(4308),u=r(264),d=r(9677),f=r(1773),p=r(6074),h=r(399).f,m=r(5234).f,g=r(6436),v=r(6668),y="ArrayBuffer",b="DataView",x="prototype",w="Wrong index!",A=n[y],S=n[b],E=n.Math,M=n.RangeError,k=n.Infinity,_=A,T=E.abs,O=E.pow,R=E.floor,N=E.log,P=E.LN2,C="buffer",I="byteLength",j="byteOffset",F=i?"_b":C,L=i?"_l":I,B=i?"_o":j;function D(t,e,r){var n,i,a,o=new Array(r),s=8*r-e-1,c=(1<<s)-1,l=c>>1,u=23===e?O(2,-24)-O(2,-77):0,d=0,f=t<0||0===t&&1/t<0?1:0;for((t=T(t))!=t||t===k?(i=t!=t?1:0,n=c):(n=R(N(t)/P),t*(a=O(2,-n))<1&&(n--,a*=2),(t+=n+l>=1?u/a:u*O(2,1-l))*a>=2&&(n++,a/=2),n+l>=c?(i=0,n=c):n+l>=1?(i=(t*a-1)*O(2,e),n+=l):(i=t*O(2,l-1)*O(2,e),n=0));e>=8;o[d++]=255&i,i/=256,e-=8);for(n=n<<e|i,s+=e;s>0;o[d++]=255&n,n/=256,s-=8);return o[--d]|=128*f,o}function z(t,e,r){var n,i=8*r-e-1,a=(1<<i)-1,o=a>>1,s=i-7,c=r-1,l=t[c--],u=127&l;for(l>>=7;s>0;u=256*u+t[c],c--,s-=8);for(n=u&(1<<-s)-1,u>>=-s,s+=e;s>0;n=256*n+t[c],c--,s-=8);if(0===u)u=1-o;else{if(u===a)return n?NaN:l?-k:k;n+=O(2,e),u-=o}return(l?-1:1)*n*O(2,u-e)}function V(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function H(t){return[255&t]}function G(t){return[255&t,t>>8&255]}function U(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function W(t){return D(t,52,8)}function Y(t){return D(t,23,4)}function q(t,e,r){m(t[x],e,{get:function(){return this[r]}})}function J(t,e,r,n){var i=p(+r);if(i+e>t[L])throw M(w);var a=t[F]._b,o=i+t[B],s=a.slice(o,o+e);return n?s:s.reverse()}function X(t,e,r,n,i,a){var o=p(+r);if(o+e>t[L])throw M(w);for(var s=t[F]._b,c=o+t[B],l=n(+i),u=0;u<e;u++)s[c+u]=l[a?u:e-u-1]}if(o.ABV){if(!l((function(){A(1)}))||!l((function(){new A(-1)}))||l((function(){return new A,new A(1.5),new A(NaN),A.name!=y}))){for(var K,Z=(A=function(t){return u(this,A),new _(p(t))})[x]=_[x],Q=h(_),$=0;Q.length>$;)(K=Q[$++])in A||s(A,K,_[K]);a||(Z.constructor=A)}var tt=new S(new A(2)),et=S[x].setInt8;tt.setInt8(0,2147483648),tt.setInt8(1,2147483649),!tt.getInt8(0)&&tt.getInt8(1)||c(S[x],{setInt8:function(t,e){et.call(this,t,e<<24>>24)},setUint8:function(t,e){et.call(this,t,e<<24>>24)}},!0)}else A=function(t){u(this,A,y);var e=p(t);this._b=g.call(new Array(e),0),this[L]=e},S=function(t,e,r){u(this,S,b),u(t,A,b);var n=t[L],i=d(e);if(i<0||i>n)throw M("Wrong offset!");if(i+(r=void 0===r?n-i:f(r))>n)throw M("Wrong length!");this[F]=t,this[B]=i,this[L]=r},i&&(q(A,I,"_l"),q(S,C,"_b"),q(S,I,"_l"),q(S,j,"_o")),c(S[x],{getInt8:function(t){return J(this,1,t)[0]<<24>>24},getUint8:function(t){return J(this,1,t)[0]},getInt16:function(t){var e=J(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=J(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return V(J(this,4,t,arguments[1]))},getUint32:function(t){return V(J(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return z(J(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return z(J(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){X(this,1,t,H,e)},setUint8:function(t,e){X(this,1,t,H,e)},setInt16:function(t,e){X(this,2,t,G,e,arguments[2])},setUint16:function(t,e){X(this,2,t,G,e,arguments[2])},setInt32:function(t,e){X(this,4,t,U,e,arguments[2])},setUint32:function(t,e){X(this,4,t,U,e,arguments[2])},setFloat32:function(t,e){X(this,4,t,Y,e,arguments[2])},setFloat64:function(t,e){X(this,8,t,W,e,arguments[2])}});v(A,y),v(S,b),s(S[x],o.VIEW,!0),e[y]=A,e[b]=S},1089:(t,e,r)=>{for(var n,i=r(2276),a=r(9247),o=r(6835),s=o("typed_array"),c=o("view"),l=!(!i.ArrayBuffer||!i.DataView),u=l,d=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(n=i[f[d++]])?(a(n.prototype,s,!0),a(n.prototype,c,!0)):u=!1;t.exports={ABV:l,CONSTR:u,TYPED:s,VIEW:c}},6835:t=>{var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},8160:(t,e,r)=>{var n=r(2276).navigator;t.exports=n&&n.userAgent||""},2023:(t,e,r)=>{var n=r(9603);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},4819:(t,e,r)=>{var n=r(2276),i=r(7984),a=r(5020),o=r(3545),s=r(5234).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=a?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},3545:(t,e,r)=>{e.f=r(8076)},8076:(t,e,r)=>{var n=r(3259)("wks"),i=r(6835),a=r(2276).Symbol,o="function"==typeof a;(t.exports=function(t){return n[t]||(n[t]=o&&a[t]||(o?a:i)("Symbol."+t))}).store=n},8837:(t,e,r)=>{var n=r(9382),i=r(8076)("iterator"),a=r(479);t.exports=r(7984).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||a[n(t)]}},9217:(t,e,r)=>{var n=r(3350),i=r(988)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(t){return i(t)}})},6192:(t,e,r)=>{var n=r(3350);n(n.P,"Array",{copyWithin:r(8734)}),r(6224)("copyWithin")},2642:(t,e,r)=>{"use strict";var n=r(3350),i=r(2026)(4);n(n.P+n.F*!r(7532)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},7699:(t,e,r)=>{var n=r(3350);n(n.P,"Array",{fill:r(6436)}),r(6224)("fill")},9901:(t,e,r)=>{"use strict";var n=r(3350),i=r(2026)(2);n(n.P+n.F*!r(7532)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},2650:(t,e,r)=>{"use strict";var n=r(3350),i=r(2026)(6),a="findIndex",o=!0;a in[]&&Array(1)[a]((function(){o=!1})),n(n.P+n.F*o,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(6224)(a)},8758:(t,e,r)=>{"use strict";var n=r(3350),i=r(2026)(5),a="find",o=!0;a in[]&&Array(1)[a]((function(){o=!1})),n(n.P+n.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(6224)(a)},1039:(t,e,r)=>{"use strict";var n=r(3350),i=r(2026)(0),a=r(7532)([].forEach,!0);n(n.P+n.F*!a,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},1624:(t,e,r)=>{"use strict";var n=r(9124),i=r(3350),a=r(6415),o=r(228),s=r(99),c=r(1773),l=r(2122),u=r(8837);i(i.S+i.F*!r(3490)((function(t){Array.from(t)})),"Array",{from:function(t){var e,r,i,d,f=a(t),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,v=0,y=u(f);if(g&&(m=n(m,h>2?arguments[2]:void 0,2)),null==y||p==Array&&s(y))for(r=new p(e=c(f.length));e>v;v++)l(r,v,g?m(f[v],v):f[v]);else for(d=y.call(f),r=new p;!(i=d.next()).done;v++)l(r,v,g?o(d,m,[i.value,v],!0):i.value);return r.length=v,r}})},896:(t,e,r)=>{"use strict";var n=r(3350),i=r(3997)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!r(7532)(a)),"Array",{indexOf:function(t){return o?a.apply(this,arguments)||0:i(this,t,arguments[1])}})},7842:(t,e,r)=>{var n=r(3350);n(n.S,"Array",{isArray:r(7375)})},4287:(t,e,r)=>{"use strict";var n=r(6224),i=r(4165),a=r(479),o=r(3057);t.exports=r(7091)(Array,"Array",(function(t,e){this._t=o(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},2109:(t,e,r)=>{"use strict";var n=r(3350),i=r(3057),a=[].join;n(n.P+n.F*(r(3424)!=Object||!r(7532)(a)),"Array",{join:function(t){return a.call(i(this),void 0===t?",":t)}})},4128:(t,e,r)=>{"use strict";var n=r(3350),i=r(3057),a=r(9677),o=r(1773),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(c||!r(7532)(s)),"Array",{lastIndexOf:function(t){if(c)return s.apply(this,arguments)||0;var e=i(this),r=o(e.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,a(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},1982:(t,e,r)=>{"use strict";var n=r(3350),i=r(2026)(1);n(n.P+n.F*!r(7532)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},9597:(t,e,r)=>{"use strict";var n=r(3350),i=r(2122);n(n.S+n.F*r(4308)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,r=new("function"==typeof this?this:Array)(e);e>t;)i(r,t,arguments[t++]);return r.length=e,r}})},2633:(t,e,r)=>{"use strict";var n=r(3350),i=r(1457);n(n.P+n.F*!r(7532)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},4236:(t,e,r)=>{"use strict";var n=r(3350),i=r(1457);n(n.P+n.F*!r(7532)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},6876:(t,e,r)=>{"use strict";var n=r(3350),i=r(1847),a=r(9519),o=r(7149),s=r(1773),c=[].slice;n(n.P+n.F*r(4308)((function(){i&&c.call(i)})),"Array",{slice:function(t,e){var r=s(this.length),n=a(this);if(e=void 0===e?r:e,"Array"==n)return c.call(this,t,e);for(var i=o(t,r),l=o(e,r),u=s(l-i),d=new Array(u),f=0;f<u;f++)d[f]="String"==n?this.charAt(i+f):this[i+f];return d}})},1846:(t,e,r)=>{"use strict";var n=r(3350),i=r(2026)(3);n(n.P+n.F*!r(7532)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},1148:(t,e,r)=>{"use strict";var n=r(3350),i=r(8304),a=r(6415),o=r(4308),s=[].sort,c=[1,2,3];n(n.P+n.F*(o((function(){c.sort(void 0)}))||!o((function(){c.sort(null)}))||!r(7532)(s)),"Array",{sort:function(t){return void 0===t?s.call(a(this)):s.call(a(this),i(t))}})},8402:(t,e,r)=>{r(6538)("Array")},7516:(t,e,r)=>{var n=r(3350);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},6908:(t,e,r)=>{var n=r(3350),i=r(4041);n(n.P+n.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},2411:(t,e,r)=>{"use strict";var n=r(3350),i=r(6415),a=r(4276);n(n.P+n.F*r(4308)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=i(this),r=a(e);return"number"!=typeof r||isFinite(r)?e.toISOString():null}})},8473:(t,e,r)=>{var n=r(8076)("toPrimitive"),i=Date.prototype;n in i||r(9247)(i,n,r(768))},2803:(t,e,r)=>{var n=Date.prototype,i="Invalid Date",a="toString",o=n[a],s=n.getTime;new Date(NaN)+""!=i&&r(1951)(n,a,(function(){var t=s.call(this);return t==t?o.call(this):i}))},2552:(t,e,r)=>{var n=r(3350);n(n.P,"Function",{bind:r(6371)})},4523:(t,e,r)=>{"use strict";var n=r(9603),i=r(9565),a=r(8076)("hasInstance"),o=Function.prototype;a in o||r(5234).f(o,a,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},6765:(t,e,r)=>{var n=r(5234).f,i=Function.prototype,a=/^\s*function ([^ (]*)/,o="name";o in i||r(1329)&&n(i,o,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},468:(t,e,r)=>{"use strict";var n=r(947),i=r(2023),a="Map";t.exports=r(1405)(a,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=n.getEntry(i(this,a),t);return e&&e.v},set:function(t,e){return n.def(i(this,a),0===t?0:t,e)}},n,!0)},6362:(t,e,r)=>{var n=r(3350),i=r(5386),a=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+a(t-1)*a(t+1))}})},4220:(t,e,r)=>{var n=r(3350),i=Math.asinh;n(n.S+n.F*!(i&&1/i(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},2132:(t,e,r)=>{var n=r(3350),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},1502:(t,e,r)=>{var n=r(3350),i=r(7083);n(n.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},4018:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},7278:(t,e,r)=>{var n=r(3350),i=Math.exp;n(n.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},7704:(t,e,r)=>{var n=r(3350),i=r(9372);n(n.S+n.F*(i!=Math.expm1),"Math",{expm1:i})},6055:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{fround:r(5600)})},7966:(t,e,r)=>{var n=r(3350),i=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var r,n,a=0,o=0,s=arguments.length,c=0;o<s;)c<(r=i(arguments[o++]))?(a=a*(n=c/r)*n+1,c=r):a+=r>0?(n=r/c)*n:r;return c===1/0?1/0:c*Math.sqrt(a)}})},7382:(t,e,r)=>{var n=r(3350),i=Math.imul;n(n.S+n.F*r(4308)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,e){var r=65535,n=+t,i=+e,a=r&n,o=r&i;return 0|a*o+((r&n>>>16)*o+a*(r&i>>>16)<<16>>>0)}})},7100:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},2391:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{log1p:r(5386)})},4732:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},4849:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{sign:r(7083)})},3112:(t,e,r)=>{var n=r(3350),i=r(9372),a=Math.exp;n(n.S+n.F*r(4308)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(a(t-1)-a(-t-1))*(Math.E/2)}})},1124:(t,e,r)=>{var n=r(3350),i=r(9372),a=Math.exp;n(n.S,"Math",{tanh:function(t){var e=i(t=+t),r=i(-t);return e==1/0?1:r==1/0?-1:(e-r)/(a(t)+a(-t))}})},8165:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},183:(t,e,r)=>{"use strict";var n=r(2276),i=r(1262),a=r(9519),o=r(1906),s=r(4276),c=r(4308),l=r(399).f,u=r(154).f,d=r(5234).f,f=r(1344).trim,p="Number",h=n[p],m=h,g=h.prototype,v=a(r(4958)(g))==p,y="trim"in String.prototype,b=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var r,n,i,a=(e=y?e.trim():f(e,3)).charCodeAt(0);if(43===a||45===a){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+e}for(var o,c=e.slice(2),l=0,u=c.length;l<u;l++)if((o=c.charCodeAt(l))<48||o>i)return NaN;return parseInt(c,n)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof h&&(v?c((function(){g.valueOf.call(r)})):a(r)!=p)?o(new m(b(e)),r,h):b(e)};for(var x,w=r(1329)?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;w.length>A;A++)i(m,x=w[A])&&!i(h,x)&&d(h,x,u(m,x));h.prototype=g,g.constructor=h,r(1951)(n,p,h)}},5343:(t,e,r)=>{var n=r(3350);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},1154:(t,e,r)=>{var n=r(3350),i=r(2276).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},5441:(t,e,r)=>{var n=r(3350);n(n.S,"Number",{isInteger:r(8400)})},9960:(t,e,r)=>{var n=r(3350);n(n.S,"Number",{isNaN:function(t){return t!=t}})},796:(t,e,r)=>{var n=r(3350),i=r(8400),a=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return i(t)&&a(t)<=9007199254740991}})},5028:(t,e,r)=>{var n=r(3350);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},6265:(t,e,r)=>{var n=r(3350);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},7011:(t,e,r)=>{var n=r(3350),i=r(4963);n(n.S+n.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},4335:(t,e,r)=>{var n=r(3350),i=r(1092);n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},9354:(t,e,r)=>{"use strict";var n=r(3350),i=r(9677),a=r(5811),o=r(9582),s=1..toFixed,c=Math.floor,l=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",d="0",f=function(t,e){for(var r=-1,n=e;++r<6;)n+=t*l[r],l[r]=n%1e7,n=c(n/1e7)},p=function(t){for(var e=6,r=0;--e>=0;)r+=l[e],l[e]=c(r/t),r=r%t*1e7},h=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){var r=String(l[t]);e=""===e?r:e+o.call(d,7-r.length)+r}return e},m=function(t,e,r){return 0===e?r:e%2==1?m(t,e-1,r*t):m(t*t,e/2,r)};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(4308)((function(){s.call({})}))),"Number",{toFixed:function(t){var e,r,n,s,c=a(this,u),l=i(t),g="",v=d;if(l<0||l>20)throw RangeError(u);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(g="-",c=-c),c>1e-21)if(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(c*m(2,69,1))-69,r=e<0?c*m(2,-e,1):c/m(2,e,1),r*=4503599627370496,(e=52-e)>0){for(f(0,r),n=l;n>=7;)f(1e7,0),n-=7;for(f(m(10,n,1),0),n=e-1;n>=23;)p(1<<23),n-=23;p(1<<n),f(1,1),p(2),v=h()}else f(0,r),f(1<<-e,0),v=h()+o.call(d,l);return v=l>0?g+((s=v.length)<=l?"0."+o.call(d,l-s)+v:v.slice(0,s-l)+"."+v.slice(s-l)):g+v}})},3642:(t,e,r)=>{"use strict";var n=r(3350),i=r(4308),a=r(5811),o=1..toPrecision;n(n.P+n.F*(i((function(){return"1"!==o.call(1,void 0)}))||!i((function(){o.call({})}))),"Number",{toPrecision:function(t){var e=a(this,"Number#toPrecision: incorrect invocation!");return void 0===t?o.call(e):o.call(e,t)}})},1768:(t,e,r)=>{var n=r(3350);n(n.S+n.F,"Object",{assign:r(7288)})},7165:(t,e,r)=>{var n=r(3350);n(n.S,"Object",{create:r(4958)})},4825:(t,e,r)=>{var n=r(3350);n(n.S+n.F*!r(1329),"Object",{defineProperties:r(2305)})},6355:(t,e,r)=>{var n=r(3350);n(n.S+n.F*!r(1329),"Object",{defineProperty:r(5234).f})},9047:(t,e,r)=>{var n=r(9603),i=r(4787).onFreeze;r(4730)("freeze",(function(t){return function(e){return t&&n(e)?t(i(e)):e}}))},7979:(t,e,r)=>{var n=r(3057),i=r(154).f;r(4730)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(n(t),e)}}))},5822:(t,e,r)=>{r(4730)("getOwnPropertyNames",(function(){return r(9563).f}))},3953:(t,e,r)=>{var n=r(6415),i=r(9565);r(4730)("getPrototypeOf",(function(){return function(t){return i(n(t))}}))},354:(t,e,r)=>{var n=r(9603);r(4730)("isExtensible",(function(t){return function(e){return!!n(e)&&(!t||t(e))}}))},7863:(t,e,r)=>{var n=r(9603);r(4730)("isFrozen",(function(t){return function(e){return!n(e)||!!t&&t(e)}}))},7879:(t,e,r)=>{var n=r(9603);r(4730)("isSealed",(function(t){return function(e){return!n(e)||!!t&&t(e)}}))},4036:(t,e,r)=>{var n=r(3350);n(n.S,"Object",{is:r(5954)})},7622:(t,e,r)=>{var n=r(6415),i=r(1720);r(4730)("keys",(function(){return function(t){return i(n(t))}}))},8407:(t,e,r)=>{var n=r(9603),i=r(4787).onFreeze;r(4730)("preventExtensions",(function(t){return function(e){return t&&n(e)?t(i(e)):e}}))},2291:(t,e,r)=>{var n=r(9603),i=r(4787).onFreeze;r(4730)("seal",(function(t){return function(e){return t&&n(e)?t(i(e)):e}}))},6742:(t,e,r)=>{var n=r(3350);n(n.S,"Object",{setPrototypeOf:r(8860).set})},6216:(t,e,r)=>{"use strict";var n=r(9382),i={};i[r(8076)("toStringTag")]="z",i+""!="[object z]"&&r(1951)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},4641:(t,e,r)=>{var n=r(3350),i=r(4963);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},4163:(t,e,r)=>{var n=r(3350),i=r(1092);n(n.G+n.F*(parseInt!=i),{parseInt:i})},837:(t,e,r)=>{"use strict";var n,i,a,o,s=r(5020),c=r(2276),l=r(9124),u=r(9382),d=r(3350),f=r(9603),p=r(8304),h=r(264),m=r(1725),g=r(7302),v=r(9770).set,y=r(6787)(),b=r(8176),x=r(6518),w=r(8160),A=r(1650),S="Promise",E=c.TypeError,M=c.process,k=M&&M.versions,_=k&&k.v8||"",T=c[S],O="process"==u(M),R=function(){},N=i=b.f,P=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[r(8076)("species")]=function(t){t(R,R)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(R)instanceof e&&0!==_.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),C=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var r=t._c;y((function(){for(var n=t._v,i=1==t._s,a=0,o=function(e){var r,a,o,s=i?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{s?(i||(2==t._h&&L(t),t._h=1),!0===s?r=n:(u&&u.enter(),r=s(n),u&&(u.exit(),o=!0)),r===e.promise?l(E("Promise-chain cycle")):(a=C(r))?a.call(r,c,l):c(r)):l(n)}catch(t){u&&!o&&u.exit(),l(t)}};r.length>a;)o(r[a++]);t._c=[],t._n=!1,e&&!t._h&&j(t)}))}},j=function(t){v.call(c,(function(){var e,r,n,i=t._v,a=F(t);if(a&&(e=x((function(){O?M.emit("unhandledRejection",i,t):(r=c.onunhandledrejection)?r({promise:t,reason:i}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",i)})),t._h=O||F(t)?2:1),t._a=void 0,a&&e.e)throw e.v}))},F=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){v.call(c,(function(){var e;O?M.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})}))},B=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},D=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw E("Promise can't be resolved itself");(e=C(t))?y((function(){var n={_w:r,_d:!1};try{e.call(t,l(D,n,1),l(B,n,1))}catch(t){B.call(n,t)}})):(r._v=t,r._s=1,I(r,!1))}catch(t){B.call({_w:r,_d:!1},t)}}};P||(T=function(t){h(this,T,S,"_h"),p(t),n.call(this);try{t(l(D,this,1),l(B,this,1))}catch(t){B.call(this,t)}},(n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(4584)(T.prototype,{then:function(t,e){var r=N(g(this,T));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=O?M.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&I(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new n;this.promise=t,this.resolve=l(D,t,1),this.reject=l(B,t,1)},b.f=N=function(t){return t===T||t===o?new a(t):i(t)}),d(d.G+d.W+d.F*!P,{Promise:T}),r(6668)(T,S),r(6538)(S),o=r(7984)[S],d(d.S+d.F*!P,S,{reject:function(t){var e=N(this);return(0,e.reject)(t),e.promise}}),d(d.S+d.F*(s||!P),S,{resolve:function(t){return A(s&&this===o?T:this,t)}}),d(d.S+d.F*!(P&&r(3490)((function(t){T.all(t).catch(R)}))),S,{all:function(t){var e=this,r=N(e),n=r.resolve,i=r.reject,a=x((function(){var r=[],a=0,o=1;m(t,!1,(function(t){var s=a++,c=!1;r.push(void 0),o++,e.resolve(t).then((function(t){c||(c=!0,r[s]=t,--o||n(r))}),i)})),--o||n(r)}));return a.e&&i(a.v),r.promise},race:function(t){var e=this,r=N(e),n=r.reject,i=x((function(){m(t,!1,(function(t){e.resolve(t).then(r.resolve,n)}))}));return i.e&&n(i.v),r.promise}})},5886:(t,e,r)=>{var n=r(3350),i=r(8304),a=r(9204),o=(r(2276).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!r(4308)((function(){o((function(){}))})),"Reflect",{apply:function(t,e,r){var n=i(t),c=a(r);return o?o(n,e,c):s.call(n,e,c)}})},7079:(t,e,r)=>{var n=r(3350),i=r(4958),a=r(8304),o=r(9204),s=r(9603),c=r(4308),l=r(6371),u=(r(2276).Reflect||{}).construct,d=c((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),f=!c((function(){u((function(){}))}));n(n.S+n.F*(d||f),"Reflect",{construct:function(t,e){a(t),o(e);var r=arguments.length<3?t:a(arguments[2]);if(f&&!d)return u(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(l.apply(t,n))}var c=r.prototype,p=i(s(c)?c:Object.prototype),h=Function.apply.call(t,p,e);return s(h)?h:p}})},1712:(t,e,r)=>{var n=r(5234),i=r(3350),a=r(9204),o=r(4276);i(i.S+i.F*r(4308)((function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,r){a(t),e=o(e,!0),a(r);try{return n.f(t,e,r),!0}catch(t){return!1}}})},8753:(t,e,r)=>{var n=r(3350),i=r(154).f,a=r(9204);n(n.S,"Reflect",{deleteProperty:function(t,e){var r=i(a(t),e);return!(r&&!r.configurable)&&delete t[e]}})},8629:(t,e,r)=>{"use strict";var n=r(3350),i=r(9204),a=function(t){this._t=i(t),this._i=0;var e,r=this._k=[];for(e in t)r.push(e)};r(4434)(a,"Object",(function(){var t,e=this,r=e._k;do{if(e._i>=r.length)return{value:void 0,done:!0}}while(!((t=r[e._i++])in e._t));return{value:t,done:!1}})),n(n.S,"Reflect",{enumerate:function(t){return new a(t)}})},2211:(t,e,r)=>{var n=r(154),i=r(3350),a=r(9204);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(a(t),e)}})},4848:(t,e,r)=>{var n=r(3350),i=r(9565),a=r(9204);n(n.S,"Reflect",{getPrototypeOf:function(t){return i(a(t))}})},3873:(t,e,r)=>{var n=r(154),i=r(9565),a=r(1262),o=r(3350),s=r(9603),c=r(9204);o(o.S,"Reflect",{get:function t(e,r){var o,l,u=arguments.length<3?e:arguments[2];return c(e)===u?e[r]:(o=n.f(e,r))?a(o,"value")?o.value:void 0!==o.get?o.get.call(u):void 0:s(l=i(e))?t(l,r,u):void 0}})},7080:(t,e,r)=>{var n=r(3350);n(n.S,"Reflect",{has:function(t,e){return e in t}})},4559:(t,e,r)=>{var n=r(3350),i=r(9204),a=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return i(t),!a||a(t)}})},8524:(t,e,r)=>{var n=r(3350);n(n.S,"Reflect",{ownKeys:r(7738)})},9019:(t,e,r)=>{var n=r(3350),i=r(9204),a=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){i(t);try{return a&&a(t),!0}catch(t){return!1}}})},8874:(t,e,r)=>{var n=r(3350),i=r(8860);i&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(t){return!1}}})},599:(t,e,r)=>{var n=r(5234),i=r(154),a=r(9565),o=r(1262),s=r(3350),c=r(9933),l=r(9204),u=r(9603);s(s.S,"Reflect",{set:function t(e,r,s){var d,f,p=arguments.length<4?e:arguments[3],h=i.f(l(e),r);if(!h){if(u(f=a(e)))return t(f,r,s,p);h=c(0)}if(o(h,"value")){if(!1===h.writable||!u(p))return!1;if(d=i.f(p,r)){if(d.get||d.set||!1===d.writable)return!1;d.value=s,n.f(p,r,d)}else n.f(p,r,c(0,s));return!0}return void 0!==h.set&&(h.set.call(p,s),!0)}})},8957:(t,e,r)=>{var n=r(2276),i=r(1906),a=r(5234).f,o=r(399).f,s=r(5119),c=r(9388),l=n.RegExp,u=l,d=l.prototype,f=/a/g,p=/a/g,h=new l(f)!==f;if(r(1329)&&(!h||r(4308)((function(){return p[r(8076)("match")]=!1,l(f)!=f||l(p)==p||"/a/i"!=l(f,"i")})))){l=function(t,e){var r=this instanceof l,n=s(t),a=void 0===e;return!r&&n&&t.constructor===l&&a?t:i(h?new u(n&&!a?t.source:t,e):u((n=t instanceof l)?t.source:t,n&&a?c.call(t):e),r?this:d,l)};for(var m=function(t){t in l||a(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},g=o(u),v=0;g.length>v;)m(g[v++]);d.constructor=l,l.prototype=d,r(1951)(n,"RegExp",l)}r(6538)("RegExp")},5761:(t,e,r)=>{"use strict";var n=r(3323);r(3350)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},8992:(t,e,r)=>{r(1329)&&"g"!=/./g.flags&&r(5234).f(RegExp.prototype,"flags",{configurable:!0,get:r(9388)})},1165:(t,e,r)=>{"use strict";var n=r(9204),i=r(1773),a=r(2774),o=r(3231);r(1658)("match",1,(function(t,e,r,s){return[function(r){var n=t(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=s(r,t,this);if(e.done)return e.value;var c=n(t),l=String(this);if(!c.global)return o(c,l);var u=c.unicode;c.lastIndex=0;for(var d,f=[],p=0;null!==(d=o(c,l));){var h=String(d[0]);f[p]=h,""===h&&(c.lastIndex=a(l,i(c.lastIndex),u)),p++}return 0===p?null:f}]}))},2928:(t,e,r)=>{"use strict";var n=r(9204),i=r(6415),a=r(1773),o=r(9677),s=r(2774),c=r(3231),l=Math.max,u=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;r(1658)("replace",2,(function(t,e,r,h){return[function(n,i){var a=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,a,i):r.call(String(a),n,i)},function(t,e){var i=h(r,t,this,e);if(i.done)return i.value;var d=n(t),f=String(this),p="function"==typeof e;p||(e=String(e));var g=d.global;if(g){var v=d.unicode;d.lastIndex=0}for(var y=[];;){var b=c(d,f);if(null===b)break;if(y.push(b),!g)break;""===String(b[0])&&(d.lastIndex=s(f,a(d.lastIndex),v))}for(var x,w="",A=0,S=0;S<y.length;S++){b=y[S];for(var E=String(b[0]),M=l(u(o(b.index),f.length),0),k=[],_=1;_<b.length;_++)k.push(void 0===(x=b[_])?x:String(x));var T=b.groups;if(p){var O=[E].concat(k,M,f);void 0!==T&&O.push(T);var R=String(e.apply(void 0,O))}else R=m(E,f,M,k,T,e);M>=A&&(w+=f.slice(A,M)+R,A=M+E.length)}return w+f.slice(A)}];function m(t,e,n,a,o,s){var c=n+t.length,l=a.length,u=p;return void 0!==o&&(o=i(o),u=f),r.call(s,u,(function(r,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(c);case"<":s=o[i.slice(1,-1)];break;default:var u=+i;if(0===u)return r;if(u>l){var f=d(u/10);return 0===f?r:f<=l?void 0===a[f-1]?i.charAt(1):a[f-1]+i.charAt(1):r}s=a[u-1]}return void 0===s?"":s}))}}))},1272:(t,e,r)=>{"use strict";var n=r(9204),i=r(5954),a=r(3231);r(1658)("search",1,(function(t,e,r,o){return[function(r){var n=t(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,n):new RegExp(r)[e](String(n))},function(t){var e=o(r,t,this);if(e.done)return e.value;var s=n(t),c=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var u=a(s,c);return i(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]}))},2094:(t,e,r)=>{"use strict";var n=r(5119),i=r(9204),a=r(7302),o=r(2774),s=r(1773),c=r(3231),l=r(3323),u=r(4308),d=Math.min,f=[].push,p="split",h="length",m="lastIndex",g=4294967295,v=!u((function(){RegExp(g,"y")}));r(1658)("split",2,(function(t,e,r,u){var y;return y="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[h]||2!="ab"[p](/(?:ab)*/)[h]||4!="."[p](/(.?)(.?)/)[h]||"."[p](/()()/)[h]>1||""[p](/.?/)[h]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!n(t))return r.call(i,t,e);for(var a,o,s,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,p=void 0===e?g:e>>>0,v=new RegExp(t.source,u+"g");(a=l.call(v,i))&&!((o=v[m])>d&&(c.push(i.slice(d,a.index)),a[h]>1&&a.index<i[h]&&f.apply(c,a.slice(1)),s=a[0][h],d=o,c[h]>=p));)v[m]===a.index&&v[m]++;return d===i[h]?!s&&v.test("")||c.push(""):c.push(i.slice(d)),c[h]>p?c.slice(0,p):c}:"0"[p](void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:r.call(this,t,e)}:r,[function(r,n){var i=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,i,n):y.call(String(i),r,n)},function(t,e){var n=u(y,t,this,e,y!==r);if(n.done)return n.value;var l=i(t),f=String(this),p=a(l,RegExp),h=l.unicode,m=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),b=new p(v?l:"^(?:"+l.source+")",m),x=void 0===e?g:e>>>0;if(0===x)return[];if(0===f.length)return null===c(b,f)?[f]:[];for(var w=0,A=0,S=[];A<f.length;){b.lastIndex=v?A:0;var E,M=c(b,v?f:f.slice(A));if(null===M||(E=d(s(b.lastIndex+(v?0:A)),f.length))===w)A=o(f,A,h);else{if(S.push(f.slice(w,A)),S.length===x)return S;for(var k=1;k<=M.length-1;k++)if(S.push(M[k]),S.length===x)return S;A=w=E}}return S.push(f.slice(w)),S}]}))},7726:(t,e,r)=>{"use strict";r(8992);var n=r(9204),i=r(9388),a=r(1329),o="toString",s=/./[o],c=function(t){r(1951)(RegExp.prototype,o,t,!0)};r(4308)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?c((function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?i.call(t):void 0)})):s.name!=o&&c((function(){return s.call(this)}))},8255:(t,e,r)=>{"use strict";var n=r(947),i=r(2023);t.exports=r(1405)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(i(this,"Set"),t=0===t?0:t,t)}},n)},9737:(t,e,r)=>{"use strict";r(9686)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},4221:(t,e,r)=>{"use strict";r(9686)("big",(function(t){return function(){return t(this,"big","","")}}))},3641:(t,e,r)=>{"use strict";r(9686)("blink",(function(t){return function(){return t(this,"blink","","")}}))},1522:(t,e,r)=>{"use strict";r(9686)("bold",(function(t){return function(){return t(this,"b","","")}}))},3838:(t,e,r)=>{"use strict";var n=r(3350),i=r(5813)(!1);n(n.P,"String",{codePointAt:function(t){return i(this,t)}})},5786:(t,e,r)=>{"use strict";var n=r(3350),i=r(1773),a=r(9883),o="endsWith",s=""[o];n(n.P+n.F*r(2381)(o),"String",{endsWith:function(t){var e=a(this,t,o),r=arguments.length>1?arguments[1]:void 0,n=i(e.length),c=void 0===r?n:Math.min(i(r),n),l=String(t);return s?s.call(e,l,c):e.slice(c-l.length,c)===l}})},1869:(t,e,r)=>{"use strict";r(9686)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},9196:(t,e,r)=>{"use strict";r(9686)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},800:(t,e,r)=>{"use strict";r(9686)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},9424:(t,e,r)=>{var n=r(3350),i=r(7149),a=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,o=0;n>o;){if(e=+arguments[o++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");r.push(e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320))}return r.join("")}})},4698:(t,e,r)=>{"use strict";var n=r(3350),i=r(9883),a="includes";n(n.P+n.F*r(2381)(a),"String",{includes:function(t){return!!~i(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},4226:(t,e,r)=>{"use strict";r(9686)("italics",(function(t){return function(){return t(this,"i","","")}}))},4405:(t,e,r)=>{"use strict";var n=r(5813)(!0);r(7091)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})}))},3173:(t,e,r)=>{"use strict";r(9686)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},3491:(t,e,r)=>{var n=r(3350),i=r(3057),a=r(1773);n(n.S,"String",{raw:function(t){for(var e=i(t.raw),r=a(e.length),n=arguments.length,o=[],s=0;r>s;)o.push(String(e[s++])),s<n&&o.push(String(arguments[s]));return o.join("")}})},8746:(t,e,r)=>{var n=r(3350);n(n.P,"String",{repeat:r(9582)})},8665:(t,e,r)=>{"use strict";r(9686)("small",(function(t){return function(){return t(this,"small","","")}}))},9765:(t,e,r)=>{"use strict";var n=r(3350),i=r(1773),a=r(9883),o="startsWith",s=""[o];n(n.P+n.F*r(2381)(o),"String",{startsWith:function(t){var e=a(this,t,o),r=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return s?s.call(e,n,r):e.slice(r,r+n.length)===n}})},2420:(t,e,r)=>{"use strict";r(9686)("strike",(function(t){return function(){return t(this,"strike","","")}}))},2614:(t,e,r)=>{"use strict";r(9686)("sub",(function(t){return function(){return t(this,"sub","","")}}))},6977:(t,e,r)=>{"use strict";r(9686)("sup",(function(t){return function(){return t(this,"sup","","")}}))},3168:(t,e,r)=>{"use strict";r(1344)("trim",(function(t){return function(){return t(this,3)}}))},5960:(t,e,r)=>{"use strict";var n=r(2276),i=r(1262),a=r(1329),o=r(3350),s=r(1951),c=r(4787).KEY,l=r(4308),u=r(3259),d=r(6668),f=r(6835),p=r(8076),h=r(3545),m=r(4819),g=r(5084),v=r(7375),y=r(9204),b=r(9603),x=r(6415),w=r(3057),A=r(4276),S=r(9933),E=r(4958),M=r(9563),k=r(154),_=r(1259),T=r(5234),O=r(1720),R=k.f,N=T.f,P=M.f,C=n.Symbol,I=n.JSON,j=I&&I.stringify,F="prototype",L=p("_hidden"),B=p("toPrimitive"),D={}.propertyIsEnumerable,z=u("symbol-registry"),V=u("symbols"),H=u("op-symbols"),G=Object[F],U="function"==typeof C&&!!_.f,W=n.QObject,Y=!W||!W[F]||!W[F].findChild,q=a&&l((function(){return 7!=E(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=R(G,e);n&&delete G[e],N(t,e,r),n&&t!==G&&N(G,e,n)}:N,J=function(t){var e=V[t]=E(C[F]);return e._k=t,e},X=U&&"symbol"==typeof C.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof C},K=function(t,e,r){return t===G&&K(H,e,r),y(t),e=A(e,!0),y(r),i(V,e)?(r.enumerable?(i(t,L)&&t[L][e]&&(t[L][e]=!1),r=E(r,{enumerable:S(0,!1)})):(i(t,L)||N(t,L,S(1,{})),t[L][e]=!0),q(t,e,r)):N(t,e,r)},Z=function(t,e){y(t);for(var r,n=g(e=w(e)),i=0,a=n.length;a>i;)K(t,r=n[i++],e[r]);return t},Q=function(t){var e=D.call(this,t=A(t,!0));return!(this===G&&i(V,t)&&!i(H,t))&&(!(e||!i(this,t)||!i(V,t)||i(this,L)&&this[L][t])||e)},$=function(t,e){if(t=w(t),e=A(e,!0),t!==G||!i(V,e)||i(H,e)){var r=R(t,e);return!r||!i(V,e)||i(t,L)&&t[L][e]||(r.enumerable=!0),r}},tt=function(t){for(var e,r=P(w(t)),n=[],a=0;r.length>a;)i(V,e=r[a++])||e==L||e==c||n.push(e);return n},et=function(t){for(var e,r=t===G,n=P(r?H:w(t)),a=[],o=0;n.length>o;)!i(V,e=n[o++])||r&&!i(G,e)||a.push(V[e]);return a};U||(s((C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(r){this===G&&e.call(H,r),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),q(this,t,S(1,r))};return a&&Y&&q(G,t,{configurable:!0,set:e}),J(t)})[F],"toString",(function(){return this._k})),k.f=$,T.f=K,r(399).f=M.f=tt,r(6418).f=Q,_.f=et,a&&!r(5020)&&s(G,"propertyIsEnumerable",Q,!0),h.f=function(t){return J(p(t))}),o(o.G+o.W+o.F*!U,{Symbol:C});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;rt.length>nt;)p(rt[nt++]);for(var it=O(p.store),at=0;it.length>at;)m(it[at++]);o(o.S+o.F*!U,"Symbol",{for:function(t){return i(z,t+="")?z[t]:z[t]=C(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in z)if(z[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),o(o.S+o.F*!U,"Object",{create:function(t,e){return void 0===e?E(t):Z(E(t),e)},defineProperty:K,defineProperties:Z,getOwnPropertyDescriptor:$,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var ot=l((function(){_.f(1)}));o(o.S+o.F*ot,"Object",{getOwnPropertySymbols:function(t){return _.f(x(t))}}),I&&o(o.S+o.F*(!U||l((function(){var t=C();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))}))),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(b(e)||void 0!==t)&&!X(t))return v(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!X(e))return e}),n[1]=e,j.apply(I,n)}}),C[F][B]||r(9247)(C[F],B,C[F].valueOf),d(C,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},4015:(t,e,r)=>{"use strict";var n=r(3350),i=r(1089),a=r(6019),o=r(9204),s=r(7149),c=r(1773),l=r(9603),u=r(2276).ArrayBuffer,d=r(7302),f=a.ArrayBuffer,p=a.DataView,h=i.ABV&&u.isView,m=f.prototype.slice,g=i.VIEW,v="ArrayBuffer";n(n.G+n.W+n.F*(u!==f),{ArrayBuffer:f}),n(n.S+n.F*!i.CONSTR,v,{isView:function(t){return h&&h(t)||l(t)&&g in t}}),n(n.P+n.U+n.F*r(4308)((function(){return!new f(2).slice(1,void 0).byteLength})),v,{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(o(this),t);for(var r=o(this).byteLength,n=s(t,r),i=s(void 0===e?r:e,r),a=new(d(this,f))(c(i-n)),l=new p(this),u=new p(a),h=0;n<i;)u.setUint8(h++,l.getUint8(n++));return a}}),r(6538)(v)},9294:(t,e,r)=>{var n=r(3350);n(n.G+n.W+n.F*!r(1089).ABV,{DataView:r(6019).DataView})},7708:(t,e,r)=>{r(8933)("Float32",4,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},5780:(t,e,r)=>{r(8933)("Float64",8,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},303:(t,e,r)=>{r(8933)("Int16",2,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},4302:(t,e,r)=>{r(8933)("Int32",4,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},2493:(t,e,r)=>{r(8933)("Int8",1,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},4127:(t,e,r)=>{r(8933)("Uint16",2,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},7200:(t,e,r)=>{r(8933)("Uint32",4,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},8276:(t,e,r)=>{r(8933)("Uint8",1,(function(t){return function(e,r,n){return t(this,e,r,n)}}))},3179:(t,e,r)=>{r(8933)("Uint8",1,(function(t){return function(e,r,n){return t(this,e,r,n)}}),!0)},7729:(t,e,r)=>{"use strict";var n,i=r(2276),a=r(2026)(0),o=r(1951),s=r(4787),c=r(7288),l=r(5268),u=r(9603),d=r(2023),f=r(2023),p=!i.ActiveXObject&&"ActiveXObject"in i,h="WeakMap",m=s.getWeak,g=Object.isExtensible,v=l.ufstore,y=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(u(t)){var e=m(t);return!0===e?v(d(this,h)).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(d(this,h),t,e)}},x=t.exports=r(1405)(h,y,b,l,!0,!0);f&&p&&(c((n=l.getConstructor(y,h)).prototype,b),s.NEED=!0,a(["delete","has","get","set"],(function(t){var e=x.prototype,r=e[t];o(e,t,(function(e,i){if(u(e)&&!g(e)){this._f||(this._f=new n);var a=this._f[t](e,i);return"set"==t?this:a}return r.call(this,e,i)}))})))},5612:(t,e,r)=>{"use strict";var n=r(5268),i=r(2023),a="WeakSet";r(1405)(a,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return n.def(i(this,a),t,!0)}},n,!1,!0)},518:(t,e,r)=>{"use strict";var n=r(3350),i=r(7849),a=r(6415),o=r(1773),s=r(8304),c=r(4164);n(n.P,"Array",{flatMap:function(t){var e,r,n=a(this);return s(t),e=o(n.length),r=c(n,0),i(r,n,n,e,0,1,t,arguments[1]),r}}),r(6224)("flatMap")},4472:(t,e,r)=>{"use strict";var n=r(3350),i=r(7849),a=r(6415),o=r(1773),s=r(9677),c=r(4164);n(n.P,"Array",{flatten:function(){var t=arguments[0],e=a(this),r=o(e.length),n=c(e,0);return i(n,e,e,r,0,void 0===t?1:s(t)),n}}),r(6224)("flatten")},7215:(t,e,r)=>{"use strict";var n=r(3350),i=r(3997)(!0);n(n.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(6224)("includes")},1116:(t,e,r)=>{var n=r(3350),i=r(6787)(),a=r(2276).process,o="process"==r(9519)(a);n(n.G,{asap:function(t){var e=o&&a.domain;i(e?e.bind(t):t)}})},965:(t,e,r)=>{var n=r(3350),i=r(9519);n(n.S,"Error",{isError:function(t){return"Error"===i(t)}})},338:(t,e,r)=>{var n=r(3350);n(n.G,{global:r(2276)})},7920:(t,e,r)=>{r(8846)("Map")},7122:(t,e,r)=>{r(3281)("Map")},7841:(t,e,r)=>{var n=r(3350);n(n.P+n.R,"Map",{toJSON:r(5741)("Map")})},359:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{clamp:function(t,e,r){return Math.min(r,Math.max(e,t))}})},4416:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},9914:(t,e,r)=>{var n=r(3350),i=180/Math.PI;n(n.S,"Math",{degrees:function(t){return t*i}})},7154:(t,e,r)=>{var n=r(3350),i=r(6030),a=r(5600);n(n.S,"Math",{fscale:function(t,e,r,n,o){return a(i(t,e,r,n,o))}})},8851:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{iaddh:function(t,e,r,n){var i=t>>>0,a=r>>>0;return(e>>>0)+(n>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},6594:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{imulh:function(t,e){var r=65535,n=+t,i=+e,a=n&r,o=i&r,s=n>>16,c=i>>16,l=(s*o>>>0)+(a*o>>>16);return s*c+(l>>16)+((a*c>>>0)+(l&r)>>16)}})},928:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{isubh:function(t,e,r,n){var i=t>>>0,a=r>>>0;return(e>>>0)-(n>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},4180:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},2407:(t,e,r)=>{var n=r(3350),i=Math.PI/180;n(n.S,"Math",{radians:function(t){return t*i}})},7554:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{scale:r(6030)})},2123:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},2872:(t,e,r)=>{var n=r(3350);n(n.S,"Math",{umulh:function(t,e){var r=65535,n=+t,i=+e,a=n&r,o=i&r,s=n>>>16,c=i>>>16,l=(s*o>>>0)+(a*o>>>16);return s*c+(l>>>16)+((a*c>>>0)+(l&r)>>>16)}})},2751:(t,e,r)=>{"use strict";var n=r(3350),i=r(6415),a=r(8304),o=r(5234);r(1329)&&n(n.P+r(8358),"Object",{__defineGetter__:function(t,e){o.f(i(this),t,{get:a(e),enumerable:!0,configurable:!0})}})},5853:(t,e,r)=>{"use strict";var n=r(3350),i=r(6415),a=r(8304),o=r(5234);r(1329)&&n(n.P+r(8358),"Object",{__defineSetter__:function(t,e){o.f(i(this),t,{set:a(e),enumerable:!0,configurable:!0})}})},1024:(t,e,r)=>{var n=r(3350),i=r(1305)(!0);n(n.S,"Object",{entries:function(t){return i(t)}})},4654:(t,e,r)=>{var n=r(3350),i=r(7738),a=r(3057),o=r(154),s=r(2122);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,r,n=a(t),c=o.f,l=i(n),u={},d=0;l.length>d;)void 0!==(r=c(n,e=l[d++]))&&s(u,e,r);return u}})},6993:(t,e,r)=>{"use strict";var n=r(3350),i=r(6415),a=r(4276),o=r(9565),s=r(154).f;r(1329)&&n(n.P+r(8358),"Object",{__lookupGetter__:function(t){var e,r=i(this),n=a(t,!0);do{if(e=s(r,n))return e.get}while(r=o(r))}})},2244:(t,e,r)=>{"use strict";var n=r(3350),i=r(6415),a=r(4276),o=r(9565),s=r(154).f;r(1329)&&n(n.P+r(8358),"Object",{__lookupSetter__:function(t){var e,r=i(this),n=a(t,!0);do{if(e=s(r,n))return e.set}while(r=o(r))}})},9830:(t,e,r)=>{var n=r(3350),i=r(1305)(!1);n(n.S,"Object",{values:function(t){return i(t)}})},3881:(t,e,r)=>{"use strict";var n=r(3350),i=r(2276),a=r(7984),o=r(6787)(),s=r(8076)("observable"),c=r(8304),l=r(9204),u=r(264),d=r(4584),f=r(9247),p=r(1725),h=p.RETURN,m=function(t){return null==t?void 0:c(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},y=function(t){v(t)||(t._o=void 0,g(t))},b=function(t,e){l(t),this._c=void 0,this._o=t,t=new x(this);try{var r=e(t),n=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){n.unsubscribe()}:c(r),this._c=r)}catch(e){return void t.error(e)}v(this)&&g(this)};b.prototype=d({},{unsubscribe:function(){y(this)}});var x=function(t){this._s=t};x.prototype=d({},{next:function(t){var e=this._s;if(!v(e)){var r=e._o;try{var n=m(r.next);if(n)return n.call(r,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var r=e._o;e._o=void 0;try{var n=m(r.error);if(!n)throw t;t=n.call(r,t)}catch(t){try{g(e)}finally{throw t}}return g(e),t},complete:function(t){var e=this._s;if(!v(e)){var r=e._o;e._o=void 0;try{var n=m(r.complete);t=n?n.call(r,t):void 0}catch(t){try{g(e)}finally{throw t}}return g(e),t}}});var w=function(t){u(this,w,"Observable","_f")._f=c(t)};d(w.prototype,{subscribe:function(t){return new b(t,this._f)},forEach:function(t){var e=this;return new(a.Promise||i.Promise)((function(r,n){c(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(t){n(t),i.unsubscribe()}},error:n,complete:r})}))}}),d(w,{from:function(t){var e="function"==typeof this?this:w,r=m(l(t)[s]);if(r){var n=l(r.call(t));return n.constructor===e?n:new e((function(t){return n.subscribe(t)}))}return new e((function(e){var r=!1;return o((function(){if(!r){try{if(p(t,!1,(function(t){if(e.next(t),r)return h}))===h)return}catch(t){if(r)throw t;return void e.error(t)}e.complete()}})),function(){r=!0}}))},of:function(){for(var t=0,e=arguments.length,r=new Array(e);t<e;)r[t]=arguments[t++];return new("function"==typeof this?this:w)((function(t){var e=!1;return o((function(){if(!e){for(var n=0;n<r.length;++n)if(t.next(r[n]),e)return;t.complete()}})),function(){e=!0}}))}}),f(w.prototype,s,(function(){return this})),n(n.G,{Observable:w}),r(6538)("Observable")},3753:(t,e,r)=>{"use strict";var n=r(3350),i=r(7984),a=r(2276),o=r(7302),s=r(1650);n(n.P+n.R,"Promise",{finally:function(t){var e=o(this,i.Promise||a.Promise),r="function"==typeof t;return this.then(r?function(r){return s(e,t()).then((function(){return r}))}:t,r?function(r){return s(e,t()).then((function(){throw r}))}:t)}})},6604:(t,e,r)=>{"use strict";var n=r(3350),i=r(8176),a=r(6518);n(n.S,"Promise",{try:function(t){var e=i.f(this),r=a(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}})},1350:(t,e,r)=>{var n=r(9966),i=r(9204),a=n.key,o=n.set;n.exp({defineMetadata:function(t,e,r,n){o(t,e,i(r),a(n))}})},9198:(t,e,r)=>{var n=r(9966),i=r(9204),a=n.key,o=n.map,s=n.store;n.exp({deleteMetadata:function(t,e){var r=arguments.length<3?void 0:a(arguments[2]),n=o(i(e),r,!1);if(void 0===n||!n.delete(t))return!1;if(n.size)return!0;var c=s.get(e);return c.delete(r),!!c.size||s.delete(e)}})},8935:(t,e,r)=>{var n=r(8255),i=r(9349),a=r(9966),o=r(9204),s=r(9565),c=a.keys,l=a.key,u=function(t,e){var r=c(t,e),a=s(t);if(null===a)return r;var o=u(a,e);return o.length?r.length?i(new n(r.concat(o))):o:r};a.exp({getMetadataKeys:function(t){return u(o(t),arguments.length<2?void 0:l(arguments[1]))}})},2441:(t,e,r)=>{var n=r(9966),i=r(9204),a=r(9565),o=n.has,s=n.get,c=n.key,l=function(t,e,r){if(o(t,e,r))return s(t,e,r);var n=a(e);return null!==n?l(t,n,r):void 0};n.exp({getMetadata:function(t,e){return l(t,i(e),arguments.length<3?void 0:c(arguments[2]))}})},1265:(t,e,r)=>{var n=r(9966),i=r(9204),a=n.keys,o=n.key;n.exp({getOwnMetadataKeys:function(t){return a(i(t),arguments.length<2?void 0:o(arguments[1]))}})},3499:(t,e,r)=>{var n=r(9966),i=r(9204),a=n.get,o=n.key;n.exp({getOwnMetadata:function(t,e){return a(t,i(e),arguments.length<3?void 0:o(arguments[2]))}})},7139:(t,e,r)=>{var n=r(9966),i=r(9204),a=r(9565),o=n.has,s=n.key,c=function(t,e,r){if(o(t,e,r))return!0;var n=a(e);return null!==n&&c(t,n,r)};n.exp({hasMetadata:function(t,e){return c(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},5351:(t,e,r)=>{var n=r(9966),i=r(9204),a=n.has,o=n.key;n.exp({hasOwnMetadata:function(t,e){return a(t,i(e),arguments.length<3?void 0:o(arguments[2]))}})},3925:(t,e,r)=>{var n=r(9966),i=r(9204),a=r(8304),o=n.key,s=n.set;n.exp({metadata:function(t,e){return function(r,n){s(t,e,(void 0!==n?i:a)(r),o(n))}}})},9788:(t,e,r)=>{r(8846)("Set")},3765:(t,e,r)=>{r(3281)("Set")},1011:(t,e,r)=>{var n=r(3350);n(n.P+n.R,"Set",{toJSON:r(5741)("Set")})},8597:(t,e,r)=>{"use strict";var n=r(3350),i=r(5813)(!0),a=r(4308)((function(){return"𠮷"!=="𠮷".at(0)}));n(n.P+n.F*a,"String",{at:function(t){return i(this,t)}})},3452:(t,e,r)=>{"use strict";var n=r(3350),i=r(2099),a=r(1773),o=r(5119),s=r(9388),c=RegExp.prototype,l=function(t,e){this._r=t,this._s=e};r(4434)(l,"RegExp String",(function(){var t=this._r.exec(this._s);return{value:t,done:null===t}})),n(n.P,"String",{matchAll:function(t){if(i(this),!o(t))throw TypeError(t+" is not a regexp!");var e=String(this),r="flags"in c?String(t.flags):s.call(t),n=new RegExp(t.source,~r.indexOf("g")?r:"g"+r);return n.lastIndex=a(t.lastIndex),new l(n,e)}})},1417:(t,e,r)=>{"use strict";var n=r(3350),i=r(466),a=r(8160),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*o,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},3378:(t,e,r)=>{"use strict";var n=r(3350),i=r(466),a=r(8160),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*o,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},2110:(t,e,r)=>{"use strict";r(1344)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},1133:(t,e,r)=>{"use strict";r(1344)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},5918:(t,e,r)=>{r(4819)("asyncIterator")},5475:(t,e,r)=>{r(4819)("observable")},9038:(t,e,r)=>{var n=r(3350);n(n.S,"System",{global:r(2276)})},1817:(t,e,r)=>{r(8846)("WeakMap")},6510:(t,e,r)=>{r(3281)("WeakMap")},4222:(t,e,r)=>{r(8846)("WeakSet")},3388:(t,e,r)=>{r(3281)("WeakSet")},7998:(t,e,r)=>{for(var n=r(4287),i=r(1720),a=r(1951),o=r(2276),s=r(9247),c=r(479),l=r(8076),u=l("iterator"),d=l("toStringTag"),f=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),m=0;m<h.length;m++){var g,v=h[m],y=p[v],b=o[v],x=b&&b.prototype;if(x&&(x[u]||s(x,u,f),x[d]||s(x,d,v),c[v]=f,y))for(g in n)x[g]||a(x,g,n[g],!0)}},8192:(t,e,r)=>{var n=r(3350),i=r(9770);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},151:(t,e,r)=>{var n=r(2276),i=r(3350),a=r(8160),o=[].slice,s=/MSIE .\./.test(a),c=function(t){return function(e,r){var n=arguments.length>2,i=!!n&&o.call(arguments,2);return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,r)}};i(i.G+i.B+i.F*s,{setTimeout:c(n.setTimeout),setInterval:c(n.setInterval)})},412:(t,e,r)=>{r(5960),r(7165),r(6355),r(4825),r(7979),r(3953),r(7622),r(5822),r(9047),r(2291),r(8407),r(7863),r(7879),r(354),r(1768),r(4036),r(6742),r(6216),r(2552),r(6765),r(4523),r(4163),r(4641),r(183),r(9354),r(3642),r(5343),r(1154),r(5441),r(9960),r(796),r(5028),r(6265),r(7011),r(4335),r(6362),r(4220),r(2132),r(1502),r(4018),r(7278),r(7704),r(6055),r(7966),r(7382),r(7100),r(2391),r(4732),r(4849),r(3112),r(1124),r(8165),r(9424),r(3491),r(3168),r(4405),r(3838),r(5786),r(4698),r(8746),r(9765),r(9737),r(4221),r(3641),r(1522),r(1869),r(9196),r(800),r(4226),r(3173),r(8665),r(2420),r(2614),r(6977),r(7516),r(2411),r(6908),r(2803),r(8473),r(7842),r(1624),r(9597),r(2109),r(6876),r(1148),r(1039),r(1982),r(9901),r(1846),r(2642),r(4236),r(2633),r(896),r(4128),r(6192),r(7699),r(8758),r(2650),r(8402),r(4287),r(8957),r(5761),r(7726),r(8992),r(1165),r(2928),r(1272),r(2094),r(837),r(468),r(8255),r(7729),r(5612),r(4015),r(9294),r(2493),r(8276),r(3179),r(303),r(4127),r(4302),r(7200),r(7708),r(5780),r(5886),r(7079),r(1712),r(8753),r(8629),r(3873),r(2211),r(4848),r(7080),r(4559),r(8524),r(9019),r(599),r(8874),r(7215),r(518),r(4472),r(8597),r(3378),r(1417),r(2110),r(1133),r(3452),r(5918),r(5475),r(4654),r(9830),r(1024),r(2751),r(5853),r(6993),r(2244),r(7841),r(1011),r(7122),r(3765),r(6510),r(3388),r(7920),r(9788),r(1817),r(4222),r(338),r(9038),r(965),r(359),r(4416),r(9914),r(7154),r(8851),r(928),r(6594),r(4180),r(2407),r(7554),r(2872),r(2123),r(3753),r(6604),r(1350),r(9198),r(2441),r(8935),r(3499),r(1265),r(7139),r(5351),r(3925),r(1116),r(3881),r(151),r(8192),r(7998),t.exports=r(7984)},7588:function(t,e,r){!function(e){"use strict";var r,n=Object.prototype,i=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",l=e.regeneratorRuntime;if(l)t.exports=l;else{(l=e.regeneratorRuntime=t.exports).wrap=b;var u="suspendedStart",d="suspendedYield",f="executing",p="completed",h={},m={};m[o]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(R([])));v&&v!==n&&i.call(v,o)&&(m=v);var y=S.prototype=w.prototype=Object.create(m);A.prototype=y.constructor=S,S.constructor=A,S[c]=A.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===A||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(y),t},l.awrap=function(t){return{__await:t}},E(M.prototype),M.prototype[s]=function(){return this},l.AsyncIterator=M,l.async=function(t,e,r,n){var i=new M(b(t,e,r,n));return l.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(y),y[c]="Generator",y[o]=function(){return this},y.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},l.values=R,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return s.type="throw",s.arg=t,e.next=n,i&&(e.method="next",e.arg=r),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:R(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),h}}}function b(t,e,r,n){var i=e&&e.prototype instanceof w?e:w,a=Object.create(i.prototype),o=new O(n||[]);return a._invoke=function(t,e,r){var n=u;return function(i,a){if(n===f)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw a;return N()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=k(o,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===u)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var c=x(t,e,r);if("normal"===c.type){if(n=r.done?p:d,c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=p,r.method="throw",r.arg=c.arg)}}}(t,r,o),a}function x(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function w(){}function A(){}function S(){}function E(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function M(t){function r(e,n,a,o){var s=x(t[e],t,n);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then((function(t){r("next",t,a,o)}),(function(t){r("throw",t,a,o)})):Promise.resolve(l).then((function(t){c.value=t,a(c)}),o)}o(s.arg)}var n;"object"==typeof e.process&&e.process.domain&&(r=e.process.domain.bind(r)),this._invoke=function(t,e){function i(){return new Promise((function(n,i){r(t,e,n,i)}))}return n=n?n.then(i,i):i()}}function k(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,k(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=x(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,h):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function R(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:N}}function N(){return{value:r,done:!0}}}("object"==typeof r.g?r.g:"object"==typeof window?window:"object"==typeof self?self:this)},7844:(t,e,r)=>{function n(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s=r(5199),c=(r(5394),r(4766).segmentVariants);function l(t){for(var e=t.objectMixinId,r=void 0===e?"":e,n=t.parentEl,i=void 0===n?null:n,a=t.step,o=void 0===a?15:a,s=t.radius,c=void 0===s?60:s,l=t.rotation,u=void 0===l?"0 0 0":l,d=t.positionXYString,f=void 0===d?"0 0":d,p=t.length,h=void 0===p?void 0:p,m=t.randomY,g=void 0!==m&&m,v=-1*c;v<=c;v+=o){var y=document.createElement("a-entity");y.setAttribute("mixin",r),y.setAttribute("class",r),y.setAttribute("position",f+" "+v),h&&y.addEventListener("loaded",(function(t){t.target.setAttribute("geometry","height",h),t.target.setAttribute("atlas-uvs","c",1)})),g?y.setAttribute("rotation","0 "+Math.floor(361*Math.random())+" 0"):y.setAttribute("rotation",u),i.append(y)}}function u(t){var e=document.createElement("a-entity");return e.setAttribute("class","stencils-parent"),e.setAttribute("position",t),e}function d(t,e){var r=document.createElement("a-entity"),n={primitive:"box",depth:t,width:.1,height:.2};return r.setAttribute("geometry",n),r.setAttribute("material",{color:"#8f8f8f",metalness:1,emissive:"#828282",emissiveIntensity:.5,roughness:.1}),r.setAttribute("class","rails"),r.setAttribute("shadow","receive:true; cast: true"),r.setAttribute("position",e+" 0.2 0"),r}function f(t,e){var r=document.createElement("a-entity");r.setAttribute("class","track-parent"),r.setAttribute("position","0 -0.2 0");var n={tram:.7175,trolley:.5335}[e];return r.append(d(t,n)),r.append(d(t,-n)),r}function p(t){var e=document.createElement("a-entity");return e.setAttribute("class",t),e}function h(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2.25,n=p("dividers-".concat(t,"-parent"));return l({objectMixinId:"dividers-".concat(t),parentEl:n,step:r,radius:e}),n}function m(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2.25,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0 0 0",i=p("".concat(t,"-parent"));return l({objectMixinId:t,parentEl:i,step:r,radius:e,rotation:n}),i}function g(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1)+t)}function v(t,e){return Math.random()*(e-t)+t}function y(t,e,r){var n=Math.floor((e-t)/r)+1;return Array(n).fill().map((function(e,n){return t+n*r})).sort((function(){return.5-Math.random()}))}function b(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"random",a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=[-.37*t,.37*t],s=y(-.5*n,.5*n,1.5),c=parseInt({empty:0,sparse:.03,normal:.125,dense:.25}[e]*n,10),l=p("pedestrians-parent");l.setAttribute("position",{y:r});for(var u=0;u<c;u++){var d=!0===a?"a_char"+String(g(1,8)):"char"+String(g(1,16)),f=v(o[0],o[1]),h=s.pop(),m=document.createElement("a-entity"),b="inbound";m.setAttribute("position",{x:f,y:0,z:h}),m.setAttribute("mixin",d),Math.random()<.5&&"random"===i&&(m.setAttribute("rotation","0 180 0"),b="outbound"),a&&E(m,1.4,n,f,0,h,b),l.append(m)}return l}function x(t){return"colored"===t|"red"===t?"surface-red bus-lane":"blue"===t?"surface-blue bus-lane":"grass"===t?"surface-green bus-lane":"bus-lane"}function w(t,e,r){var n,i,a,o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,c=t.object3D,l=s||(n=c,i=(new THREE.Box3).setFromObject(n),{x:i.max.x-i.min.x,y:i.max.y-i.min.y,z:i.max.z-i.min.z})[e],u={start:-.5*(a=r)+.5*(o=l),end:.5*a-.5*o},d=u.start,f=u.end,p="set".concat(e.toUpperCase()),h=v(d,f);return c.position[p](h),h}function A(t,e,r,n){if(n){var i="inbound"===t[0]?0:180,a=document.createElement("a-entity");a.setAttribute("rotation","0 "+i+" 0"),a.setAttribute("mixin",e),a.setAttribute("class",e);var o=w(a,"z",r,23);return a.setAttribute("position","0 0 "+o),a}}function S(t,e,r){if(r){var n="inbound"===t[0]?0:180,i=document.createElement("a-entity"),a=document.createElement("a-entity");a.setAttribute("rotation","0 "+n+" 0"),a.setAttribute("mixin","bus");var o=w(a,"z",e,12);return a.setAttribute("position","0 0 "+o),i.append(a),i}}function E(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,o=r/e*1e3,s="outbound"===(arguments.length>6?arguments[6]:void 0)?-r/2:r/2,c=Math.abs(s-a)/e*1e3,l={property:"position",easing:"linear",loop:"false",from:{x:n,y:i,z:a},to:{z:s},dur:c},u={property:"position",easing:"linear",loop:"true",from:{x:n,y:i,z:-s},to:{x:n,y:i,z:s},delay:c,dur:o};return t.setAttribute("animation__1",l),t.setAttribute("animation__2",u),t}function M(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;if(!(arguments.length>4&&void 0!==arguments[4])||arguments[4]){var s=0,c=i(t,3),l=c[0],u=c[1],d=c[2];2===t.length&&(d=u,u=l);var f,p={inbound:0,outbound:180,sideways:{left:-90,right:90},"angled-front-left":-60,"angled-front-right":60,"angled-rear-left":-120,"angled-rear-right":120};if(f="sideways"==l?p.sideways[u]:p[l],"pedestrian"===d)return b(e,"normal",0,r,u,n);var h=document.createElement("a-entity");if(1==t.length)return h;var m={car:{mixin:"sedan-rig",wheelDiameter:.76,length:5.17,width:2},microvan:{mixin:"suv-rig",wheelDiameter:.84,length:5,width:2},truck:{mixin:"box-truck-rig",wheelDiameter:1.05,length:6.95,width:2.5},av:{mixin:"self-driving-cruise-car-rig",wheelDiameter:.76,length:5.17,width:2}};if(m[d]||(d="car"),a>1){var g=r/2,v=o/2+o,x=y(-g+v,g-v,o).slice(0,a),A="sideways"==l||l.includes("angled")?"width":"length",S=m[d][A];x.forEach((function(t){var e=o-S-.2,r=-e/2+e*Math.random();e>0&&M(t+r,d)}))}else M(void 0,d);return h}function M(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=m[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"car"],i=document.createElement("a-entity");return t||(t=w(i,"z",r,e.length)),i.setAttribute("position","0 0 ".concat(t)),i.setAttribute("mixin",e.mixin),i.setAttribute("rotation","0 ".concat(f," 0")),n&&(s=5,i.setAttribute("wheel",{speed:s,wheelDiameter:e.wheelDiameter}),E(i,s,r,0,0,t,u)),h.append(i),i}}function k(t,e){var r=document.createElement("a-entity"),n=document.createElement("a-entity"),i="left"===t[0]?0:180;n.setAttribute("rotation","0 "+i+" 0"),n.setAttribute("mixin","food-trailer-rig");var a=w(n,"z",e,7);return n.setAttribute("positon","0 0 "+a),r.append(n),r}function _(t){if(t){var e=document.createElement("a-entity"),r=document.createElement("a-entity");r.setAttribute("position","0 1.75 0"),r.setAttribute("rotation","0 0 0"),r.setAttribute("mixin","magic-carpet"),e.append(r);var n=document.createElement("a-entity");return n.setAttribute("position","0 1.75 0"),n.setAttribute("rotation","0 0 0"),n.setAttribute("mixin","Character_1_M"),e.append(n),e}}function T(t,e,r){var n=e/2+e;return y(-t/2+n/2,t/2-n/2,n).slice(0,r)}function O(t,e){var r=document.createElement("a-entity");return T(t,2.27,5).forEach((function(t){var n=document.createElement("a-entity");n.setAttribute("mixin","outdoor_dining"),n.setAttribute("position",{y:e,z:t}),r.append(n)})),r}function R(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(arguments.length>4?arguments[4]:void 0){var a=document.createElement("a-entity"),o=g(2,5),s=["cyclist-cargo","cyclist1","cyclist2","cyclist3","cyclist-dutch","cyclist-kid"],c=s.length,l="Bicycle_1";return T(n,2.03,o).forEach((function(o){var u=document.createElement("a-entity"),d="inbound"===t[0]?0:180;if(u.setAttribute("rotation","0 "+d+" 0"),u.setAttribute("position",{y:r,z:o}),i){u.setAttribute("animation-mixer","");E(u,5,n,0,r,o,t[0])}l="bike-lane"===e?s[g(0,c)]:"ElectricScooter_1",u.setAttribute("mixin",l),a.append(u)})),a}}function N(t,e){if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){var r=document.createElement("a-entity");return T(e,5,g(2,4)).forEach((function(e){var n=document.createElement("a-entity"),i="inbound"===t[1]?0:180;n.setAttribute("rotation","0 "+i+" 0"),"taxi"===t[0]?n.setAttribute("mixin","sedan-taxi-rig"):"rideshare"===t[0]&&n.setAttribute("mixin","sedan-rig"),n.setAttribute("position",{z:e}),r.append(n)})),r}}function P(){var t=document.createElement("a-entity");return t.setAttribute("class","bench-parent"),t.setAttribute("position","0 0.2 3.5"),t}function C(t){var e=document.createElement("a-entity");return e.setAttribute("class","bikerack-parent"),e.setAttribute("position",{y:t,z:-3.5}),e}function I(t,e){var r=document.createElement("a-entity");r.setAttribute("class","bikeshare"),r.setAttribute("mixin","bikeshare");var n="left"===t[0]?90:270;return r.setAttribute("rotation","0 "+n+" 0"),r.setAttribute("position",{y:e}),r}function j(t,e){var r=document.createElement("a-entity");return T(t,4.03,3).forEach((function(t){var n=document.createElement("a-entity");n.setAttribute("class","parklet"),n.setAttribute("position",{x:0,y:.02,z:t}),n.setAttribute("mixin","parklet");var i="left"===e[0]?90:270;n.setAttribute("rotation",{y:i}),r.append(n)})),r}function F(){var t=document.createElement("a-entity");return t.setAttribute("class","tree-parent"),t.setAttribute("position","0 0.2 7"),t}function L(){var t=document.createElement("a-entity");return t.setAttribute("class","lamp-parent"),t.setAttribute("position","0 0.2 0"),t}function B(t,e){var r=document.createElement("a-entity");return r.setAttribute("class","bus-stop"),r.setAttribute("rotation","0 "+t+" 0"),r.setAttribute("mixin","bus-stop"),r.setAttribute("position",{y:e}),r}function D(){var t=document.createElement("a-entity");return t.setAttribute("class","brt-station"),t.setAttribute("mixin","brt-station"),t}function z(t,e,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=document.createElement("a-entity"),s=[.2,.4,.6][a];return 0===a?e=-.1:2===a&&(e=.1),o.setAttribute("geometry","primitive: box; \n    height: ".concat(s,"; \n    depth: ").concat(n,";\n    width: ").concat(t,";")),o.setAttribute("position",{y:e}),o.setAttribute("mixin",r),0!==i.length&&o.setAttribute("material","repeat: ".concat(i[0]," ").concat(i[1])),o}function V(t,e,r,n,i){var a=document.createElement("a-entity"),o="1 "+n/150+" 1";return a.setAttribute("rotation","270 "+e+" 0"),a.setAttribute("scale",o),a.setAttribute("position","0 "+t+" 0"),a.setAttribute("mixin",r),0!==i.length&&a.setAttribute("material","repeat: ".concat(i[0]," ").concat(i[1])),a}function H(t,e){if("separator"!=t){var r=c[t];r?r.includes(e)||(STREET.notify.warningMessage("The '".concat(e,"' variant of segment '").concat(t,"' is not yet supported in 3DStreet")),console.log("The '".concat(e,"' variant of segment '").concat(t,"' is not yet supported in 3DStreet"))):(STREET.notify.warningMessage("The '".concat(t,"' segment type is not yet supported in 3DStreet")),console.log("The '".concat(t,"' segment type is not yet supported in 3DStreet")))}}t.exports.processSegments=function(t,e,r,i,a){var o=r/2;r>12&&(o=(r-12)/2),e&&(t=function(t){function e(t){return"lane"===t.slice(t.length-4)||"light-rail"===t||"streetcar"===t||"flex-zone"===t}return t.reduce((function(t,r,n,i){if(0===n)return t.concat(r);var a=i[n-1];if(e(r.type)&&e(a.type)){var o="solid";r.type===a.type&&(o="dashed"),("drive-lane"===r.type&&"turn-lane"===a.type||"drive-lane"===a.type&&"turn-lane"===r.type)&&(o="dashed"),r.variantString.split("|")[0]!==a.variantString.split("|")[0]&&(o="doubleyellow","bike-lane"===r.type&&"bike-lane"===a.type&&(o="shortdashedyellow"),"flex-zone"!==r.type&&"flex-zone"!==a.type||(o="solid")),"turn-lane"===r.type&&"shared"===r.variantString.split("|")[1]?o="soliddashedyellow":"turn-lane"===a.type&&"shared"===a.variantString.split("|")[1]&&(o="soliddashedyellowinverted"),"parking-lane"!==r.type&&"parking-lane"!==a.type||(o="invisible"),t.push({type:"separator",variantString:o,width:0,elevation:r.elevation})}return(e(r.type)&&"divider"===a.type||e(a.type)&&"divider"===r.type)&&t.push({type:"separator",variantString:"solid",width:0,elevation:r.elevation}),t.push(r),t}),[])}(t));var c=function(t){var e=document.createElement("a-entity"),r=0-t.reduce((function(t,e){return t+e.width}),0)/2;return e.setAttribute("position",r+" 0 0"),e}(t);c.classList.add("street-parent"),c.setAttribute("data-layer-name","Street Segments Container");for(var d,p,v,y,w=0,E=0;E<t.length;E++){var T=document.createElement("a-entity");T.classList.add("segment-parent-"+E);var G=t[E].width,U=(w+=G)-.5*G,W=0,Y=t[E].variantString?t[E].variantString.split("|"):"";H(t[E].type,t[E].variantString);var q=t[E].elevation;elevationLevels=[0,.2,.4];var J=elevationLevels[q],X="inbound"===Y[0]||"inbound"===Y[1]?180:0,K="outbound"===Y[0]||"outbound"===Y[1]?1:-1,Z=t[E].type,Q=[];if("drive-lane"===t[E].type&&"sharrow"===Y[1]){var $=u({y:J+.015});l({objectMixinId:"stencils sharrow",parentEl:$,rotation:"-90 "+X+" 0",step:10,radius:o}),T.append($)}else if("bike-lane"===t[E].type||"scooter"===t[E].type){var tt=u({y:J+.015});Z="red"===(y=Y[1])?"surface-red bike-lane":"blue"===y?"surface-blue bike-lane":"green"===y?"surface-green bike-lane":"bike-lane",l({objectMixinId:"stencils bike-arrow",parentEl:tt,rotation:"-90 "+X+" 0",step:20,radius:o}),T.append(tt),T.append(R(Y,t[E].type,J,r,a,i))}else if("light-rail"===t[E].type||"streetcar"===t[E].type){Z=x(Y[1]);var et="streetcar"===t[E].type?"trolley":"tram";T.append(A(Y,et,r,a));var rt=f(r,et);T.append(rt)}else if("turn-lane"===t[E].type){Z="drive-lane";var nt=Y[1];"inbound"===Y[0]&&(nt=nt.replace(/left|right/g,(function(t){return"left"===t?"right":"left"}))),"shared"===Y[1]&&(nt="left"),"left-right-straight"===Y[1]&&(nt="all");var it="stencils "+nt,at=u({y:J+.015});if(l({objectMixinId:it,parentEl:at,rotation:"-90 "+X+" 0",step:15,radius:o}),T.append(at),"shared"===Y[1]){var ot=u({y:J+.015,z:-3*K});l({objectMixinId:it,parentEl:ot,rotation:"-90 "+(X+180)+" 0",step:15,radius:o}),T.append(ot)}}else if("divider"===t[E].type&&"bollard"===Y[0]){Z="divider";var st=(v=void 0,(v=document.createElement("a-entity")).setAttribute("class","safehit-parent"),v);l({objectMixinId:"safehit",parentEl:st,step:4,radius:o}),T.append(st),Q[0]=1,Q[1]=parseInt(r)/4}else if("divider"===t[E].type&&"flowers"===Y[0])Z="grass",T.append(h("flowers",o,2.25));else if("divider"===t[E].type&&"planting-strip"===Y[0])Z="grass",T.append(h("planting-strip",o,2.25));else if("divider"===t[E].type&&"planter-box"===Y[0])Z="grass",T.append(h("planter-box",o,2.45));else if("divider"===t[E].type&&"palm-tree"===Y[0]){Z="grass";var ct=F();l({objectMixinId:"palm-tree",parentEl:ct,randomY:!0,radius:o}),T.append(ct)}else if("divider"===t[E].type&&"big-tree"===Y[0]){Z="grass";var lt=F();l({objectMixinId:"tree3",parentEl:lt,randomY:!0,radius:o}),T.append(lt)}else if("divider"===t[E].type&&"bush"===Y[0])Z="grass",T.append(h("bush",o,2.25));else if("divider"===t[E].type&&"dome"===Y[0])Z="divider",T.append(h("dome",o,2.25)),Q[0]=1,Q[1]=parseInt(r)/4;else if("divider"===t[E].type)Z="divider",Q[0]=1,Q[1]=parseInt(r)/4;else if("temporary"===t[E].type&&"barricade"===Y[0])Z="drive-lane",T.append(m("temporary-barricade",o,2.25));else if("temporary"===t[E].type&&"traffic-cone"===Y[0])Z="drive-lane",T.append(m("temporary-traffic-cone",o,2.25));else if("temporary"===t[E].type&&"jersey-barrier-plastic"===Y[0])Z="drive-lane",T.append(m("temporary-jersey-barrier-plastic",o,2.25));else if("temporary"===t[E].type&&"jersey-barrier-concrete"===Y[0])Z="drive-lane",T.append(m("temporary-jersey-barrier-concrete",o,2.93));else if("bus-lane"===t[E].type||"brt-lane"===t[E].type){Z=x(Y[1]),T.append(S(Y,r,a));var ut=void 0;l({objectMixinId:"stencils word-bus",parentEl:ut=u({y:J+.015}),rotation:"-90 "+X+" 0",step:50,radius:o}),T.append(ut),l({objectMixinId:"stencils word-taxi",parentEl:ut=u({y:J+.015,z:10}),rotation:"-90 "+X+" 0",step:50,radius:o}),T.append(ut),l({objectMixinId:"stencils word-only",parentEl:ut=u({y:J+.015,z:20}),rotation:"-90 "+X+" 0",step:50,radius:o}),T.append(ut)}else if("drive-lane"===t[E].type){var dt="animated"===Y[2]||i,ft=g(2,3);T.append(M(Y,G,r,dt,a,ft,7.3))}else if("food-truck"===t[E].type)Z="drive-lane",T.append(k(Y,r));else if("flex-zone"===t[E].type){Z="bright-lane",T.append(N(Y,r,a));var pt=void 0;l({objectMixinId:"stencils word-loading-small",parentEl:pt=u({y:J+.015,z:5}),rotation:"-90 "+X+" 0",step:50,radius:o}),T.append(pt),l({objectMixinId:"stencils word-only-small",parentEl:pt=u({y:J+.015,z:-5}),rotation:"-90 "+X+" 0",step:50,radius:o}),T.append(pt)}else if("sidewalk"===t[E].type&&"empty"!==Y[0]){var ht="animated"===Y[1]||i;T.append(b(G,Y[0],J,r,"random",ht))}else if("sidewalk-wayfinding"===t[E].type)T.append((d=void 0,p=void 0,p=document.createElement("a-entity"),(d=document.createElement("a-entity")).setAttribute("position","0 1 0"),d.setAttribute("mixin","wayfinding-box"),p.append(d),(d=document.createElement("a-entity")).setAttribute("position","0 1.2 0.06"),d.setAttribute("geometry","primitive: plane; width: 0.8; height: 1.6"),d.setAttribute("material","src:#wayfinding-map"),p.append(d),(d=document.createElement("a-entity")).setAttribute("position","0 1.2 -0.06"),d.setAttribute("rotation","0 180 0"),d.setAttribute("geometry","primitive: plane; width: 0.8; height: 1.6"),d.setAttribute("material","src:#wayfinding-map"),p.append(d),p));else if("sidewalk-bench"===t[E].type){var mt=P(),gt="right"===Y[0]?-90:90;"center"===Y[0]?(l({objectMixinId:"bench_orientation_center",parentEl:mt,rotation:"0 "+gt+" 0",radius:o}),T.append(mt)):(l({objectMixinId:"bench",parentEl:mt,rotation:"0 "+gt+" 0",radius:o}),T.append(mt))}else if("sidewalk-bike-rack"===t[E].type){var vt=C(J);l({objectMixinId:"bikerack",parentEl:vt,rotation:"0 "+("sidewalk-parallel"===Y[1]?90:0)+" 0",radius:o}),T.append(vt)}else if("magic-carpet"===t[E].type)Z="drive-lane",T.append(_(a));else if("outdoor-dining"===t[E].type)Z="road"===Y[1]?"drive-lane":"sidewalk",T.append(O(r,J));else if("parklet"===t[E].type)Z="drive-lane",T.append(j(r,Y));else if("bikeshare"===t[E].type)T.append(I(Y,J));else if("utilities"===t[E].type){var yt=m("utility_pole",o,15,"right"===Y[0]?"0 180 0":"0 0 0");T.append(yt)}else if("sidewalk-tree"===t[E].type){var bt=F();l({objectMixinId:et="palm-tree"===Y[0]?"palm-tree":"tree3",parentEl:bt,randomY:!0,radius:o}),T.append(bt)}else if("sidewalk-lamp"!==t[E].type||"modern"!==Y[1]&&"pride"!==Y[1]){if("sidewalk-lamp"===t[E].type&&"traditional"===Y[1]){var xt=L();l({objectMixinId:"lamp-traditional",parentEl:xt,radius:o}),T.append(xt)}else if("transit-shelter"===t[E].type){var wt="left"===Y[0]?90:270;T.append(B(wt,J))}else if("brt-station"===t[E].type)T.append(D());else if("separator"===t[E].type&&"dashed"===Y[0])Z="markings dashed-stripe",W=J+.01,Q[0]=1,Q[1]=parseInt(r/6);else if("separator"===t[E].type&&"solid"===Y[0])Z="markings solid-stripe",W=J+.01;else if("separator"===t[E].type&&"doubleyellow"===Y[0])Z="markings solid-doubleyellow",W=J+.01;else if("separator"===t[E].type&&"shortdashedyellow"===Y[0])Z="markings yellow short-dashed-stripe",W=J+.01,Q[0]=1,Q[1]=parseInt(r/3);else if("separator"===t[E].type&&"soliddashedyellow"===Y[0])Z="markings yellow solid-dashed",W=J+.01;else if("separator"===t[E].type&&"soliddashedyellowinverted"===Y[0])Z="markings yellow solid-dashed",W=J+.01,X="180",Q[0]=1,Q[1]=parseInt(r/6);else if("parking-lane"===t[E].type){var At=void 0;Z="bright-lane";var St="stencils parking-t",Et=6,Mt={outbound:90,inbound:90,sideways:0,"angled-front-left":30,"angled-front-right":-30,"angled-rear-left":-30,"angled-rear-right":30}[Y[0]],kt=void 0,_t=G/2;90==Mt&&"right"==Y[1]?(Mt=-90,_t=.75-_t):_t-=.75,("sideways"==Y[0]||Y[0].includes("angled"))&&(Et=3,kt=G,_t=0,St="markings solid-stripe"),markingPosXY=_t+" 0";var Tt=r/2-Et;T.append(M([].concat(n(Y),["car"]),G,r,!1,a,5,Et)),Y[1],l({objectMixinId:St,parentEl:At=u({y:J+.015}),positionXYString:markingPosXY,rotation:"-90 90 "+Mt,length:kt,step:Et,radius:Tt}),T.append(At)}}else{var Ot=L();if("both"===Y[0])l({objectMixinId:"lamp-modern-double",parentEl:Ot,rotation:"0 0 0",radius:o}),T.append(Ot);else l({objectMixinId:"lamp-modern",parentEl:Ot,rotation:"0 "+("right"===Y[0]?0:180)+" 0",radius:o}),T.append(Ot);"pride"!==Y[1]||"right"!==Y[0]&&"both"!==Y[0]||l({objectMixinId:"pride-flag",parentEl:Ot,positionXYString:"0.409 5",radius:o}),"pride"!==Y[1]||"left"!==Y[0]&&"both"!==Y[0]||l({objectMixinId:"pride-flag",parentEl:Ot,rotation:"0 -180 0",positionXYString:"-0.409 5",radius:o})}s.isSidewalk(t[E].type)&&(Z="sidewalk",Q[0]=G/1.5,Q[1]=parseInt(r/2)),"separator"!==t[E].type?T.append(z(G,W,Z,r,Q,q)):T.append(V(W,X,Z,r,Q,q)),c.append(T),T.setAttribute("position",U+" 0 0"),T.setAttribute("data-layer-name","Segment • "+t[E].type+", "+Y[0])}var Rt=document.createElement("a-box"),Nt=w/2;return console.log("xPos",Nt),console.log("`${xPos} -1.1 0`","".concat(Nt," -1.1 0")),Rt.setAttribute("position","".concat(Nt," -1.1 0")),Rt.setAttribute("height",2),Rt.setAttribute("width",w),Rt.setAttribute("depth",r-.2),Rt.setAttribute("material","color: #664B00;"),Rt.setAttribute("data-layer-name","Underground"),c.append(Rt),c},t.exports.processBuildings=function(t,e,r,n,i){var a=document.createElement("a-entity"),o=.45*i;return a.classList.add("buildings-parent"),a.setAttribute("data-layer-name","Buildings & Blocks Container"),a.setAttribute("position","0 0.2 0"),[t,e].forEach((function(t,e){if(0!==t.length){var c=0===e?"left":"right",u="left"===c?-1:1,d=(i/4+r/2)*u,f=(75+r/2)*u;if(n){var p;if("waterfront"===t)(p=document.createElement("a-ocean-box")).setAttribute("geometry",{primitive:"box",depth:i,width:i/2,height:2,segmentsHeight:1,segmentsDepth:10,segmentsWidth:10}),p.setAttribute("position",{y:-3});else(p=document.createElement("a-box")).setAttribute("depth",i),p.setAttribute("height",2),p.setAttribute("width",i/2),p.setAttribute("shadow",""),p.setAttribute("mixin",{grass:"ground-grass-material",fence:"ground-grass-material","parking-lot":"ground-parking-lot-material",residential:"ground-grass-material",narrow:"ground-asphalt-material",wide:"ground-asphalt-material",arcade:"ground-tiled-concrete-material","compound-wall":"ground-asphalt-material"}[t]),p.setAttribute("position",{y:-1});p.setAttribute("position",{x:d}),p.classList.add("ground-"+c),p.setAttribute("data-layer-name","Ground "+c+" • "+t),a.appendChild(p)}var h={x:f,y:0,z:1===e?i/2:-i/2};switch(t){case"narrow":case"wide":h.x+=-72*u;break;case"residential":h.x+=-64*u,h.y=-.58,a.setAttribute("position","0 0.17 0");break;case"arcade":h.x+=-70.5*u}var m=function(t,e){var r=s.createBuildingsArray(i,t),n=JSON.stringify(r),a=document.createElement("a-entity");return a.setAttribute("rotation","0 "+90*e+" 0"),a.setAttribute("create-from-json","jsonString",n),a}(t,u);if(m.setAttribute("data-layer-name","Buildings "+c+" • "+t),m.setAttribute("position",h),a.append(m),"waterfront"===t||"compound-wall"===t){var g,v=f-150*u/2,y=document.createElement("a-entity");y.setAttribute("class","seawall-parent"),y.setAttribute("position",{x:v,z:4.5}),"compound-wall"===t?(y.setAttribute("position",{y:3}),y.setAttribute("position",{x:v+1.5*u}),g="left"===c?90:-90):g="left"===c?-90:90,y.classList.add("seawall-parent-"+c),a.appendChild(y),l({objectMixinId:"seawall",parentEl:y,rotation:"0 "+g+" 0",step:15,radius:o})}if("fence"===t||"parking-lot"===t){var b=f-150*u/2,x=document.createElement("a-entity");x.setAttribute("class","fence-parent"),x.setAttribute("position",b+" 0 4.625"),x.classList.add("fence-parent-"+f),l({objectMixinId:"fence",parentEl:x,rotation:"0 "+("right"===c?-90:90)+" 0",step:9.25,radius:o}),a.appendChild(x)}}})),a}},8234:()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function n(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=i(e);if(r){var o=i(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return function(e,r){if(r&&("object"===t(r)||"function"==typeof r))return r;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(this,n)}}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}var a=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(c,AFRAME.ANode);var i,a,o,s=n(c);function c(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this)).isAssetItem=!0,t}return i=c,(a=[{key:"connectedCallback",value:function(){var t=this.getAttribute("categories"),e=this.getAttribute("url");e||(e="https://assets.3dstreet.app/",this.setAttribute("url",e));var r=function(t,e){console.log("[street]","Using street assets from",t);var r=.8,n={"sidewalk-props":'\n        \x3c!-- sidewalk props --\x3e\n        <img id="wayfinding-map" src="'.concat(t,'objects/wayfinding.jpg" crossorigin="anonymous" />\n        <a-asset-item id="streetProps" src="').concat(t,'sets/street-props/gltf-exports/draco/street-props.glb"></a-asset-item>\n        <a-asset-item id="brt-station-model" src="').concat(t,'sets/brt-station/gltf-exports/draco/brt-station.glb"></a-asset-item>\n        <a-mixin shadow id="brt-station" gltf-model="#brt-station-model" ></a-mixin>\n        <a-mixin shadow id="outdoor_dining" gltf-part="src: #streetProps; part: outdoor_dining"></a-mixin>\n        <a-mixin shadow id="bench_orientation_center" gltf-part="src: #streetProps; part: bench_orientation_center"></a-mixin>\n        <a-mixin shadow id="parklet" gltf-part="src: #streetProps; part: parklet"></a-mixin>\n        <a-mixin shadow id="utility_pole" gltf-part="src: #streetProps; part: utility_pole"></a-mixin>\n        <a-mixin shadow id="lamp-modern" gltf-part="src: #streetProps; part: street-light"></a-mixin>\n        <a-mixin shadow id="lamp-modern-double" gltf-part="src: #streetProps; part: street-light-double"></a-mixin>\n        <a-mixin shadow id="bikerack" gltf-part="src: #streetProps; part: bike_rack"></a-mixin>\n        <a-mixin shadow id="bikeshare" gltf-part="src: #streetProps; part: bike_share"></a-mixin>\n        <a-mixin shadow id="lamp-traditional" gltf-part="src: #streetProps; part: lamp_post_traditional" scale="2 2 2"></a-mixin>\n        <a-mixin shadow id="palm-tree" gltf-part="src: #streetProps; part: palmtree" scale="1 1.5 1"></a-mixin>\n        <a-mixin shadow id="bench" gltf-part="src: #streetProps; part: park_bench"></a-mixin>\n        <a-mixin shadow id="seawall" gltf-part="src: #streetProps; part: sea_wall"></a-mixin>\n        <a-mixin shadow id="track" gltf-part="src: #streetProps; part: track"></a-mixin>\n        <a-mixin shadow id="tree3" gltf-part="src: #streetProps; part: tree-01" scale="1.25 1.25 1.25"></a-mixin>\n        <a-mixin shadow id="bus-stop" gltf-part="src: #streetProps; part: transit-shelter-1"></a-mixin>\n        <a-mixin shadow id="pride-flag" position="0.409 3.345 0" rotation="0 0 0" scale="0.5 0.75 0" geometry="width:2;height:2;primitive:plane" material="side:double; src:').concat(t,'materials/rainbow-flag-poles_512.png;transparent: true;"></a-mixin>\n        <a-mixin shadow id="wayfinding-box" geometry="primitive: box; height: 2; width: 0.84; depth: 0.1" material="color: gray"></a-mixin>\n      '),people:'\n        \x3c!-- human characters --\x3e\n        <a-asset-item id="humans" src="'.concat(t,'sets/human-characters-poses-1/gltf-exports/draco/human-characters-poses-1.glb"></a-asset-item>\n        <a-mixin shadow id="char1" gltf-part="src: #humans; part: Character_1"></a-mixin>\n        <a-mixin shadow id="char2" gltf-part="src: #humans; part: Character_2"></a-mixin>\n        <a-mixin shadow id="char3" gltf-part="src: #humans; part: Character_3"></a-mixin>\n        <a-mixin shadow id="char4" gltf-part="src: #humans; part: Character_4"></a-mixin>\n        <a-mixin shadow id="char5" gltf-part="src: #humans; part: Character_5"></a-mixin>\n        <a-mixin shadow id="char6" gltf-part="src: #humans; part: Character_6"></a-mixin>\n        <a-mixin shadow id="char7" gltf-part="src: #humans; part: Character_7"></a-mixin>\n        <a-mixin shadow id="char8" gltf-part="src: #humans; part: Character_8"></a-mixin>\n        <a-asset-item id="humans2" src="').concat(t,'sets/human-characters-poses-2/gltf-exports/draco/human-characters-poses-2.glb"></a-asset-item>\n        <a-mixin shadow id="char9" gltf-part="src: #humans2; part: Character_9"></a-mixin>\n        <a-mixin shadow id="char10" gltf-part="src: #humans2; part: Character_10"></a-mixin>\n        <a-mixin shadow id="char11" gltf-part="src: #humans2; part: Character_11"></a-mixin>\n        <a-mixin shadow id="char12" gltf-part="src: #humans2; part: Character_12"></a-mixin>\n        <a-mixin shadow id="char13" gltf-part="src: #humans2; part: Character_13"></a-mixin>\n        <a-mixin shadow id="char14" gltf-part="src: #humans2; part: Character_14"></a-mixin>\n        <a-mixin shadow id="char15" gltf-part="src: #humans2; part: Character_15"></a-mixin>\n        <a-mixin shadow id="char16" gltf-part="src: #humans2; part: Character_16"></a-mixin>\n      '),"people-rigged":'          \n        <a-asset-item id="character1walk" src="'.concat(t,'sets/human-characters-animation-seperated/gltf-exports/draco/character-1-walk.glb"></a-asset-item>\n        <a-mixin shadow id="a_char1" gltf-model="#character1walk" animation-mixer></a-mixin>\n        \n        <a-asset-item id="character2walk" src="').concat(t,'sets/human-characters-animation-seperated/gltf-exports/draco/character-2-walk.glb"></a-asset-item>\n        <a-mixin shadow id="a_char2" gltf-model="#character2walk" animation-mixer></a-mixin>\n        <a-asset-item id="character3walk" src="').concat(t,'sets/human-characters-animation-seperated/gltf-exports/draco/character-3-walk.glb"></a-asset-item>\n        <a-mixin shadow id="a_char3" gltf-model="#character3walk" animation-mixer></a-mixin>\n        <a-asset-item id="character4walk" src="').concat(t,'sets/human-characters-animation-seperated/gltf-exports/draco/character-4-walk.glb"></a-asset-item>\n        <a-mixin shadow id="a_char4" gltf-model="#character4walk" animation-mixer></a-mixin>\n        <a-asset-item id="character5walk" src="').concat(t,'sets/human-characters-animation-seperated/gltf-exports/draco/character-5-walk.glb"></a-asset-item>\n        <a-mixin shadow id="a_char5" gltf-model="#character5walk" animation-mixer></a-mixin>\n        <a-asset-item id="character6walk" src="').concat(t,'sets/human-characters-animation-seperated/gltf-exports/draco/character-6-walk.glb"></a-asset-item>\n        <a-mixin shadow id="a_char6" gltf-model="#character6walk" animation-mixer></a-mixin>\n        <a-asset-item id="character7walk" src="').concat(t,'sets/human-characters-animation-seperated/gltf-exports/draco/character-7-walk.glb"></a-asset-item>\n        <a-mixin shadow id="a_char7" gltf-model="#character7walk" animation-mixer></a-mixin>\n        <a-asset-item id="character8walk" src="').concat(t,'sets/human-characters-animation-seperated/gltf-exports/draco/character-8-walk.glb"></a-asset-item>\n        <a-mixin shadow id="a_char8" gltf-model="#character8walk" animation-mixer></a-mixin>\n      '),vehicles:'\n        \x3c!-- vehicles --\x3e\n        <a-asset-item id="magic-carpet-glb" src="'.concat(t,'sets/magic-carpet/gltf-exports/draco/magic-carpet.glb"></a-asset-item>\n        <a-mixin shadow id="Character_1_M" gltf-part="src: #magic-carpet-glb; part: Character_1_M"></a-mixin>\n        <a-mixin shadow id="magic-carpet" gltf-part="src: #magic-carpet-glb; part: magic-carpet"></a-mixin>\n        \x3c!-- micro mobility vehicles --\x3e\n        <a-asset-item id="microMobilityDevices" src="').concat(t,'sets/micro-mobility-devices/gltf-exports/draco/micro-mobility-devices_v01.glb"></a-asset-item>\n        <a-mixin shadow id="Bicycle_1" gltf-part="src: #microMobilityDevices; part: Bicycle_1"></a-mixin>\n        <a-mixin shadow id="ElectricScooter_1" gltf-part="src: #microMobilityDevices; part: ElectricScooter_1"></a-mixin>\n      '),"vehicles-rigged":'\n        \x3c!-- vehicles rigged --\x3e\n        <a-mixin shadow id="sedan-rig" gltf-model="url('.concat(t,'sets/vehicles-rig/gltf-exports/draco/toyota-prius-rig.glb)" ></a-mixin>\n        <a-mixin shadow id="sedan-taxi-rig" gltf-model="url(').concat(t,'sets/vehicles-rig/gltf-exports/draco/sedan-taxi-rig.glb)"></a-mixin>\n        <a-mixin shadow id="suv-rig" gltf-model="url(').concat(t,'sets/vehicles-rig/gltf-exports/draco/suv-rig.glb)"></a-mixin>\n        <a-mixin shadow id="box-truck-rig" gltf-model="url(').concat(t,'sets/vehicles-rig/gltf-exports/draco/isuzu-truck-rig.glb)"></a-mixin>\n        <a-mixin shadow id="food-trailer-rig" gltf-model="url(').concat(t,'sets/vehicles-rig/gltf-exports/draco/food-trailer-rig.glb)"></a-mixin>\n        <a-mixin shadow id="fire-truck-rig" gltf-model="url(').concat(t,'sets/vehicles-rig/gltf-exports/draco/fire-truck-pumper-rig.glb)"></a-mixin>\n        <a-mixin shadow id="fire-ladder-rig" gltf-model="url(').concat(t,'sets/vehicles/gltf-exports/draco/fire_truck_ladder.glb)"></a-mixin>\n        <a-mixin shadow id="self-driving-cruise-car-rig" gltf-model="url(').concat(t,'sets/vehicles-rig/gltf-exports/draco/self-driving-cruise-car-rig.glb)"></a-mixin>\n      '),buildings:'\n        \x3c!-- blocks --\x3e\n        <a-asset-item id="blockmodel" src="'.concat(t,'sets/buildings/gltf-exports/draco/buildings.glb"></a-asset-item>\n        <a-asset-item id="archedmodel" src="').concat(t,'sets/arcade-style-buildings/gltf-exports/draco/arched-buildings.glb"></a-asset-item>\n        <a-asset-item id="suburbiamodel" src="').concat(t,'sets/suburban-houses/gltf-exports/draco/suburban-houses.glb"></a-asset-item>\n\n        \x3c!-- buildings and blocks --\x3e\n        <a-mixin shadow id="SM3D_Bld_Mixed_Corner_4fl" scale="1 1 1" rotation="0 0 0" gltf-part="src: #blockmodel; part: SM3D_Bld_Mixed_Corner_4fl"></a-mixin>\n        <a-mixin shadow id="SM3D_Bld_Mixed_Double_5fl" scale="1 1 1" rotation="0 0 0" gltf-part="src: #blockmodel; part: SM3D_Bld_Mixed_Double_5fl"></a-mixin>\n        <a-mixin shadow id="SM3D_Bld_Mixed_4fl_2" scale="1 1 1" rotation="0 0 0" gltf-part="src: #blockmodel; part: SM3D_Bld_Mixed_4fl_2"></a-mixin>\n        <a-mixin shadow id="SM3D_Bld_Mixed_5fl" scale="1 1 1" rotation="0 0 0" gltf-part="src: #blockmodel; part: SM3D_Bld_Mixed_5fl"></a-mixin>\n        <a-mixin shadow id="SM3D_Bld_Mixed_4fl" scale="1 1 1" rotation="0 0 0" gltf-part="src: #blockmodel; part: SM3D_Bld_Mixed_4fl"></a-mixin>\n\n        \x3c!-- suburban buildings --\x3e\n        <a-mixin shadow id="SM_Bld_House_Preset_03_1800" scale="1 1 1" rotation="0 0 0" gltf-part="src: #suburbiamodel; part: suburban-house_1"></a-mixin>\n        <a-mixin shadow id="SM_Bld_House_Preset_08_1809" scale="1 1 1" rotation="0 0 0" gltf-part="src: #suburbiamodel; part: suburban-house_3"></a-mixin>\n        <a-mixin shadow id="SM_Bld_House_Preset_09_1845" scale="1 1 1" rotation="0 0 0" gltf-part="src: #suburbiamodel; part: suburban-house_2"></a-mixin>\n\n        \x3c!-- arched style buildings --\x3e\n        <a-mixin shadow id="arched-building-01" scale="1 1 1" rotation="0 0 0" gltf-part="src: #archedmodel; part: arched-building-01"></a-mixin>\n        <a-mixin shadow id="arched-building-02" scale="1 1 1" rotation="0 0 0" gltf-part="src: #archedmodel; part: arched-building-02"></a-mixin>\n        <a-mixin shadow id="arched-building-03" scale="1 1 1" rotation="0 0 0" gltf-part="src: #archedmodel; part: arched-building-03"></a-mixin>\n        <a-mixin shadow id="arched-building-04" scale="1 1 1" rotation="0 0 0" gltf-part="src: #archedmodel; part: arched-building-04"></a-mixin>\n'),"intersection-props":'\n        <a-asset-item id="stopsign" src="'.concat(t,'sets/road-signs/gltf-exports/draco/stop-sign.glb"></a-asset-item>\n        <a-asset-item id="signal1" src="').concat(t,'sets/signals/gltf-exports/draco/signal1.glb"></a-asset-item>\n        <a-asset-item id="signal2" src="').concat(t,'sets/signals/gltf-exports/draco/signal2.glb"></a-asset-item>\n        <a-mixin id="signal_left" gltf-model="#signal1"></a-mixin>\n        <a-mixin id="signal_right" gltf-model="#signal2"></a-mixin>\n        <a-mixin id="stop_sign" gltf-model="#stopsign"></a-mixin>\n      '),"segment-textures":'  \n        \x3c!-- segment mixins with textures --\x3e\n        <img id="seamless-road" src="'.concat(t,'materials/TexturesCom_Roads0086_1_seamless_S_rotate.jpg" crossorigin="anonymous">\n        <img id="seamless-bright-road" src="').concat(t,'materials/asphalthd_Base_Color.jpg" crossorigin="anonymous">\n        <img id="seamless-sidewalk" src="').concat(t,'materials/TexturesCom_FloorsRegular0301_1_seamless_S.jpg" crossorigin="anonymous">\n        <img id="hatched-base" src="').concat(t,'materials/seamless-lane-with-hatch-half.jpg" crossorigin="anonymous">\n        <img id="hatched-normal" src="').concat(t,'materials/seamless-lane-with-hatch-half.jpg" crossorigin="anonymous">\n        <a-mixin shadow="cast: false" id="drive-lane" geometry="width:3;height:150;primitive:plane" material="roughness:').concat(r,';repeat:0.3 25;offset:0.55 0;src:#seamless-road;"></a-mixin>\n        <a-mixin shadow="cast: false" id="bright-lane" geometry="width:3;height:150;primitive:plane" material="roughness:').concat(r,';repeat:0.6 50;offset:0.55 0;src:#seamless-bright-road;color:#dddddd"></a-mixin>\n        <a-mixin shadow="cast: false" id="bike-lane" geometry="width:1.8;height:150;primitive:plane" material="roughness:').concat(r,';repeat:0.3 25;offset:0.55 0;metalness:0;src:#seamless-road;"></a-mixin>\n        <a-mixin shadow id="sidewalk" anisotropy geometry="width:3;height:150;primitive:plane" material="roughness:').concat(r,';repeat:1.5 75;src:#seamless-sidewalk;"></a-mixin>\n        <a-mixin shadow="cast: false" id="bus-lane" geometry="width:3;height:150;primitive:plane" material="roughness:').concat(r,';repeat:0.3 25;offset:0.55 0;src:#seamless-road;"></a-mixin>\n        <a-mixin shadow="cast: false" id="divider" geometry="width:0.3;height:150;primitive:plane" material="roughness:').concat(r,';src:#hatched-base;"></a-mixin>\n        <a-mixin shadow="cast: false" id="grass" geometry="width:0.3;height:150;primitive:plane" material="roughness:').concat(r,';repeat:1 150;offset:0.415 0;src:#grass-texture;"></a-mixin>\n      '),"segment-colors":'  \n        \x3c!-- segment color modifier mixins --\x3e\n        <a-mixin id="yellow" material="color:#f7d117"></a-mixin>\n        <a-mixin id="surface-green" material="color:#adff83"></a-mixin>\n        <a-mixin id="surface-red" material="color:#ff9393"></a-mixin>\n        <a-mixin id="surface-blue" material="color:#00b6b6"></a-mixin>\n      ',"lane-separator":'\n        \x3c!-- lane separator markings --\x3e\n        <img id="markings-atlas" src="'.concat(t,'materials/lane-markings-atlas_1024.png" crossorigin="anonymous" /> \n        <a-mixin shadow="cast: false" id="markings" anisotropy atlas-uvs="totalRows: 1; totalColumns: 8; row: 1" scale="1 1 1" material="src: #markings-atlas;alphaTest: 0;transparent:true;repeat:1 25;" geometry="primitive: plane; buffer: false; skipCache: true; width:0.2; height:150;"></a-mixin>\n        <a-mixin shadow="cast: false" id="solid-stripe" atlas-uvs="column: 3; row: 1" material="repeat:1 5;"></a-mixin>\n        <a-mixin shadow="cast: false" id="dashed-stripe" atlas-uvs="column: 4; row: 1"></a-mixin>\n        <a-mixin shadow="cast: false" id="short-dashed-stripe" atlas-uvs="column: 4" material="repeat:1 50;"></a-mixin>\n        <a-mixin shadow="cast: false" id="solid-doubleyellow" atlas-uvs="totalColumns: 4; column: 3" geometry="width: 0.5"></a-mixin>\n        <a-mixin shadow="cast: false" id="solid-dashed" atlas-uvs="totalColumns: 4; column: 2" geometry="width: 0.4"></a-mixin>\n        <a-mixin shadow="cast: false" id="crosswalk-zebra" atlas-uvs="totalColumns: 4; column: 4" geometry="width: 2; height: 12"  material="repeat: 1 2"></a-mixin>\n      '),stencils:'  \n        \x3c!-- stencil markings --\x3e\n        <img id="stencils-atlas" src="'.concat(t,'materials/stencils-atlas_2048.png" crossorigin="anonymous" />\n        <a-mixin shadow="cast: false" id="stencils" anisotropy atlas-uvs="totalRows: 4; totalColumns: 4" scale="2 2 2" material="src: #stencils-atlas;alphaTest: 0;transparent:true;" geometry="primitive: plane; buffer: false; skipCache: true;"></a-mixin>\n        <a-mixin id="right" atlas-uvs="column: 3; row: 2"></a-mixin>\n        <a-mixin id="left" atlas-uvs="column: 3; row: 3"></a-mixin>\n        <a-mixin id="both" atlas-uvs="column: 2; row: 1"></a-mixin>\n        <a-mixin id="all" atlas-uvs="column: 3; row: 1"></a-mixin>\n        <a-mixin id="left-straight" atlas-uvs="column: 2; row: 3"></a-mixin>\n        <a-mixin id="right-straight" atlas-uvs="column: 2; row: 2"></a-mixin>\n        <a-mixin id="straight" atlas-uvs="column: 2; row: 4"></a-mixin>\n        <a-mixin id="sharrow" atlas-uvs="totalRows: 4; totalColumns: 8; column: 2; row: 3" scale="1.5 3 1"></a-mixin>\n        <a-mixin id="bike-arrow" atlas-uvs="totalRows: 2; totalColumns: 8; column: 1; row: 2" scale="1 4 1"></a-mixin>\n        <a-mixin id="word-bus" atlas-uvs="totalRows: 8; totalColumns: 8; column: 1; row: 4" scale="3 3 3"></a-mixin>\n        <a-mixin id="word-lane" atlas-uvs="totalRows: 8; totalColumns: 8; column: 2; row: 4" scale="3 3 3"></a-mixin>\n        <a-mixin id="word-taxi" atlas-uvs="totalRows: 8; totalColumns: 8; column: 1; row: 3" scale="3 3 3"></a-mixin>\n        <a-mixin id="word-only" atlas-uvs="totalRows: 8; totalColumns: 8; column: 2; row: 3" scale="3 3 3"></a-mixin>\n        <a-mixin id="word-only-small" atlas-uvs="totalRows: 8; totalColumns: 8; column: 2; row: 3" scale="2.5 2 2.5"></a-mixin>\n        <a-mixin id="word-yield" atlas-uvs="totalRows: 8; totalColumns: 8; column: 1; row: 2" scale="3 3 3"></a-mixin>\n        <a-mixin id="word-slow" atlas-uvs="totalRows: 8; totalColumns: 8; column: 2; row: 2" scale="3 3 3"></a-mixin>\n        <a-mixin id="word-xing" atlas-uvs="totalRows: 8; totalColumns: 8; column: 1; row: 1" scale="3 3 3"></a-mixin>\n        <a-mixin id="word-stop" atlas-uvs="totalRows: 8; totalColumns: 8; column: 2; row: 1" scale="3 3 3"></a-mixin>\n        <a-mixin id="word-loading-small" atlas-uvs="totalRows: 8; totalColumns: 4; column: 4; row: 1" scale="2.75 1.75 2.75"></a-mixin>\n        <a-mixin id="perpendicular-stalls" atlas-uvs="totalRows: 4; totalColumns: 8; column: 5; row: 4" scale="5 10 5"></a-mixin>\n        <a-mixin id="parking-t" atlas-uvs="totalRows: 8; totalColumns: 16; column: 4; row: 7" scale="1.5 2 2"></a-mixin>\n        <a-mixin id="painted-safety-zone" atlas-uvs="totalRows: 4; totalColumns: 4; column: 4; row: 4" scale="8 8 8"></a-mixin>\n        <a-mixin id="hash-left" atlas-uvs="totalRows: 4; totalColumns: 8; column: 7; row: 2" scale="3 6 3"></a-mixin>\n        <a-mixin id="hash-right" atlas-uvs="totalRows: 4; totalColumns: 8; column: 8; row: 2" scale="3 6 3"></a-mixin>\n        <a-mixin id="hash-chevron" atlas-uvs="totalRows: 4; totalColumns: 4; column: 4; row: 2" scale="3 3 3"></a-mixin>\n      '),"vehicles-transit":'\n        \x3c!-- vehicles-transit --\x3e\n        <a-mixin shadow id="bus" anisotropy gltf-model="url('.concat(t,'sets/flyer-bus/gltf-exports/draco/new-flyer-bus.glb)"></a-mixin>\n        <a-mixin shadow id="tram" anisotropy gltf-model="url(').concat(t,'sets/light-rail-vehicle/gltf-exports/draco/light-rail-vehicle-v02.glb)"></a-mixin>\n        <a-mixin shadow id="trolley" gltf-model="url(').concat(t,'sets/sanfrancisco-cablecar/gltf-exports/draco/sanfrancisco-cablecar_v01.glb)"></a-mixin>\n        '),dividers:'\n        \x3c!-- dividers --\x3e\n        <a-asset-item id="dividers" src="'.concat(t,'sets/dividers/gltf-exports/draco/dividers.glb"></a-asset-item>        \n        <a-mixin shadow id="dividers-flowers" scale="1 1 1" rotation="0 0 0" gltf-part="src: #dividers; part: flowers"></a-mixin>\n        <a-mixin shadow id="dividers-planting-strip" scale="1 1 1" rotation="0 0 0" gltf-part="src: #dividers; part: planting-strip"></a-mixin>\n        <a-mixin shadow id="dividers-planter-box" scale="1 1 1" rotation="0 0 0" gltf-part="src: #dividers; part: planter-box"></a-mixin>\n        <a-mixin shadow id="dividers-bush" scale="1 1 1" rotation="0 0 0" gltf-part="src: #dividers; part: bush"></a-mixin>\n        <a-mixin shadow id="dividers-dome" scale="1 1 1" rotation="0 0 0" gltf-part="src: #dividers; part: dome"></a-mixin>\n        <a-mixin shadow id="safehit" scale="1 1 1" rotation="0 0 0" gltf-part="src: #dividers; part: bollard"></a-mixin>\n        <a-mixin shadow id="temporary-barricade" scale="1 1 1" rotation="0 0 0" gltf-part="src: #dividers; part: barricade"></a-mixin>\n        <a-mixin shadow id="temporary-traffic-cone" scale="1 1 1" rotation="0 0 0" gltf-part="src: #dividers; part: traffic-cone"></a-mixin>\n        <a-mixin shadow id="temporary-jersey-barrier-plastic" scale="1 1 1" rotation="0 0 0" gltf-part="src: #dividers; part: jersey-barrier-plastic"></a-mixin>\n        <a-mixin shadow id="temporary-jersey-barrier-concrete" scale="1 1 1" rotation="0 0 0" gltf-part="src: #dividers; part: jersey-barrier-concrete"></a-mixin>\n      '),sky:'\n        \x3c!-- sky --\x3e\n        <img id="sky" src="'.concat(t,'images/skies/2048-polyhaven-wasteland_clouds_puresky.jpeg" crossorigin="anonymous" />\n        <img id="sky-night" src="').concat(t,'images/AdobeStock_286725174-min.jpeg" crossorigin="anonymous" />\n      '),grounds:'\n        \x3c!-- grounds --\x3e\n        <img id="grass-texture" src="'.concat(t,'materials/TexturesCom_Grass0052_1_seamless_S.jpg" crossorigin="anonymous">\n        <img id="parking-lot-texture" src="').concat(t,'materials/TexturesCom_Roads0111_1_seamless_S.jpg" crossorigin="anonymous">\n        <img id="asphalt-texture" src="').concat(t,'materials/TexturesCom_AsphaltDamaged0057_1_seamless_S.jpg" crossorigin="anonymous">\n\n        \x3c!-- legacy plane-based grounds for compatibility with 0.4.2 and earlier scenes, not used for new streets --\x3e\n        <a-mixin shadow id="ground-grass" rotation="-90 0 0" geometry="primitive:plane;height:150;width:40" material="src:#grass-texture;repeat:5 5;roughness:1"></a-mixin>\n        <a-mixin shadow id="ground-parking-lot" rotation="-90 0 0" geometry="primitive:plane;height:150;width:40" material="src:#parking-lot-texture;repeat:2 4;roughness:1"></a-mixin>\n        <a-mixin shadow id="ground-asphalt" rotation="-90 0 0" geometry="primitive:plane;height:150;width:40" material="src:#asphalt-texture;repeat:5 5;roughness:1"></a-mixin>\n        <a-mixin shadow id="ground-tiled-concrete" anisotropy rotation="-90 0 0" geometry="primitive:plane;height:150;width:40" material="src:#seamless-sidewalk;repeat:5 5;roughness:1"></a-mixin>\n\n        \x3c!-- new grounds for 0.4.4 and later --\x3e \n        <a-mixin shadow id="ground-grass-material" material="src:#grass-texture;repeat:2.5 5;roughness:').concat(r,'"></a-mixin>\n        <a-mixin shadow id="ground-parking-lot-material" material="src:#parking-lot-texture;repeat:.5 2;roughness:').concat(r,'"></a-mixin>\n        <a-mixin shadow id="ground-asphalt-material" material="src:#asphalt-texture;repeat:5 5;roughness:').concat(r,'"></a-mixin>\n        <a-mixin shadow id="ground-tiled-concrete-material" material="src:#seamless-sidewalk;repeat:10 20;roughness:').concat(r,'"></a-mixin>\n\n        <a-asset-item id="fence-model" src="').concat(t,'sets/fences/gltf-exports/draco/fence4.glb"></a-asset-item>\n        <a-mixin shadow id="fence" gltf-model="#fence-model" scale="0.1 0.1 0.1"></a-mixin>\n      '),"loud-bicycle":'\n        \x3c!-- loud-bicycle-game --\x3e\n        <a-mixin shadow id="cyclist-cargo" gltf-model="url('.concat(t,'sets/cargo-bike-animation/gltf-exports/draco/cargo_bike_animation_v1.glb)"></a-mixin>\n        <a-mixin shadow id="cyclist1" gltf-model="url(').concat(t,'sets/cyclist-animation/gltf-exports/draco/cyclist-1-animation-v1.glb)"></a-mixin>\n        <a-mixin shadow id="cyclist2" gltf-model="url(').concat(t,'sets/cyclist-animation/gltf-exports/draco/cyclist-2-animation-v1.glb)"></a-mixin>\n        <a-mixin shadow id="cyclist3" gltf-model="url(').concat(t,'sets/cyclist-animation/gltf-exports/draco/cyclist-3-animation-v1.glb)"></a-mixin>\n        <a-mixin shadow id="cyclist-kid" gltf-model="url(').concat(t,'sets/cyclist-animation/gltf-exports/draco/Kid_cyclist_animation_v01.glb)"></a-mixin>\n        <a-mixin shadow id="cyclist-dutch" gltf-model="url(').concat(t,'sets/cyclist-animation/gltf-exports/draco/Dutch_cyclist_animation_v01.glb)"></a-mixin>\n        <a-mixin shadow id="loud-bicycle-mini" gltf-model="url(').concat(t,'sets/cycle-horn/gltf-exports/draco/loud-bicycle-mini-horn.glb)"></a-mixin>\n        <a-mixin shadow id="loud-bicycle-classic" gltf-model="url(').concat(t,'sets/cycle-horn/gltf-exports/draco/loud-bicycle-classic-horn.glb)"></a-mixin>\n        <a-mixin shadow id="building-school" gltf-model="url(').concat(t,'sets/school-building/gltf-exports/draco/school-building.glb)"></a-mixin>\n        <a-mixin shadow id="building-bar" gltf-model="url(').concat(t,'sets/irish-bar-building/gltf-exports/draco/irish-bar-building.glb)"></a-mixin>\n        <a-mixin shadow id="vehicle-bmw-m2" gltf-model="url(').concat(t,'sets/vehicles-rig/gltf-exports/draco/BWM_m2-rig.glb)"></a-mixin>\n        <a-mixin shadow id="prop-suburban-houses" gltf-model="url(').concat(t,'sets/suburban-houses/gltf-exports/draco/suburban-houses.glb)"></a-mixin>\n        <a-mixin shadow id="prop-banner-wfh" gltf-model="url(').concat(t,'sets/wfh-banner/gltf-exports/draco/wfh-banner.glb)"></a-mixin>\n        <a-mixin shadow id="prop-raygun" gltf-model="url(').concat(t,'sets/ray-gun/gltf-exports/draco/rayGun.glb)"></a-mixin>\n        <a-mixin shadow id="prop-co2-scrubber" gltf-model="url(').concat(t,'sets/c02-scrubber/gltf-exports/draco/co2-scrubber.glb)"></a-mixin>\n    ')};function i(t,e){var r=(new DOMParser).parseFromString(t,"text/html");return r.querySelectorAll("a-mixin").forEach((function(t){t.setAttribute("category",e)})),r.documentElement.innerHTML}var a=Object.keys(n);if(e){var o=e.split(" ");a=a.filter((function(t){return o.includes(t)}))}var s="";for(var c in n)a.includes(c)&&(s+=i(n[c],c));return s}(e,t);this.insertAdjacentHTML("afterend",r),AFRAME.ANode.prototype.load.call(this)}}])&&e(i.prototype,a),o&&e(i,o),c}();customElements.define("street-assets",a);document.addEventListener("DOMSubtreeModified",(function t(e){if("A-SCENE"===e.target.nodeName){var r=e.target.querySelector("a-assets");if(r||(r=document.createElement("a-assets"),e.target.append(r)),r.querySelector("street-assets"))document.removeEventListener("DOMSubtreeModified",t);else{var n=document.createElement("street-assets");r.append(n),document.removeEventListener("DOMSubtreeModified",t)}}}),!1)},7391:(t,e,r)=>{var n=r(3334);AFRAME.registerComponent("create-from-json",{schema:{jsonString:{type:"string",default:""}},update:function(t){var e=this.data,r=this.el;if(t.string&&e.string!==t.string)for(;r.firstChild;)r.removeChild(r.lastChild);n.appendChildElementsFromArray(JSON.parse(e.jsonString),r)}})},6071:()=>{var t={},e={};AFRAME.registerComponent("gltf-part",{schema:{buffer:{default:!0},part:{type:"string"},src:{type:"asset"}},init:function(){this.dracoLoader=document.querySelector("a-scene").systems["gltf-model"].getDRACOLoader()},update:function(){var t=this.el;!this.data.part&&this.data.src||this.getModel((function(e){e&&t.setObject3D("mesh",e)}))},getModel:function(r){var n=this;if(!e[this.data.src])return t[this.data.src]?t[this.data.src].then((function(t){r(n.selectFromModel(t))})):void(t[this.data.src]=new Promise((function(i){var a=new THREE.GLTFLoader;n.dracoLoader&&a.setDRACOLoader(n.dracoLoader),a.load(n.data.src,(function(a){var o=a.scene||a.scenes[0];e[n.data.src]=o,delete t[n.data.src],r(n.selectFromModel(o)),i(o)}),(function(){}),console.error)})));r(this.selectFromModel(e[this.data.src]))},selectFromModel:function(t){var e,r;if(r=t.getObjectByName(this.data.part))return e=r.getObjectByProperty("type","Mesh").clone(!0),this.data.buffer?(e.geometry=e.geometry.toNonIndexed(),e):(e.geometry=(new THREE.Geometry).fromBufferGeometry(e.geometry),e);console.error("[gltf-part] `"+this.data.part+"` not found in model.")}})},8472:(t,e,r)=>{var n=r(6502).Notyf;AFRAME.registerComponent("notify",{schema:{duration:{type:"number",default:6e3},ripple:{type:"boolean",default:!1},position:{type:"string",default:{x:"center",y:"bottom"}},dismissible:{type:"boolean",default:!1},type:{type:"string",default:"info"},message:{type:"string",default:""}},init:function(){var t=this;this.notify=new n({types:[{type:"info",background:"blue",icon:!1},{type:"warning",background:"orange",icon:!1}],duration:this.data.duration,ripple:this.data.ripple,position:this.data.position,dismissible:this.data.dismissible}),this.types=this.notify.options.types.map((function(t){return t.type})),STREET&&(STREET.notify={},STREET.notify.successMessage=function(e){t.message(e,"success")},STREET.notify.errorMessage=function(e){t.message(e,"error")},STREET.notify.warningMessage=function(e){t.message(e,"warning")})},message:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";t&&this.types.includes(e)&&this.notify.open({type:e,message:t})},update:function(t){if(0!==Object.keys(t).length){var e=this.data.message,r=this.data.type;e&&this.types.includes(r)&&(this.message(e,r),this.data.message="")}}})},5470:()=>{AFRAME.registerComponent("wobble-normal",{schema:{},tick:function(t){this.el.components.material.material.normalMap&&(this.el.components.material.material.normalMap.offset.x+=1e-4*Math.sin(t/1e4),this.el.components.material.material.normalMap.offset.y+=1e-4*Math.cos(t/8e3),this.el.components.material.material.normalScale.x=.5+.5*Math.cos(t/1e3),this.el.components.material.material.normalScale.x=.5+.5*Math.sin(t/1200))}}),AFRAME.registerComponent("wobble-geometry",{schema:{amplitude:{default:.1},amplitudeVariance:{default:.3},speed:{default:.25},speedVariance:{default:2}},play:function(){var t=this.data,e=this.geometry=this.el.object3D.children[0].geometry;console.log(this.el.object3D.children[0].geometry),this.waves=[];var r=e.getAttribute("position");console.log(r);for(var n=0;n<r.count;n++)this.waves.push({z:r.getZ(n),ang:Math.random()*Math.PI*2,amp:t.amplitude+Math.random()*t.amplitudeVariance,speed:(t.speed+Math.random()*t.speedVariance)/1e3})},tick:function(t,e){if(e){for(var r=this.geometry.getAttribute("position"),n=0;n<r.count;n++){var i=this.waves[n],a=i.z+Math.sin(i.ang)*i.amp;r.setZ(n,a),i.ang+=i.speed*e}r.needsUpdate=!0}}}),AFRAME.registerPrimitive("a-ocean-plane",{defaultComponents:{geometry:{primitive:"plane",height:1e3,width:1e3,segmentsHeight:100,segmentsWidth:100},rotation:"-90 0 0",material:{shader:"standard",color:"#8ab39f",metalness:1,roughness:.2,normalMap:"url(assets/materials/waternormals.jpg)",normalTextureRepeat:"50 50",normalTextureOffset:"0 0",normalScale:"0.5 0.5",opacity:.8},"wobble-normal":{},"wobble-geometry":{}}}),AFRAME.registerComponent("wobble-geometry-box",{schema:{amplitude:{default:.1},amplitudeVariance:{default:.3},speed:{default:.25},speedVariance:{default:2}},play:function(){var t=this.data,e=this.geometry=this.el.object3D.children[0].geometry;this.waves=[];for(var r=e.getAttribute("position"),n=0;n<r.count;n++)this.waves.push({y:r.getY(n),ang:Math.random()*Math.PI*2,amp:t.amplitude+Math.random()*t.amplitudeVariance,speed:(t.speed+Math.random()*t.speedVariance)/1e3})},tick:function(t,e){if(e){for(var r=this.geometry.getAttribute("position"),n=0;n<r.count;n++){var i=this.waves[n],a=i.y+Math.sin(i.ang)*i.amp;r.setY(n,a),i.ang+=i.speed*e}r.needsUpdate=!0}}}),AFRAME.registerPrimitive("a-ocean-box",{defaultComponents:{geometry:{primitive:"box",depth:100,width:100,height:4,segmentsHeight:10,segmentsDepth:100,segmentsWidth:100},rotation:"0 0 0",material:{shader:"standard",color:"#8ab39f",metalness:1,roughness:.2,normalMap:"url(https://assets.3dstreet.app/materials/waternormals.jpg)",normalTextureRepeat:"10 10",normalTextureOffset:"0 0",normalScale:"0.5 0.5",opacity:.8},"wobble-normal":{},"wobble-geometry-box":{}}})},8699:()=>{function t(t,e,r,n,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function e(e){return function(){var r=this,n=arguments;return new Promise((function(i,a){var o=e.apply(r,n);function s(e){t(o,i,a,s,c,"next",e)}function c(e){t(o,i,a,s,c,"throw",e)}s(void 0)}))}}var r;AFRAME.registerComponent("screentock",{schema:{takeScreenshot:{type:"boolean",default:!1},filename:{type:"string",default:"screenshot"},type:{type:"string",default:"jpg"},imgElementSelector:{type:"selector"}},takeScreenshotNow:(r=e(regeneratorRuntime.mark((function t(r,n,i){var a,o,s,c,l,u,d,f,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=function(t,e,r){var n=document.createElement("a"),i=e.replace(/^data:image\/[^;]/,"data:application/octet-stream");n.setAttribute("href",i),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},l=function(t,e,r){t.font="25px Lato",t.textAlign="center",t.fillStyle="#FFF",t.fillText(STREET.utils.getCurrentSceneTitle(),e-e/2,r-43)},s=function(t){a&&a.opened&&(a.sceneHelpers.visible=t),t?document.querySelector("#cameraRig").setAttribute("cursor-teleport","cameraRig: #cameraRig; cameraHead: #camera;"):document.querySelector("#cameraRig").removeAttribute("cursor-teleport")},a=AFRAME.INSPECTOR,o=AFRAME.scenes[0].renderer,s(!1),c=function(){var t=e(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=document.querySelector("#screenshotCanvas"))||((r=document.createElement("canvas")).id="screenshotCanvas",r.hidden=!0,document.body.appendChild(r)),r.width=e.width,r.height=e.height,(n=r.getContext("2d")).drawImage(e,0,0),l(n,r.width,r.height),t.next=9,u(n);case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=e(regeneratorRuntime.mark((function t(e){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=document.querySelector("img.viewer-logo-img"),n=document.querySelector("#aframeInspector #logoImg svg"),!r){t.next=6;break}e.drawImage(r,0,0,135,43,40,30,270,86),t.next=12;break;case 6:if(!n){t.next=12;break}return(i=new Image).src="data:image/svg+xml;base64,".concat(window.btoa(n.outerHTML)),t.next=11,new Promise((function(t){i.onload=t}));case 11:e.drawImage(i,0,0,135,23,40,40,270,46);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=r+"."+n,o.render(AFRAME.scenes[0].object3D,AFRAME.scenes[0].camera),t.next=12,c(o.domElement);case 12:p=t.sent,"img"==n&&(i.src=p.toDataURL()),"png"==n?d(f,p.toDataURL("image/png")):"jpg"==n&&d(f,p.toDataURL("image/jpeg",.95)),s(!0);case 16:case"end":return t.stop()}}),t)}))),function(t,e,n){return r.apply(this,arguments)}),update:function(t){0!==Object.keys(t).length&&this.data.takeScreenshot&&(this.data.takeScreenshot=!1,this.takeScreenshotNow(this.data.filename,this.data.type,this.data.imgElementSelector))}})},7129:(t,e,r)=>{var n=r(9879);r(3520);AFRAME.registerComponent("streetplan-loader",{dependencies:["street"],schema:{streetplanStreetURL:{type:"string"},streetplanAPIURL:{type:"string"},streetplanEncJSON:{type:"string"},showBuildings:{default:!0},name:{default:""}},streetplanResponseParse:function(t){var e,r=this.el,i=this.data,a=t.project,o=n.convertStreetStruct(a),s=o.segments,c=o.name;o.altName;console.log("streetplanName",c);var l=this.el.sceneEl;l&&l.getAttribute("metadata")&&(e=l.getAttribute("metadata").sceneTitle),e||(l.setAttribute("metadata","sceneTitle",c),console.log("therefore setting metadata sceneTitle as streetplanName",c)),r.setAttribute("data-layer-name","StreetPlan • "+c),i.showBuildings&&(r.setAttribute("street","right",o.rightBuildingVariant),r.setAttribute("street","left",o.leftBuildingVariant)),r.setAttribute("street","type","streetmixSegmentsMetric"),r.setAttribute("street","JSON",JSON.stringify({streetmixSegmentsMetric:s})),r.emit("streetplan-loader-street-loaded")},update:function(t){var e=this,r=this.data;this.el;if(r.streetplanEncJSON){var n=decodeURIComponent(encodedString);this.streetplanResponseParse(JSON.parse(n))}else if(t.streetplanStreetURL!==r.streetplanStreetURL||t.streetplanAPIURL!==r.streetplanAPIURL){var i=new XMLHttpRequest;console.log("[streetplan-loader]","GET "+r.streetplanAPIURL),i.open("GET",r.streetplanAPIURL,!0),i.onload=function(){if(this.status>=200&&this.status<400){var t=JSON.parse(this.response);e.streetplanResponseParse(t)}else console.log("[streetplan-loader]","Loading Error: We reached the target server, but it returned an error")},i.onerror=function(){console.log("[streetplan-loader]","Loading Error: There was a connection error of some sort")},i.send()}}})},4406:(t,e,r)=>{var n=r(6013).SVGLoader;AFRAME.registerComponent("svg-extruder",{schema:{svgString:{type:"string"},depth:{type:"number",default:4},bevelEnabled:{type:"boolean",default:!1},bevelThickness:{type:"number",default:1},bevelSize:{type:"number",default:1},bevelOffset:{type:"number",default:1},bevelSegments:{type:"number",default:1},topElement:{type:"boolean",default:!1},topColor:{type:"color",default:"white"},topSrc:{type:"string",default:"#grass-texture"},color:{type:"color",default:"grey"},src:{type:"string",default:""},lineColor:{type:"color",default:"black"}},init:function(){var t=this.data,e=this.el;t.svgString,t.lineColor;this.loader=new n,e.removeAttribute("material"),e.setAttribute("shadow","cast: true; receive: true")},createTopEntity:function(t){var e=this.data,r=this.el.children[0];r||((r=document.createElement("a-entity")).classList.add("topElement"),this.el.appendChild(r));var n=this.mergedGeometryFromArray(t);n.translate(0,.15,0);var i=new THREE.Mesh(n,this.materialFromSrc(e.topSrc,e.topColor));r.getObject3D("mesh")&&r.removeObject3D("mesh"),r.setObject3D("mesh",i)},materialFromSrc:function(t,e){var r=null,n=""!==t?document.querySelector(t):null;n&&((r=new THREE.Texture(n)).encoding=THREE.sRGBEncoding,r.wrapS=THREE.RepeatWrapping,r.wrapT=THREE.RepeatWrapping,r.repeat.set(.01,.01));var i=new THREE.MeshStandardMaterial({color:e,map:r,roughness:1});return i.map&&(i.map.needsUpdate=!0),i},mergedGeometryFromArray:function(t){var e=THREE.BufferGeometryUtils.mergeGeometries(t);return e.computeBoundingBox(),e.computeVertexNormals(),e.center(),e.rotateX(Math.PI/2),e.scale(.05,.05,.05),e},extrudeFromSVG:function(t){var e=this.data,r=this.el,i=this.loader.parse(t),a={depth:e.depth,bevelEnabled:e.bevelEnabled,bevelThickness:e.bevelThickness,bevelSize:e.bevelSize,bevelOffset:e.bevelOffset,bevelSegments:e.bevelSegments},o=[],s=[];i.paths.forEach((function(t){n.createShapes(t).forEach((function(t){var e=new THREE.ExtrudeGeometry(t,{depth:1,bevelEnabled:!1}),r=new THREE.ExtrudeGeometry(t,a);s.push(e),o.push(r)}))}));var c=this.mergedGeometryFromArray(o),l=new THREE.LineBasicMaterial({color:e.lineColor}),u=new THREE.EdgesGeometry(c),d=new THREE.LineSegments(u,l);r.setObject3D("lines",d);var f=new THREE.Mesh(c,this.materialFromSrc(e.src,e.color));r.getObject3D("mesh")&&r.removeObject3D("mesh"),r.setObject3D("mesh",f);var p=this.el.children[0];e.topElement?this.createTopEntity(s):p&&r.removeChild(p)},update:function(t){this.el;var e=this.data.svgString;e&&this.extrudeFromSVG(e)}})},6633:()=>{function t(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=i(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){c=!0,o=t},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw o}}}}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var o;function s(t){if(t.isEntity){var e=function(t){var e={};e.element=t.tagName.toLowerCase(),t.id&&(e.id=t.id);t.className&&(e.class=Array.from(t.classList));t.getAttribute("mixin")&&(e.mixin=t.getAttribute("mixin"));t.getAttribute("data-layer-name")&&(e["data-layer-name"]=t.getAttribute("data-layer-name"));var r=t.components;if(r){var n=t.getAttribute("geometry");for(var i in n&&n.primitive&&(e.primitive=n.primitive),e.components={},r){var a=p(t,i);a&&(l(a)?e.components[i]="":e.components[i]=c(a))}}return e}(t),r=t.childNodes;if(r.length&&!["environment"].includes(e.id)){e.children=[];var i,a=n(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.nodeType===Node.ELEMENT_NODE&&e.children.push(s(o))}}catch(t){a.e(t)}finally{a.f()}}return e}}function c(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||Array.isArray(t)?t.toString():t.isVector3||t.isVector2||t.isVector4||t.hasOwnProperty("x")&&t.hasOwnProperty("y")?AFRAME.utils.coordinates.stringify(t):"object"===r(t)?Object.entries(t).map((function(t){var r=e(t,2),n=r[0],i=r[1];return"src"==n?i.src&&!i.src.includes(o)?"".concat(n,": ").concat(i.src):i.id?"".concat(n,": #").concat(i.id):"".concat(n,": ").concat(i):"".concat(n,": ").concat(c(i))})).join("; "):void 0}function l(t){return 0===Object.keys(t).length}window.STREET={},STREET.utils={},STREET.utils.getCurrentSceneId=function(){var t,e=AFRAME.scenes[0].getAttribute("metadata").sceneId,r=(t=window.location.hash.match(/#\/scenes\/([a-zA-Z0-9-]+)\.json/))&&t[1]?t[1]:null;return e||r&&(e=r),e},getCurrentSceneTitle=function(){var t=AFRAME.scenes[0].getAttribute("metadata").sceneTitle;return console.log("currentSceneTitle",t),t},STREET.utils.getCurrentSceneTitle=getCurrentSceneTitle,STREET.utils.convertDOMElToObject=function(t){var e=[],r=[t,document.querySelector("#environment"),document.querySelector("#reference-layers")];o=document.querySelector("street-assets").getAttribute("url");for(var n=0,i=r;n<i.length;n++){var a=s(i[n]);a&&e.push(a)}return{title:"scene",version:"1.0",data:e}};var u={src:{},normalMap:{},"set-loader-from-hash":"*","create-from-json":"*",street:{JSON:"*"}},d={"streetmix-loader":"not-streetmix-loader",street:"not-street",intersection:"not-intersection"};function f(t,e){if("string"==typeof t&&"string"==typeof e||"number"==typeof t&&"number"==typeof e)return t===e;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var i=0,a=r;i<a.length;i++){var o=a[i];if(t[o]!==e[o])return!1}return!0}function p(t,r){var n=AFRAME.utils.entity.getComponentProperty(t,r);if(!t.components[r])return["id","class","tag","mixin"].includes(r)?null:n;var i,a=t.components[r].schema,o=e(function(t,e,r){for(var n,i=r.mixinEls.reverse(),a=0;void 0===n&&a<i.length;a++){var o=i[a];o.attributes.hasOwnProperty(t.name)&&(n=e?o.getAttribute(t.name)[e]:o.getAttribute(t.name))}return[t.name,n]}(t.components[r],null,t),2),s=o[0],c=o[1];if(c&&["src","atlas-uvs","gltf-model","gltf-part","shadow"].includes(s))return null;if(i=a,AFRAME.schema.isSingleProperty(i)){var l=a.default,u=n;if(c&&f(c,u))return null;if((u||l)&&u!==l)return n}var d={};for(var p in n){var h=a[p]?a[p].default:"",m=n[p];c&&c[p]&&f(c[p],n[p])||(!m&&!h||AFRAME.utils.deepEqual(m,h)||(d[p]=n[p]))}return d}function h(t,e){var r,i=document.querySelector("a-scene"),a=["environment","reference-layers"],o=n(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;"street-container"===s.id&&s.children&&"default-street"===s.children[0].id&&s.children[0].components.hasOwnProperty("set-loader-from-hash")&&delete s.children[0].components["set-loader-from-hash"];var c=document.getElementById(s.id);c&&(a.includes(s.id)?c.remove():s.entityElement=c),m(s,i)}}catch(t){o.e(t)}finally{o.f()}}function m(e,r){var i,a=e.entityElement||document.createElement(e.element);!a.parentEl&&r&&r.appendChild(a),e.primitive&&a.setAttribute("geometry","primitive",e.primitive);for(var o=0,s=["geometry","material"];o<s.length;o++){var c=s[o];e.components[c]&&(a.setAttribute(c,e.components[c]),delete e.components[c])}(e.id&&a.setAttribute("id",e.id),e.class)&&(i=a.classList).add.apply(i,t(e.class));if(e["data-layer-name"]&&a.setAttribute("data-layer-name",e["data-layer-name"]),a.addEventListener("loaded",(function(){for(var t in e.components)a.setAttribute(t,e.components[t]);e.mixin&&a.setAttribute("mixin",e.mixin),a.emit("entitycreated",{},!1)})),e.children){var l,u=n(e.children);try{for(u.s();!(l=u.n()).done;){m(l.value,a)}}catch(t){u.e(t)}finally{u.f()}}}function g(t){var e={};if("string"==typeof t){var n=t.replace(/\'/g,"").replace(/\n/g,"").replace(/[\u0000-\u0019]+/g,"");e=JSON.parse(n)}else"object"===r(t)&&(e=t);var i=e.title;for(i&&(console.log("sceneTitle from createElementsFromJSON",i),AFRAME.scenes[0].setAttribute("metadata","sceneTitle",i)),streetContainerEl=document.getElementById("street-container");streetContainerEl.firstChild;)streetContainerEl.removeChild(streetContainerEl.lastChild);h(e.data,streetContainerEl),STREET.notify.successMessage("Scene loaded from JSON")}STREET.utils.filterJSONstreet=function(t){function e(t,e){if(AFRAME.utils.deepEqual(t,e)||"*"===t)return!0}var n=JSON.stringify(t,(function(t,n){var i;for(var a in u)if(t===a){i=AFRAME.utils.styleParser.parse(n);var o=u[a];if("object"===r(o)&&!l(o))for(var s=0,c=Object.keys(o);s<c.length;s++){var d=c[s],f=o[d];Object.prototype.hasOwnProperty.call(i,d)&&e(f,i[d])&&delete i[d]}if(e(o,n))return}return i||n}));for(var i in d){var a=new RegExp('"'.concat(i,'":'),"g");n=n.replaceAll(a,'"'.concat(d[i],'":'))}return n},STREET.utils.createEntities=h,AFRAME.registerComponent("metadata",{schema:{sceneTitle:{default:""},sceneId:{default:""}},init:function(){},update:function(t){var e=this.data.sceneTitle;e!==t.sceneTitle&&this.el.emit("newTitle",{sceneTitle:e})}}),AFRAME.registerComponent("scene-title",{schema:{titleText:{default:""}},init:function(){var t=this;this.titleElement=void 0,this.el.addEventListener("newTitle",(function(e){t.el.setAttribute("scene-title","titleText",e.detail.sceneTitle)}))},createTitleElement:function(t){var e=this.titleElement=document.createElement("div"),r=document.createTextNode(t);e.setAttribute("id","sceneTitle"),e.appendChild(r),document.body.append(e)},updateTitleText:function(t){this.titleElement.textContent=t},update:function(t){if(0!==Object.keys(t).length){var e=this.data.titleText,r=this.titleElement;e!==t.titleText&&(r?this.updateTitleText(e):this.createTitleElement(e))}}}),AFRAME.registerComponent("set-loader-from-hash",{schema:{defaultURL:{type:"string"}},init:function(){this.runOnce=!1},play:function(){if(!this.runOnce){this.runOnce=!0;var t=window.location.hash.substring(1);if(!t)return;t.includes("//streetmix.net")?(console.log("[set-loader-from-hash]","Set streetmix-loader streetmixStreetURL to",t),this.el.setAttribute("streetmix-loader","streetmixStreetURL",t)):t.includes("streetplan.net/")?(console.log("[set-loader-from-hash]","Set streetplan-loader streetplanAPIURL to",t),this.el.setAttribute("streetplan-loader","streetplanAPIURL",t)):(console.log("[set-loader-from-hash]","Load 3DStreet scene with fetchJSON from",t),this.fetchJSON(t))}},fetchJSON:function(t){var e=new XMLHttpRequest;e.open("GET",t,!0),e.onload=function(){if(this.status>=200&&this.status<400){var e=JSON.parse(this.response,(function(t,e){return"set-loader-from-hash"===t?void 0:e}));console.log("[set-loader-from-hash]","200 response received and JSON parsed, now createElementsFromJSON"),STREET.utils.createElementsFromJSON(e);var r=function(t){var e=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/,r=t.match(e);if(r)return r[0];return null}(t);r&&(console.log("sceneId from fetchJSON from url hash loader",r),AFRAME.scenes[0].setAttribute("metadata","sceneId",r))}else 404===this.status&&(console.error("[set-loader-from-hash] Error trying to load scene: Resource not found."),STREET.notify.errorMessage("Error trying to load scene: Resource not found."))},e.onerror=function(){console.error("Loading Error: There was a connection error during JSON loading"),STREET.notify.errorMessage("Could not fetch scene.")},e.send()}}),STREET.utils.inputStreetmix=function(){for(streetmixURL=prompt("Please enter a Streetmix URL","https://streetmix.net/kfarr/3/example-street"),setTimeout((function(){window.location.hash=streetmixURL})),streetContainerEl=document.getElementById("street-container");streetContainerEl.firstChild;)streetContainerEl.removeChild(streetContainerEl.lastChild);AFRAME.scenes[0].setAttribute("metadata","sceneId",""),AFRAME.scenes[0].setAttribute("metadata","sceneTitle",""),streetContainerEl.innerHTML='<a-entity street streetmix-loader="streetmixStreetURL: '+streetmixURL+'""></a-entity>'},STREET.utils.createElementsFromJSON=g,STREET.utils.fileJSON=function(){var t=new FileReader;t.onload=function(){AFRAME.scenes[0].setAttribute("metadata","sceneId",""),AFRAME.scenes[0].setAttribute("metadata","sceneTitle",""),g(t.result)},t.readAsText(this.files[0])}},6013:t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},a(t,e)}function o(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(r){var a=s(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(t,r){if(r&&("object"===e(r)||"function"==typeof r))return r;return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}var c=THREE,l=c.Box2,u=c.BufferGeometry,d=c.FileLoader,f=c.Float32BufferAttribute,p=c.Loader,h=c.Matrix3,m=c.Path,g=c.Shape,v=c.ShapePath,y=c.ShapeUtils,b=c.SRGBColorSpace,x=c.Vector2,w=c.Vector3,A=b,S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(b,t);var n,s,c,p=o(b);function b(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b),(e=p.call(this,t)).defaultDPI=90,e.defaultUnit="px",e}return n=b,c=[{key:"createShapes",value:function(t){var e=999999999,r={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},n={loc:r.ORIGIN,t:0};function i(t,e,i,o){var s=t.x,c=e.x,l=i.x,u=o.x,d=t.y,f=e.y,p=i.y,h=o.y,m=(u-l)*(d-p)-(h-p)*(s-l),g=(h-p)*(c-s)-(u-l)*(f-d),v=m/g,y=((c-s)*(d-p)-(f-d)*(s-l))/g;if(0===g&&0!==m||v<=0||v>=1||y<0||y>1)return null;if(0===m&&0===g){for(var b=0;b<2;b++){if(a(0===b?i:o,t,e),n.loc==r.ORIGIN){var x=0===b?i:o;return{x:x.x,y:x.y,t:n.t}}if(n.loc==r.BETWEEN)return{x:+(s+n.t*(c-s)).toPrecision(10),y:+(d+n.t*(f-d)).toPrecision(10),t:n.t}}return null}for(var w=0;w<2;w++)if(a(0===w?i:o,t,e),n.loc==r.ORIGIN){var A=0===w?i:o;return{x:A.x,y:A.y,t:n.t}}return{x:+(s+v*(c-s)).toPrecision(10),y:+(d+v*(f-d)).toPrecision(10),t:v}}function a(t,e,i){var a,o=i.x-e.x,s=i.y-e.y,c=t.x-e.x,l=t.y-e.y,u=o*l-c*s;return t.x===e.x&&t.y===e.y?(n.loc=r.ORIGIN,void(n.t=0)):t.x===i.x&&t.y===i.y?(n.loc=r.DESTINATION,void(n.t=1)):void(u<-Number.EPSILON?n.loc=r.LEFT:u>Number.EPSILON?n.loc=r.RIGHT:o*c<0||s*l<0?n.loc=r.BEHIND:Math.sqrt(o*o+s*s)<Math.sqrt(c*c+l*l)?n.loc=r.BEYOND:(a=0!==o?c/o:l/s,n.loc=r.BETWEEN,n.t=a))}function o(t,e,r){var n=new x;e.getCenter(n);var a=[];return r.forEach((function(e){e.boundingBox.containsPoint(n)&&function(t,e){for(var r=[],n=[],a=1;a<t.length;a++)for(var o=t[a-1],s=t[a],c=function(t){var a=e[t-1],c=e[t],l=i(o,s,a,c);null!==l&&void 0===r.find((function(t){return t.t<=l.t+Number.EPSILON&&t.t>=l.t-Number.EPSILON}))&&(r.push(l),n.push(new x(l.x,l.y)))},l=1;l<e.length;l++)c(l);return n}(t,e.points).forEach((function(t){a.push({identifier:e.identifier,isCW:e.isCW,point:t})}))})),a.sort((function(t,e){return t.point.x-e.point.x})),a}var s=e,c=-999999999,u=t.subPaths.map((function(t){for(var r=t.getPoints(),n=-999999999,i=e,a=-999999999,o=e,u=0;u<r.length;u++){var d=r[u];d.y>n&&(n=d.y),d.y<i&&(i=d.y),d.x>a&&(a=d.x),d.x<o&&(o=d.x)}return c<=a&&(c=a+1),s>=o&&(s=o-1),{curves:t.curves,points:r,isCW:y.isClockWise(r),identifier:-1,boundingBox:new l(new x(o,i),new x(a,n))}}));u=u.filter((function(t){return t.points.length>1}));for(var d=0;d<u.length;d++)u[d].identifier=d;var f=u.map((function(e){return function(t,e,r,n,i){null!=i&&""!==i||(i="nonzero");var a=new x;t.boundingBox.getCenter(a);var s=o([new x(r,a.y),new x(n,a.y)],t.boundingBox,e);s.sort((function(t,e){return t.point.x-e.point.x}));var c=[],l=[];s.forEach((function(e){e.identifier===t.identifier?c.push(e):l.push(e)}));for(var u=c[0].point.x,d=[],f=0;f<l.length&&l[f].point.x<u;)d.length>0&&d[d.length-1]===l[f].identifier?d.pop():d.push(l[f].identifier),f++;if(d.push(t.identifier),"evenodd"===i){var p=d.length%2==0,h=d[d.length-2];return{identifier:t.identifier,isHole:p,for:h}}if("nonzero"===i){for(var m=!0,g=null,v=null,y=0;y<d.length;y++){var b=d[y];m?(v=e[b].isCW,m=!1,g=b):v!==e[b].isCW&&(v=e[b].isCW,m=!0)}return{identifier:t.identifier,isHole:m,for:g}}console.warn('fill-rule: "'+i+'" is currently not implemented.')}(e,u,s,c,t.userData?t.userData.style.fillRule:void 0)})),p=[];return u.forEach((function(t){if(!f[t.identifier].isHole){var e=new g;e.curves=t.curves,f.filter((function(e){return e.isHole&&e.for===t.identifier})).forEach((function(t){var r=u[t.identifier],n=new m;n.curves=r.curves,e.holes.push(n)})),p.push(e)}})),p}},{key:"getStrokeStyle",value:function(t,e,r,n,i){return{strokeColor:e=void 0!==e?e:"#000",strokeWidth:t=void 0!==t?t:1,strokeLineJoin:r=void 0!==r?r:"miter",strokeLineCap:n=void 0!==n?n:"butt",strokeMiterLimit:i=void 0!==i?i:4}}},{key:"pointsToStroke",value:function(t,e,r,n){var i=[],a=[],o=[];if(0===b.pointsToStrokeWithBuffers(t,e,r,n,i,a,o))return null;var s=new u;return s.setAttribute("position",new f(i,3)),s.setAttribute("normal",new f(a,3)),s.setAttribute("uv",new f(o,2)),s}},{key:"pointsToStrokeWithBuffers",value:function(t,e,r,n,i,a,o,s){var c=new x,l=new x,u=new x,d=new x,f=new x,p=new x,h=new x,m=new x,g=new x,v=new x,y=new x,b=new x,w=new x,A=new x,S=new x,E=new x,M=new x;r=void 0!==r?r:12,n=void 0!==n?n:.001,s=void 0!==s?s:0;var k=(t=function(t){for(var e=!1,r=1,i=t.length-1;r<i;r++)if(t[r].distanceTo(t[r+1])<n){e=!0;break}if(!e)return t;var a=[];a.push(t[0]);for(var o=1,s=t.length-1;o<s;o++)t[o].distanceTo(t[o+1])>=n&&a.push(t[o]);return a.push(t[t.length-1]),a}(t)).length;if(k<2)return 0;var _,T,O,R,N,P,C=t[0].equals(t[k-1]),I=t[0],j=e.strokeWidth/2,F=1/(k-1),L=0,B=!1,D=0,z=3*s,V=2*s;Q(t[0],t[1],c).multiplyScalar(j),m.copy(t[0]).sub(c),g.copy(t[0]).add(c),v.copy(m),y.copy(g);for(var H=1;H<k;H++){_=t[H],T=H===k-1?C?t[1]:void 0:t[H+1];var G=c;if(Q(I,_,G),u.copy(G).multiplyScalar(j),b.copy(_).sub(u),w.copy(_).add(u),O=L+F,R=!1,void 0!==T){Q(_,T,l),u.copy(l).multiplyScalar(j),A.copy(_).sub(u),S.copy(_).add(u),N=!0,u.subVectors(T,I),G.dot(u)<0&&(N=!1),1===H&&(B=N),u.subVectors(T,_),u.normalize();var U=Math.abs(G.dot(u));if(U>Number.EPSILON){var W=j/U;u.multiplyScalar(-W),d.subVectors(_,I),f.copy(d).setLength(W).add(u),E.copy(f).negate();var Y=f.length(),q=d.length();d.divideScalar(q),p.subVectors(T,_);var J=p.length();switch(p.divideScalar(J),d.dot(E)<q&&p.dot(E)<J&&(R=!0),M.copy(f).add(_),E.add(_),P=!1,R?N?(S.copy(E),w.copy(E)):(A.copy(E),b.copy(E)):et(),e.strokeLineJoin){case"bevel":rt(N,R,O);break;case"round":nt(N,R),N?tt(_,b,A,O,0):tt(_,S,w,O,1);break;default:var X=j*e.strokeMiterLimit/Y;if(X<1){if("miter-clip"!==e.strokeLineJoin){rt(N,R,O);break}nt(N,R),N?(p.subVectors(M,b).multiplyScalar(X).add(b),h.subVectors(M,A).multiplyScalar(X).add(A),$(b,O,0),$(p,O,0),$(_,O,.5),$(_,O,.5),$(p,O,0),$(h,O,0),$(_,O,.5),$(h,O,0),$(A,O,0)):(p.subVectors(M,w).multiplyScalar(X).add(w),h.subVectors(M,S).multiplyScalar(X).add(S),$(w,O,1),$(p,O,1),$(_,O,.5),$(_,O,.5),$(p,O,1),$(h,O,1),$(_,O,.5),$(h,O,1),$(S,O,1))}else R?(N?($(g,L,1),$(m,L,0),$(M,O,0),$(g,L,1),$(M,O,0),$(E,O,1)):($(g,L,1),$(m,L,0),$(M,O,1),$(m,L,0),$(E,O,0),$(M,O,1)),N?A.copy(M):S.copy(M)):N?($(b,O,0),$(M,O,0),$(_,O,.5),$(_,O,.5),$(M,O,0),$(A,O,0)):($(w,O,1),$(M,O,1),$(_,O,.5),$(_,O,.5),$(M,O,1),$(S,O,1)),P=!0}}else et()}else et();C||H!==k-1||it(t[0],v,y,N,!0,L),L=O,I=_,m.copy(A),g.copy(S)}if(C){if(R&&i){var K=M,Z=E;B!==N&&(K=E,Z=M),N?(P||B)&&(Z.toArray(i,0),Z.toArray(i,9),P&&K.toArray(i,3)):!P&&B||(Z.toArray(i,3),Z.toArray(i,9),P&&K.toArray(i,0))}}else it(_,b,w,N,!1,O);return D;function Q(t,e,r){return r.subVectors(e,t),r.set(-r.y,r.x).normalize()}function $(t,e,r){i&&(i[z]=t.x,i[z+1]=t.y,i[z+2]=0,a&&(a[z]=0,a[z+1]=0,a[z+2]=1),z+=3,o&&(o[V]=e,o[V+1]=r,V+=2)),D+=3}function tt(t,e,n,i,a){c.copy(e).sub(t).normalize(),l.copy(n).sub(t).normalize();var o=Math.PI,s=c.dot(l);Math.abs(s)<1&&(o=Math.abs(Math.acos(s))),o/=r,u.copy(e);for(var f=0,p=r-1;f<p;f++)d.copy(u).rotateAround(t,o),$(u,i,a),$(d,i,a),$(t,i,.5),u.copy(d);$(d,i,a),$(n,i,a),$(t,i,.5)}function et(){$(g,L,1),$(m,L,0),$(b,O,0),$(g,L,1),$(b,O,0),$(w,O,1)}function rt(t,e,r){e?t?($(g,L,1),$(m,L,0),$(b,O,0),$(g,L,1),$(b,O,0),$(E,O,1),$(b,r,0),$(A,r,0),$(E,r,.5)):($(g,L,1),$(m,L,0),$(w,O,1),$(m,L,0),$(E,O,0),$(w,O,1),$(w,r,1),$(E,r,0),$(S,r,1)):t?($(b,r,0),$(A,r,0),$(_,r,.5)):($(w,r,1),$(S,r,0),$(_,r,.5))}function nt(t,e){e&&(t?($(g,L,1),$(m,L,0),$(b,O,0),$(g,L,1),$(b,O,0),$(E,O,1),$(b,L,0),$(_,O,.5),$(E,O,1),$(_,O,.5),$(A,L,0),$(E,O,1)):($(g,L,1),$(m,L,0),$(w,O,1),$(m,L,0),$(E,O,0),$(w,O,1),$(w,L,1),$(E,O,0),$(_,O,.5),$(_,O,.5),$(E,O,0),$(S,L,1)))}function it(t,r,n,a,s,f){switch(e.strokeLineCap){case"round":s?tt(t,n,r,f,.5):tt(t,r,n,f,.5);break;case"square":if(s)c.subVectors(r,t),l.set(c.y,-c.x),u.addVectors(c,l).add(t),d.subVectors(l,c).add(t),a?(u.toArray(i,3),d.toArray(i,0),d.toArray(i,9)):(u.toArray(i,3),1===o[7]?d.toArray(i,9):u.toArray(i,9),d.toArray(i,0));else{c.subVectors(n,t),l.set(c.y,-c.x),u.addVectors(c,l).add(t),d.subVectors(l,c).add(t);var p=i.length;a?(u.toArray(i,p-3),d.toArray(i,p-6),d.toArray(i,p-12)):(d.toArray(i,p-6),u.toArray(i,p-3),d.toArray(i,p-12))}}}}}],(s=[{key:"load",value:function(t,e,r,n){var i=this,a=new d(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(t,(function(r){try{e(i.parse(r))}catch(e){n?n(e):console.error(e),i.manager.itemError(t)}}),r,n)}},{key:"parse",value:function(t){var n=this;function i(t,e,r,n,i,o,s,c){if(0!=e&&0!=r){n=n*Math.PI/180,e=Math.abs(e),r=Math.abs(r);var l=(s.x-c.x)/2,u=(s.y-c.y)/2,d=Math.cos(n)*l+Math.sin(n)*u,f=-Math.sin(n)*l+Math.cos(n)*u,p=e*e,h=r*r,m=d*d,g=f*f,v=m/p+g/h;if(v>1){var y=Math.sqrt(v);p=(e*=y)*e,h=(r*=y)*r}var b=p*g+h*m,x=(p*h-b)/b,w=Math.sqrt(Math.max(0,x));i===o&&(w=-w);var A=w*e*f/r,S=-w*r*d/e,E=Math.cos(n)*A-Math.sin(n)*S+(s.x+c.x)/2,M=Math.sin(n)*A+Math.cos(n)*S+(s.y+c.y)/2,k=a(1,0,(d-A)/e,(f-S)/r),_=a((d-A)/e,(f-S)/r,(-d-A)/e,(-f-S)/r)%(2*Math.PI);t.currentPath.absellipse(E,M,e,r,k,k+_,0===o,n)}else t.lineTo(c.x,c.y)}function a(t,e,r,n){var i=t*r+e*n,a=Math.sqrt(t*t+e*e)*Math.sqrt(r*r+n*n),o=Math.acos(Math.max(-1,Math.min(1,i/a)));return t*n-e*r<0&&(o=-o),o}function o(t,e){e=Object.assign({},e);var r={};if(t.hasAttribute("class"))for(var n=t.getAttribute("class").split(/\s/).filter(Boolean).map((function(t){return t.trim()})),i=0;i<n.length;i++)r=Object.assign(r,S["."+n[i]]);function a(n,i,a){void 0===a&&(a=function(t){return t.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),t}),t.hasAttribute(n)&&(e[i]=a(t.getAttribute(n))),r[n]&&(e[i]=a(r[n])),t.style&&""!==t.style[n]&&(e[i]=a(t.style[n]))}function o(t){return Math.max(0,Math.min(1,d(t)))}function s(t){return Math.max(0,d(t))}return t.hasAttribute("id")&&(r=Object.assign(r,S["#"+t.getAttribute("id")])),a("fill","fill"),a("fill-opacity","fillOpacity",o),a("fill-rule","fillRule"),a("opacity","opacity",o),a("stroke","stroke"),a("stroke-opacity","strokeOpacity",o),a("stroke-width","strokeWidth",s),a("stroke-linejoin","strokeLineJoin"),a("stroke-linecap","strokeLineCap"),a("stroke-miterlimit","strokeMiterLimit",s),a("visibility","visibility"),e}function s(t,e){return t-(e-t)}function c(t,r,n){if("string"!=typeof t)throw new TypeError("Invalid input: "+e(t));var i,a={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},o=0,s=!0,c="",l="",u=[];function d(t,e,r){var n=new SyntaxError('Unexpected character "'+t+'" at index '+e+".");throw n.partial=r,n}function f(){""!==c&&(""===l?u.push(Number(c)):u.push(Number(c)*Math.pow(10,Number(l)))),c="",l=""}for(var p=t.length,h=0;h<p;h++)if(i=t[h],Array.isArray(r)&&r.includes(u.length%n)&&a.FLAGS.test(i))o=1,c=i,f();else{if(0===o){if(a.WHITESPACE.test(i))continue;if(a.DIGIT.test(i)||a.SIGN.test(i)){o=1,c=i;continue}if(a.POINT.test(i)){o=2,c=i;continue}a.COMMA.test(i)&&(s&&d(i,h,u),s=!0)}if(1===o){if(a.DIGIT.test(i)){c+=i;continue}if(a.POINT.test(i)){c+=i,o=2;continue}if(a.EXP.test(i)){o=3;continue}a.SIGN.test(i)&&1===c.length&&a.SIGN.test(c[0])&&d(i,h,u)}if(2===o){if(a.DIGIT.test(i)){c+=i;continue}if(a.EXP.test(i)){o=3;continue}a.POINT.test(i)&&"."===c[c.length-1]&&d(i,h,u)}if(3===o){if(a.DIGIT.test(i)){l+=i;continue}if(a.SIGN.test(i)){if(""===l){l+=i;continue}1===l.length&&a.SIGN.test(l)&&d(i,h,u)}}a.WHITESPACE.test(i)?(f(),o=0,s=!1):a.COMMA.test(i)?(f(),o=0,s=!0):a.SIGN.test(i)?(f(),o=1,c=i):a.POINT.test(i)?(f(),o=2,c=i):d(i,h,u)}return f(),u}var l=["mm","cm","in","pt","pc","px"],u={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function d(t){var e="px";if("string"==typeof t||t instanceof String)for(var r=0,i=l.length;r<i;r++){var a=l[r];if(t.endsWith(a)){e=a,t=t.substring(0,t.length-a.length);break}}var o=void 0;return"px"===e&&"px"!==n.defaultUnit?o=u.in[n.defaultUnit]/n.defaultDPI:(o=u[e][n.defaultUnit])<0&&(o=u[e].in*n.defaultDPI),o*parseFloat(t)}function f(t){var e=t.elements;return e[0]*e[4]-e[1]*e[3]<0}function p(t){var e=t.elements,r=e[0]*e[3]+e[1]*e[4];if(0===r)return!1;var n=g(t),i=y(t);return Math.abs(r/(n*i))>Number.EPSILON}function g(t){var e=t.elements;return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function y(t){var e=t.elements;return Math.sqrt(e[3]*e[3]+e[4]*e[4])}var b=[],S={},E=[],M=new h,k=new h,_=new h,T=new h,O=new x,R=new w,N=new h,P=(new DOMParser).parseFromString(t,"image/svg+xml");return function t(e,n){if(1===e.nodeType){var a=function(t){if(!(t.hasAttribute("transform")||"use"===t.nodeName&&(t.hasAttribute("x")||t.hasAttribute("y"))))return null;var e=function(t){var e=new h,r=M;if("use"===t.nodeName&&(t.hasAttribute("x")||t.hasAttribute("y"))){var n=d(t.getAttribute("x")),i=d(t.getAttribute("y"));e.translate(n,i)}if(t.hasAttribute("transform"))for(var a=t.getAttribute("transform").split(")"),o=a.length-1;o>=0;o--){var s=a[o].trim();if(""!==s){var l=s.indexOf("("),u=s.length;if(l>0&&l<u){var f=s.slice(0,l),p=c(s.slice(l+1));switch(r.identity(),f){case"translate":if(p.length>=1){var m=p[0],g=0;p.length>=2&&(g=p[1]),r.translate(m,g)}break;case"rotate":if(p.length>=1){var v=0,y=0,b=0;v=p[0]*Math.PI/180,p.length>=3&&(y=p[1],b=p[2]),k.makeTranslation(-y,-b),_.makeRotation(v),T.multiplyMatrices(_,k),k.makeTranslation(y,b),r.multiplyMatrices(k,T)}break;case"scale":if(p.length>=1){var x=p[0],w=x;p.length>=2&&(w=p[1]),r.scale(x,w)}break;case"skewX":1===p.length&&r.set(1,Math.tan(p[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===p.length&&r.set(1,0,0,Math.tan(p[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===p.length&&r.set(p[0],p[2],p[4],p[1],p[3],p[5],0,0,1)}}e.premultiply(r)}}return e}(t);return E.length>0&&e.premultiply(E[E.length-1]),N.copy(e),E.push(e),e}(e),l=!1,u=null;switch(e.nodeName){case"svg":case"g":n=o(e,n);break;case"style":!function(t){if(t.sheet&&t.sheet.cssRules&&t.sheet.cssRules.length)for(var e=0;e<t.sheet.cssRules.length;e++){var n=t.sheet.cssRules[e];if(1===n.type)for(var i=n.selectorText.split(/,/gm).filter(Boolean).map((function(t){return t.trim()})),a=0;a<i.length;a++){var o=Object.fromEntries(Object.entries(n.style).filter((function(t){return""!==r(t,2)[1]})));S[i[a]]=Object.assign(S[i[a]]||{},o)}}}(e);break;case"path":n=o(e,n),e.hasAttribute("d")&&(u=function(t){var e=new v,r=new x,n=new x,a=new x,o=!0,l=!1,u=t.getAttribute("d");if(""===u||"none"===u)return null;for(var d=u.match(/[a-df-z][^a-df-z]*/gi),f=0,p=d.length;f<p;f++){var h=d[f],m=h.charAt(0),g=h.slice(1).trim();!0===o&&(l=!0,o=!1);var y=void 0;switch(m){case"M":for(var b=0,w=(y=c(g)).length;b<w;b+=2)r.x=y[b+0],r.y=y[b+1],n.x=r.x,n.y=r.y,0===b?e.moveTo(r.x,r.y):e.lineTo(r.x,r.y),0===b&&a.copy(r);break;case"H":for(var A=0,S=(y=c(g)).length;A<S;A++)r.x=y[A],n.x=r.x,n.y=r.y,e.lineTo(r.x,r.y),0===A&&!0===l&&a.copy(r);break;case"V":for(var E=0,M=(y=c(g)).length;E<M;E++)r.y=y[E],n.x=r.x,n.y=r.y,e.lineTo(r.x,r.y),0===E&&!0===l&&a.copy(r);break;case"L":for(var k=0,_=(y=c(g)).length;k<_;k+=2)r.x=y[k+0],r.y=y[k+1],n.x=r.x,n.y=r.y,e.lineTo(r.x,r.y),0===k&&!0===l&&a.copy(r);break;case"C":for(var T=0,O=(y=c(g)).length;T<O;T+=6)e.bezierCurveTo(y[T+0],y[T+1],y[T+2],y[T+3],y[T+4],y[T+5]),n.x=y[T+2],n.y=y[T+3],r.x=y[T+4],r.y=y[T+5],0===T&&!0===l&&a.copy(r);break;case"S":for(var R=0,N=(y=c(g)).length;R<N;R+=4)e.bezierCurveTo(s(r.x,n.x),s(r.y,n.y),y[R+0],y[R+1],y[R+2],y[R+3]),n.x=y[R+0],n.y=y[R+1],r.x=y[R+2],r.y=y[R+3],0===R&&!0===l&&a.copy(r);break;case"Q":for(var P=0,C=(y=c(g)).length;P<C;P+=4)e.quadraticCurveTo(y[P+0],y[P+1],y[P+2],y[P+3]),n.x=y[P+0],n.y=y[P+1],r.x=y[P+2],r.y=y[P+3],0===P&&!0===l&&a.copy(r);break;case"T":for(var I=0,j=(y=c(g)).length;I<j;I+=2){var F=s(r.x,n.x),L=s(r.y,n.y);e.quadraticCurveTo(F,L,y[I+0],y[I+1]),n.x=F,n.y=L,r.x=y[I+0],r.y=y[I+1],0===I&&!0===l&&a.copy(r)}break;case"A":for(var B=0,D=(y=c(g,[3,4],7)).length;B<D;B+=7)if(y[B+5]!=r.x||y[B+6]!=r.y){var z=r.clone();r.x=y[B+5],r.y=y[B+6],n.x=r.x,n.y=r.y,i(e,y[B],y[B+1],y[B+2],y[B+3],y[B+4],z,r),0===B&&!0===l&&a.copy(r)}break;case"m":for(var V=0,H=(y=c(g)).length;V<H;V+=2)r.x+=y[V+0],r.y+=y[V+1],n.x=r.x,n.y=r.y,0===V?e.moveTo(r.x,r.y):e.lineTo(r.x,r.y),0===V&&a.copy(r);break;case"h":for(var G=0,U=(y=c(g)).length;G<U;G++)r.x+=y[G],n.x=r.x,n.y=r.y,e.lineTo(r.x,r.y),0===G&&!0===l&&a.copy(r);break;case"v":for(var W=0,Y=(y=c(g)).length;W<Y;W++)r.y+=y[W],n.x=r.x,n.y=r.y,e.lineTo(r.x,r.y),0===W&&!0===l&&a.copy(r);break;case"l":for(var q=0,J=(y=c(g)).length;q<J;q+=2)r.x+=y[q+0],r.y+=y[q+1],n.x=r.x,n.y=r.y,e.lineTo(r.x,r.y),0===q&&!0===l&&a.copy(r);break;case"c":for(var X=0,K=(y=c(g)).length;X<K;X+=6)e.bezierCurveTo(r.x+y[X+0],r.y+y[X+1],r.x+y[X+2],r.y+y[X+3],r.x+y[X+4],r.y+y[X+5]),n.x=r.x+y[X+2],n.y=r.y+y[X+3],r.x+=y[X+4],r.y+=y[X+5],0===X&&!0===l&&a.copy(r);break;case"s":for(var Z=0,Q=(y=c(g)).length;Z<Q;Z+=4)e.bezierCurveTo(s(r.x,n.x),s(r.y,n.y),r.x+y[Z+0],r.y+y[Z+1],r.x+y[Z+2],r.y+y[Z+3]),n.x=r.x+y[Z+0],n.y=r.y+y[Z+1],r.x+=y[Z+2],r.y+=y[Z+3],0===Z&&!0===l&&a.copy(r);break;case"q":for(var $=0,tt=(y=c(g)).length;$<tt;$+=4)e.quadraticCurveTo(r.x+y[$+0],r.y+y[$+1],r.x+y[$+2],r.y+y[$+3]),n.x=r.x+y[$+0],n.y=r.y+y[$+1],r.x+=y[$+2],r.y+=y[$+3],0===$&&!0===l&&a.copy(r);break;case"t":for(var et=0,rt=(y=c(g)).length;et<rt;et+=2){var nt=s(r.x,n.x),it=s(r.y,n.y);e.quadraticCurveTo(nt,it,r.x+y[et+0],r.y+y[et+1]),n.x=nt,n.y=it,r.x=r.x+y[et+0],r.y=r.y+y[et+1],0===et&&!0===l&&a.copy(r)}break;case"a":for(var at=0,ot=(y=c(g,[3,4],7)).length;at<ot;at+=7)if(0!=y[at+5]||0!=y[at+6]){var st=r.clone();r.x+=y[at+5],r.y+=y[at+6],n.x=r.x,n.y=r.y,i(e,y[at],y[at+1],y[at+2],y[at+3],y[at+4],st,r),0===at&&!0===l&&a.copy(r)}break;case"Z":case"z":e.currentPath.autoClose=!0,e.currentPath.curves.length>0&&(r.copy(a),e.currentPath.currentPoint.copy(r),o=!0);break;default:console.warn(h)}l=!1}return e}(e));break;case"rect":n=o(e,n),u=function(t){var e=d(t.getAttribute("x")||0),r=d(t.getAttribute("y")||0),n=d(t.getAttribute("rx")||t.getAttribute("ry")||0),i=d(t.getAttribute("ry")||t.getAttribute("rx")||0),a=d(t.getAttribute("width")),o=d(t.getAttribute("height")),s=.448084975506,c=new v;return c.moveTo(e+n,r),c.lineTo(e+a-n,r),(0!==n||0!==i)&&c.bezierCurveTo(e+a-n*s,r,e+a,r+i*s,e+a,r+i),c.lineTo(e+a,r+o-i),(0!==n||0!==i)&&c.bezierCurveTo(e+a,r+o-i*s,e+a-n*s,r+o,e+a-n,r+o),c.lineTo(e+n,r+o),(0!==n||0!==i)&&c.bezierCurveTo(e+n*s,r+o,e,r+o-i*s,e,r+o-i),c.lineTo(e,r+i),(0!==n||0!==i)&&c.bezierCurveTo(e,r+i*s,e+n*s,r,e+n,r),c}(e);break;case"polygon":n=o(e,n),u=function(t){function e(t,e,r){var a=d(e),o=d(r);0===i?n.moveTo(a,o):n.lineTo(a,o),i++}var r=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,n=new v,i=0;return t.getAttribute("points").replace(r,e),n.currentPath.autoClose=!0,n}(e);break;case"polyline":n=o(e,n),u=function(t){function e(t,e,r){var a=d(e),o=d(r);0===i?n.moveTo(a,o):n.lineTo(a,o),i++}var r=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,n=new v,i=0;return t.getAttribute("points").replace(r,e),n.currentPath.autoClose=!1,n}(e);break;case"circle":n=o(e,n),u=function(t){var e=d(t.getAttribute("cx")||0),r=d(t.getAttribute("cy")||0),n=d(t.getAttribute("r")||0),i=new m;i.absarc(e,r,n,0,2*Math.PI);var a=new v;return a.subPaths.push(i),a}(e);break;case"ellipse":n=o(e,n),u=function(t){var e=d(t.getAttribute("cx")||0),r=d(t.getAttribute("cy")||0),n=d(t.getAttribute("rx")||0),i=d(t.getAttribute("ry")||0),a=new m;a.absellipse(e,r,n,i,0,2*Math.PI);var o=new v;return o.subPaths.push(a),o}(e);break;case"line":n=o(e,n),u=function(t){var e=d(t.getAttribute("x1")||0),r=d(t.getAttribute("y1")||0),n=d(t.getAttribute("x2")||0),i=d(t.getAttribute("y2")||0),a=new v;return a.moveTo(e,r),a.lineTo(n,i),a.currentPath.autoClose=!1,a}(e);break;case"defs":l=!0;break;case"use":n=o(e,n);var P=(e.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),C=e.viewportElement.getElementById(P);C?t(C,n):console.warn("SVGLoader: 'use node' references non-existent node id: "+P)}u&&(void 0!==n.fill&&"none"!==n.fill&&u.color.setStyle(n.fill,A),function(t,e){function r(t){R.set(t.x,t.y,1).applyMatrix3(e),t.set(R.x,R.y)}function n(t){var r,n,i,a,o,s,c,l,u,d,p,h=t.xRadius,m=t.yRadius,g=Math.cos(t.aRotation),v=Math.sin(t.aRotation),y=new w(h*g,h*v,0),b=new w(-m*v,m*g,0),x=y.applyMatrix3(e),A=b.applyMatrix3(e),S=M.set(x.x,A.x,0,x.y,A.y,0,0,0,1),E=k.copy(S).invert(),T=_.copy(E).transpose().multiply(E).elements,O=(r=T[0],n=T[1],i=T[4],u=r+i,d=r-i,p=Math.sqrt(d*d+4*n*n),u>0?o=r*(l=1/(a=.5*(u+p)))*i-n*l*n:u<0?o=.5*(u-p):(a=.5*p,o=-.5*p),s=d>0?d+p:d-p,Math.abs(s)>2*Math.abs(n)?s=(l=-2*n/s)*(c=1/Math.sqrt(1+l*l)):0===Math.abs(n)?(s=1,c=0):c=(l=-.5*s/n)*(s=1/Math.sqrt(1+l*l)),d>0&&(l=s,s=-c,c=l),{rt1:a,rt2:o,cs:s,sn:c}),R=Math.sqrt(O.rt1),N=Math.sqrt(O.rt2);if(t.xRadius=1/R,t.yRadius=1/N,t.aRotation=Math.atan2(O.sn,O.cs),!((t.aEndAngle-t.aStartAngle)%(2*Math.PI)<Number.EPSILON)){var P=k.set(R,0,0,0,N,0,0,0,1),C=_.set(O.cs,O.sn,0,-O.sn,O.cs,0,0,0,1),I=P.multiply(C).multiply(S),j=function(t){var e=new w(Math.cos(t),Math.sin(t),0).applyMatrix3(I),r=e.x,n=e.y;return Math.atan2(n,r)};t.aStartAngle=j(t.aStartAngle),t.aEndAngle=j(t.aEndAngle),f(e)&&(t.aClockwise=!t.aClockwise)}}function i(t){var r=g(e),n=y(e);t.xRadius*=r,t.yRadius*=n;var i=r>Number.EPSILON?Math.atan2(e.elements[1],e.elements[0]):Math.atan2(-e.elements[3],e.elements[4]);t.aRotation+=i,f(e)&&(t.aStartAngle*=-1,t.aEndAngle*=-1,t.aClockwise=!t.aClockwise)}for(var a=t.subPaths,o=0,s=a.length;o<s;o++)for(var c=a[o].curves,l=0;l<c.length;l++){var u=c[l];u.isLineCurve?(r(u.v1),r(u.v2)):u.isCubicBezierCurve?(r(u.v0),r(u.v1),r(u.v2),r(u.v3)):u.isQuadraticBezierCurve?(r(u.v0),r(u.v1),r(u.v2)):u.isEllipseCurve&&(O.set(u.aX,u.aY),r(O),u.aX=O.x,u.aY=O.y,p(e)?n(u):i(u))}}(u,N),b.push(u),u.userData={node:e,style:n});for(var I=e.childNodes,j=0;j<I.length;j++){var F=I[j];l&&"style"!==F.nodeName&&"defs"!==F.nodeName||t(F,n)}a&&(E.pop(),E.length>0?N.copy(E[E.length-1]):N.identity())}}(P.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:b,xml:P.documentElement}}}])&&i(n.prototype,s),c&&i(n,c),b}(p);t.exports={SVGLoader:S}},8054:function(t,e,r){var n,i,a,o;function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}t=r.nmd(t),o=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==s(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("cursor-teleport",{schema:{cameraHead:{type:"selector",default:""},cameraRig:{type:"selector",default:""},collisionEntities:{type:"string",default:""},ignoreEntities:{type:"string",default:""},landingMaxAngle:{default:45,min:0,max:360},landingNormal:{type:"vec3",default:{x:0,y:1,z:0}},transitionSpeed:{type:"number",default:6e-4}},init:function(){var t=this;this.mobile=AFRAME.utils.device.isMobile();var e=this.el.sceneEl;this.canvas=e.renderer.domElement,this.data.cameraHead.object3D.traverse((function(e){e instanceof THREE.Camera&&(t.cam=e)})),this.camRig=this.data.cameraRig.object3D,this.rayCaster=new THREE.Raycaster,this.referenceNormal=new THREE.Vector3,this.rayCastObjects=[],this.referenceNormal.copy(this.data.landingNormal);var r=new THREE.RingGeometry(.25,.3,32,1);r.rotateX(-Math.PI/2),r.translate(0,.02,0);var n=new THREE.MeshBasicMaterial({color:7818734}),i=new THREE.Mesh(r,n),a=new THREE.CylinderGeometry(.3,.3,.5,32,1,!0);a.translate(0,.25,0);var o=(new THREE.TextureLoader).load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAQCAYAAADXnxW3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAADJJREFUeNpEx7ENgDAAAzArK0JA6f8X9oewlcWStU1wBGdwB08wgjeYm79jc2nbYH0DAC/+CORJxO5fAAAAAElFTkSuQmCC"),s=new THREE.MeshBasicMaterial({color:7818734,side:"double",map:o,transparent:!0,depthTest:!1}),c=new THREE.Mesh(a,s),l=new THREE.Group;l.add(i),l.add(c),this.teleportIndicator=l,e.object3D.add(this.teleportIndicator),this.transitioning=!1,this.transitionProgress=0,this.transitionCamPosStart=new THREE.Vector3,this.transitionCamPosEnd=new THREE.Vector3,this.updateRaycastObjects=this.updateRaycastObjects.bind(this),this.getMouseState=this.getMouseState.bind(this),this.getTeleportPosition=this.getTeleportPosition.bind(this),this.isValidNormalsAngle=this.isValidNormalsAngle.bind(this),this.transition=this.transition.bind(this),this.mouseMove=this.mouseMove.bind(this),this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.easeInOutQuad=this.easeInOutQuad.bind(this),this.updateRaycastObjects()},remove:function(){this.cam=null,this.canvas=null,this.rayCastObjects.length=0,this.el.sceneEl.object3D.remove(this.teleportIndicator),this.teleportIndicator.children[0].material.dispose(),this.teleportIndicator.children[0].geometry.dispose(),this.teleportIndicator.children[1].material.dispose(),this.teleportIndicator.children[1].geometry.dispose(),this.teleportIndicator=null,this.collisionMesh&&(this.collisionMesh.geometry.dispose(),this.collisionMesh.material.dispose(),this.collisionMesh=null)},play:function(){var t=this.canvas;t.addEventListener("mousedown",this.mouseDown,!1),t.addEventListener("mousemove",this.mouseMove,!1),t.addEventListener("mouseup",this.mouseUp,!1),t.addEventListener("touchstart",this.mouseDown,!1),t.addEventListener("touchmove",this.mouseMove,!1),t.addEventListener("touchend",this.mouseUp,!1)},pause:function(){var t=this.canvas;t.removeEventListener("mousedown",this.mouseDown),t.removeEventListener("mousemove",this.mouseMove),t.removeEventListener("mouseup",this.mouseUp),t.removeEventListener("touchstart",this.mouseDown),t.removeEventListener("touchmove",this.mouseMove),t.removeEventListener("touchend",this.mouseUp)},updateRaycastObjects:function(){var t=this;if(this.rayCastObjects.length=0,""!==this.data.collisionEntities)this.el.sceneEl.querySelectorAll(this.data.collisionEntities).forEach((function(e){e.object3D.traverse((function(e){e.isMesh&&(e.userData.collision=!0,t.rayCastObjects.push(e))}))}));else{if(!this.collisionMesh){var e=new THREE.PlaneGeometry(500,500,1);e.rotateX(-Math.PI/2);var r=new THREE.MeshNormalMaterial,n=new THREE.Mesh(e,r);n.userData.collision=!0,this.collisionMesh=n}this.rayCastObjects.push(this.collisionMesh)}""!==this.data.ignoreEntities&&this.el.sceneEl.querySelectorAll(this.data.ignoreEntities).forEach((function(e){e.object3D.traverse((function(e){e.isMesh&&t.rayCastObjects.push(e)}))}))},getMouseState:function(){var t=new THREE.Vector2;return function(e){var r=this.canvas.getBoundingClientRect();return null!=e.clientX?(t.x=e.clientX-r.left,t.y=e.clientY-r.top,t):null!=e.touches[0]?(t.x=e.touches[0].clientX-r.left,t.y=e.touches[0].clientY-r.top,t):void 0}}(),getTeleportPosition:function(){var t=new THREE.Vector2;return function(e,r){if(0!==this.rayCastObjects.length){if(this.cam&&this.canvas){var n=this.cam,i=this.canvas.getBoundingClientRect();t.x=e/(i.right-i.left)*2-1,t.y=-r/(i.bottom-i.top)*2+1,this.rayCaster.setFromCamera(t,n);var a=this.rayCaster.intersectObjects(this.rayCastObjects);return!(0===a.length||!this.isValidNormalsAngle(a[0].face.normal))&&!0===a[0].object.userData.collision&&a[0].point}return!1}return!1}}(),isValidNormalsAngle:function(t){var e=this.referenceNormal.angleTo(t);return THREE.MathUtils.RAD2DEG*e<=this.data.landingMaxAngle},transition:function(t){this.transitionProgress=0,this.transitionCamPosEnd.copy(t),this.transitionCamPosStart.copy(this.camRig.position),this.transitioning=!0},mouseMove:function(t){var e=this.getMouseState(t);this.mouseX=e.x,this.mouseY=e.y},mouseDown:function(t){this.updateRaycastObjects();var e=this.getMouseState(t);this.mouseX=e.x,this.mouseY=e.y,this.mouseXOrig=e.x,this.mouseYOrig=e.y},mouseUp:function(t){if(this.mouseX===this.mouseXOrig&&this.mouseY===this.mouseYOrig){var e=this.getTeleportPosition(this.mouseX,this.mouseY);e&&(this.teleportIndicator.position.copy(e),this.transition(e))}},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},tick:function(t,e){if(!this.transitioning&&!this.mobile){var r=this.getTeleportPosition(this.mouseX,this.mouseY);r&&this.teleportIndicator.position.copy(r)}if(this.transitioning){this.transitionProgress+=e*this.data.transitionSpeed;var n=this.easeInOutQuad(this.transitionProgress),i=n<.5?n:1.5-1*(n+.5);this.teleportIndicator.scale.set(1+i,1,1+i);var a=this.camRig.position;a.x=this.transitionCamPosStart.x+(this.transitionCamPosEnd.x-this.transitionCamPosStart.x)*n,a.y=this.transitionCamPosStart.y+(this.transitionCamPosEnd.y-this.transitionCamPosStart.y)*n,a.z=this.transitionCamPosStart.z+(this.transitionCamPosEnd.z-this.transitionCamPosStart.z)*n,this.transitionProgress>=1&&(this.transitioning=!1,a.copy(this.transitionCamPosEnd))}}})}])},"object"==s(e)&&"object"==s(t)?t.exports=o():(i=[],void 0===(a="function"==typeof(n=o)?n.apply(e,i):n)||(t.exports=a))},2475:t=>{var e={once:THREE.LoopOnce,repeat:THREE.LoopRepeat,pingpong:THREE.LoopPingPong};function r(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}t.exports=AFRAME.registerComponent("animation-mixer",{schema:{clip:{default:"*"},duration:{default:0},clampWhenFinished:{default:!1,type:"boolean"},crossFadeDuration:{default:0},loop:{default:"repeat",oneOf:Object.keys(e)},repetitions:{default:1/0,min:0},timeScale:{default:1},startAt:{default:0}},init:function(){var t=this;this.model=null,this.mixer=null,this.activeActions=[];var e=this.el.getObject3D("mesh");e?this.load(e):this.el.addEventListener("model-loaded",(function(e){t.load(e.detail.model)}))},load:function(t){var e=this.el;this.model=t,this.mixer=new THREE.AnimationMixer(t),this.mixer.addEventListener("loop",(function(t){e.emit("animation-loop",{action:t.action,loopDelta:t.loopDelta})})),this.mixer.addEventListener("finished",(function(t){e.emit("animation-finished",{action:t.action,direction:t.direction})})),this.data.clip&&this.update({})},remove:function(){this.mixer&&this.mixer.stopAllAction()},update:function(t){if(t){var r=this.data,n=AFRAME.utils.diff(r,t);if("clip"in n)return this.stopAction(),void(r.clip&&this.playAction());this.activeActions.forEach((function(t){"duration"in n&&r.duration&&t.setDuration(r.duration),"clampWhenFinished"in n&&(t.clampWhenFinished=r.clampWhenFinished),("loop"in n||"repetitions"in n)&&t.setLoop(e[r.loop],r.repetitions),"timeScale"in n&&t.setEffectiveTimeScale(r.timeScale)}))}},stopAction:function(){for(var t=this.data,e=0;e<this.activeActions.length;e++)t.crossFadeDuration?this.activeActions[e].fadeOut(t.crossFadeDuration):this.activeActions[e].stop();this.activeActions.length=0},playAction:function(){if(this.mixer){var t=this.model,n=this.data,i=t.animations||(t.geometry||{}).animations||[];if(i.length)for(var a,o,s=(a=n.clip,new RegExp("^"+a.split(/\*+/).map(r).join(".*")+"$")),c=0;o=i[c];c++)if(o.name.match(s)){var l=this.mixer.clipAction(o,t);l.enabled=!0,l.clampWhenFinished=n.clampWhenFinished,n.duration&&l.setDuration(n.duration),1!==n.timeScale&&l.setEffectiveTimeScale(n.timeScale),l.startAt(this.mixer.time-n.startAt/1e3),l.setLoop(e[n.loop],n.repetitions).fadeIn(n.crossFadeDuration).play(),this.activeActions.push(l)}}},tick:function(t,e){this.mixer&&!isNaN(e)&&this.mixer.update(e/1e3)}})},6502:(t,e)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n,i=function(){return i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},a=function(){function t(t){this.options=t,this.listeners={}}return t.prototype.on=function(t,e){var r=this.listeners[t]||[];this.listeners[t]=r.concat([e])},t.prototype.triggerEvent=function(t,e){var r=this;(this.listeners[t]||[]).forEach((function(t){return t({target:r,event:e})}))},t}();(n=e.NotyfArrayEvent||(e.NotyfArrayEvent={}))[n.Add=0]="Add",n[n.Remove=1]="Remove";var o=function(){function t(){this.notifications=[]}return t.prototype.push=function(t){this.notifications.push(t),this.updateFn(t,e.NotyfArrayEvent.Add,this.notifications)},t.prototype.splice=function(t,r){var n=this.notifications.splice(t,r)[0];return this.updateFn(n,e.NotyfArrayEvent.Remove,this.notifications),n},t.prototype.indexOf=function(t){return this.notifications.indexOf(t)},t.prototype.onUpdate=function(t){this.updateFn=t},t}();!function(t){t.Dismiss="dismiss",t.Click="click"}(e.NotyfEvent||(e.NotyfEvent={}));var s={types:[{type:"success",className:"notyf__toast--success",backgroundColor:"#3dc763",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"error",className:"notyf__toast--error",backgroundColor:"#ed3d3d",icon:{className:"notyf__icon--error",tagName:"i"}}],duration:2e3,ripple:!0,position:{x:"right",y:"bottom"},dismissible:!1},c=function(){function t(){this.notifications=[],this.events={},this.X_POSITION_FLEX_MAP={left:"flex-start",center:"center",right:"flex-end"},this.Y_POSITION_FLEX_MAP={top:"flex-start",center:"center",bottom:"flex-end"};var t=document.createDocumentFragment(),e=this._createHTMLElement({tagName:"div",className:"notyf"});t.appendChild(e),document.body.appendChild(t),this.container=e,this.animationEndEventName=this._getAnimationEndEventName(),this._createA11yContainer()}return t.prototype.on=function(t,e){var r;this.events=i(i({},this.events),((r={})[t]=e,r))},t.prototype.update=function(t,r){r===e.NotyfArrayEvent.Add?this.addNotification(t):r===e.NotyfArrayEvent.Remove&&this.removeNotification(t)},t.prototype.removeNotification=function(t){var e,r,n=this,i=this._popRenderedNotification(t);i&&((e=i.node).classList.add("notyf__toast--disappear"),e.addEventListener(this.animationEndEventName,r=function(t){t.target===e&&(e.removeEventListener(n.animationEndEventName,r),n.container.removeChild(e))}))},t.prototype.addNotification=function(t){var e=this._renderNotification(t);this.notifications.push({notification:t,node:e}),this._announce(t.options.message||"Notification")},t.prototype._renderNotification=function(t){var e,r=this._buildNotificationCard(t),n=t.options.className;return n&&(e=r.classList).add.apply(e,n.split(" ")),this.container.appendChild(r),r},t.prototype._popRenderedNotification=function(t){for(var e=-1,r=0;r<this.notifications.length&&e<0;r++)this.notifications[r].notification===t&&(e=r);if(-1!==e)return this.notifications.splice(e,1)[0]},t.prototype.getXPosition=function(t){var e;return(null===(e=null==t?void 0:t.position)||void 0===e?void 0:e.x)||"right"},t.prototype.getYPosition=function(t){var e;return(null===(e=null==t?void 0:t.position)||void 0===e?void 0:e.y)||"bottom"},t.prototype.adjustContainerAlignment=function(t){var e=this.X_POSITION_FLEX_MAP[this.getXPosition(t)],r=this.Y_POSITION_FLEX_MAP[this.getYPosition(t)],n=this.container.style;n.setProperty("justify-content",r),n.setProperty("align-items",e)},t.prototype._buildNotificationCard=function(t){var n=this,i=t.options,a=i.icon;this.adjustContainerAlignment(i);var o=this._createHTMLElement({tagName:"div",className:"notyf__toast"}),s=this._createHTMLElement({tagName:"div",className:"notyf__ripple"}),c=this._createHTMLElement({tagName:"div",className:"notyf__wrapper"}),l=this._createHTMLElement({tagName:"div",className:"notyf__message"});l.innerHTML=i.message||"";var u=i.background||i.backgroundColor;if(a){var d=this._createHTMLElement({tagName:"div",className:"notyf__icon"});if(("string"==typeof a||a instanceof String)&&(d.innerHTML=new String(a).valueOf()),"object"==r(a)){var f=a.tagName,p=void 0===f?"i":f,h=a.className,m=a.text,g=a.color,v=void 0===g?u:g,y=this._createHTMLElement({tagName:p,className:h,text:m});v&&(y.style.color=v),d.appendChild(y)}c.appendChild(d)}if(c.appendChild(l),o.appendChild(c),u&&(i.ripple?(s.style.background=u,o.appendChild(s)):o.style.background=u),i.dismissible){var b=this._createHTMLElement({tagName:"div",className:"notyf__dismiss"}),x=this._createHTMLElement({tagName:"button",className:"notyf__dismiss-btn"});b.appendChild(x),c.appendChild(b),o.classList.add("notyf__toast--dismissible"),x.addEventListener("click",(function(r){var i,a;null===(a=(i=n.events)[e.NotyfEvent.Dismiss])||void 0===a||a.call(i,{target:t,event:r}),r.stopPropagation()}))}o.addEventListener("click",(function(r){var i,a;return null===(a=(i=n.events)[e.NotyfEvent.Click])||void 0===a?void 0:a.call(i,{target:t,event:r})}));var w="top"===this.getYPosition(i)?"upper":"lower";return o.classList.add("notyf__toast--"+w),o},t.prototype._createHTMLElement=function(t){var e=t.tagName,r=t.className,n=t.text,i=document.createElement(e);return r&&(i.className=r),i.textContent=n||null,i},t.prototype._createA11yContainer=function(){var t=this._createHTMLElement({tagName:"div",className:"notyf-announcer"});t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),t.style.border="0",t.style.clip="rect(0 0 0 0)",t.style.height="1px",t.style.margin="-1px",t.style.overflow="hidden",t.style.padding="0",t.style.position="absolute",t.style.width="1px",t.style.outline="0",document.body.appendChild(t),this.a11yContainer=t},t.prototype._announce=function(t){var e=this;this.a11yContainer.textContent="",setTimeout((function(){e.a11yContainer.textContent=t}),100)},t.prototype._getAnimationEndEventName=function(){var t,e=document.createElement("_fake"),r={MozTransition:"animationend",OTransition:"oAnimationEnd",WebkitTransition:"webkitAnimationEnd",transition:"animationend"};for(t in r)if(void 0!==e.style[t])return r[t];return"animationend"},t}(),l=function(){function t(t){var r=this;this.dismiss=this._removeNotification,this.notifications=new o,this.view=new c;var n=this.registerTypes(t);this.options=i(i({},s),t),this.options.types=n,this.notifications.onUpdate((function(t,e){return r.view.update(t,e)})),this.view.on(e.NotyfEvent.Dismiss,(function(t){var n=t.target,i=t.event;r._removeNotification(n),n.triggerEvent(e.NotyfEvent.Dismiss,i)})),this.view.on(e.NotyfEvent.Click,(function(t){var r=t.target,n=t.event;return r.triggerEvent(e.NotyfEvent.Click,n)}))}return t.prototype.error=function(t){var e=this.normalizeOptions("error",t);return this.open(e)},t.prototype.success=function(t){var e=this.normalizeOptions("success",t);return this.open(e)},t.prototype.open=function(t){var e=this.options.types.find((function(e){return e.type===t.type}))||{},r=i(i({},e),t);this.assignProps(["ripple","position","dismissible"],r);var n=new a(r);return this._pushNotification(n),n},t.prototype.dismissAll=function(){for(;this.notifications.splice(0,1););},t.prototype.assignProps=function(t,e){var r=this;t.forEach((function(t){e[t]=null==e[t]?r.options[t]:e[t]}))},t.prototype._pushNotification=function(t){var e=this;this.notifications.push(t);var r=void 0!==t.options.duration?t.options.duration:this.options.duration;r&&setTimeout((function(){return e._removeNotification(t)}),r)},t.prototype._removeNotification=function(t){var e=this.notifications.indexOf(t);-1!==e&&this.notifications.splice(e,1)},t.prototype.normalizeOptions=function(t,e){var n={type:t};return"string"==typeof e?n.message=e:"object"==r(e)&&(n=i(i({},n),e)),n},t.prototype.registerTypes=function(t){var e=(t&&t.types||[]).slice();return s.types.map((function(t){var r=-1;e.forEach((function(e,n){e.type===t.type&&(r=n)}));var n=-1!==r?e.splice(r,1)[0]:{};return i(i({},t),n)})).concat(e)},t}();e.DEFAULT_OPTIONS=s,e.Notyf=l,e.NotyfArray=o,e.NotyfNotification=a,e.NotyfView=c},4766:t=>{t.exports.segmentVariants={sidewalk:["empty","sparse","normal","dense"],"sidewalk-wayfinding":["large"],"sidewalk-bench":["left","right","center"],"sidewalk-bike-rack":["left|sidewalk-parallel","right|sidewalk-parallel","left|sidewalk","right|sidewalk"],"sidewalk-tree":["big","palm-tree"],utilities:["left","right"],"sidewalk-lamp":["right|modern","both|modern","left|modern","right|traditional","both|traditional","left|traditional","right|pride","both|pride","left|pride"],parklet:["left","right"],"outdoor-dining":["empty|sidewalk","empty|road"],bikeshare:["left|road","right|road","left|sidewalk","right|sidewalk"],"bike-lane":["inbound|green|sidewalk","inbound|green|road","outbound|green|sidewalk","outbound|green|road","inbound|regular|sidewalk","inbound|regular|road","outbound|regular|sidewalk","outbound|regular|road","inbound|red|sidewalk","inbound|red|road","outbound|red|sidewalk","outbound|red|road"],scooter:["inbound|regular","inbound|green","inbound|red","outbound|regular","outbound|green","outbound|red"],"bus-lane":["inbound|colored|typical","outbound|colored|typical","inbound|regular|typical","outbound|regular|typical","inbound|red|typical","outbound|red|typical"],"drive-lane":["inbound|car","outbound|car","inbound|truck","outbound|truck","outbound|av","inbound|av","outbound|pedestrian","inbound|pedestrian","inbound|sharrow","outbound|sharrow"],"turn-lane":["inbound|left","inbound|right","inbound|left-right-straight","inbound|shared","inbound|both","inbound|left-straight","inbound|right-straight","inbound|straight","outbound|left","outbound|right","outbound|left-right-straight","outbound|shared","outbound|both","outbound|left-straight","outbound|right-straight","outbound|straight"],"parking-lane":["sideways|right","sideways|left","inbound|right","inbound|left","outbound|left","outbound|right","angled-front-left|left","angled-front-right|left","angled-rear-left|left","angled-rear-right|left","angled-front-left|right","angled-front-right|right","angled-rear-left|right","angled-rear-right|right"],"food-truck":["left","right"],"flex-zone":["taxi|inbound|right","taxi|inbound|left","taxi|outbound|right","taxi|outbound|left","rideshare|outbound|right","rideshare|outbound|right","rideshare|inbound|right","rideshare|inbound|left"],streetcar:["inbound|regular","inbound|colored","inbound|grass","outbound|regular","outbound|colored","outbound|grass"],"light-rail":["inbound|regular","inbound|colored","inbound|grass","outbound|regular","outbound|colored","outbound|grass"],"brt-station":["center"],"transit-shelter":["left|street-level","right|street-level","right|light-rail","left|light-rail"],divider:["buffer","flowers","planting-strip","planter-box","palm-tree","big-tree","bush","dome","bollard","striped-buffer"],temporary:["barricade","traffic-cone","jersey-barrier-plastic","jersey-barrier-concrete"],"magic-carpet":["aladdin"]}},4578:t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var r={Setback:{"":{type:"sidewalk",variantString:"empty"},Trees:{type:"sidewalk-tree",variantString:"big"},tree:{type:"divider",variantString:"palm-tree"},Benchs:{type:"sidewalk-bench",variantStringAdd:"side"}},Walkways:{"":{type:"sidewalk",variantString:"empty"},Trees:{type:"sidewalk-tree",variantString:"big"},pedestrian:{type:"sidewalk",variantString:"dense"},Benchs:{type:"sidewalk-bench",variantStringAdd:"side"},Tables:{type:"outdoor-dining",variantString:"occupied|sidewalk"}},Furniture:{"":{type:"sidewalk",variantString:"empty"},Trees:{type:"sidewalk-tree",variantString:"big"},season_tree:{type:"sidewalk-tree",variantString:"big"},Shelters:{type:"transit-shelter",variantString:"street-level",variantStringAdd:"side|variantString"},Pedestrian:{type:"sidewalk",variantString:"dense"}},Curbside:{"":{type:"sidewalk",variantString:"empty"},Lights:{type:"sidewalk-lamp",tagToVariantMap:{"Historic Lights":"traditional","Regular Lights":"modern"},variantStringAdd:"side|variantString"},Poles:{type:"utilities",variantStringAdd:"side"},BikeRacks:{type:"sidewalk-bike-rack",nameToVariantMap:{"Sideview Modern":"sidewalk-parallel",Sideview:"sidewalk-parallel","NYC Bike Rack":"sidewalk"},variantStringAdd:"side|variantString"}},BikesPaths:{"":{type:"bike-lane",variantString:"sidewalk"},Bikes:{type:"bike-lane",variantString:"sidewalk",variantStringAdd:"direction|material|variantString"}},Gutter:{"":{type:"divider",variantString:"median"},Gutter:{type:"divider",variantString:"median"}},Transit:{"":{tag:"Bus Vehicles",type:"bus-lane",variantString:"typical",variantStringAdd:"direction|material|variantString"},Transit:[{tag:"Rail Vehicles",type:"streetcar",names:["StreetCar Yellow","StreetCar Blue","StreetCar Red 1","StreetCar Red 2"],variantStringAdd:"direction|material"},{tag:"Rail Vehicles",type:"light-rail",names:["UTA LightRail"],variantStringAdd:"direction|material"},{tag:"Rail Vehicles Reversed",type:"light-rail",variantStringAdd:"direction|material"},{tag:"Bus Vehicles",type:"bus-lane",variantString:"typical",variantStringAdd:"direction|material|variantString"}]},Cars:{"":{type:"drive-lane",variantString:"car",variantStringAdd:"direction|variantString"},Autos:{type:"drive-lane",variantString:"car",variantStringAdd:"direction|variantString"},Truck:{type:"drive-lane",variantString:"truck",variantStringAdd:"direction|variantString"}},Parking:{"":{tag:"Parking - Parallel",type:"parking-lane",variantStringAdd:"direction|side"},Parallel:{tag:"Parking - Parallel",type:"parking-lane",variantStringAdd:"direction|side"},AngleNormal:{tag:"Parking - Angle",type:"parking-lane",nameToVariantMap:{"Away, L. Park, Head In":"angled-rear-left","Toward, R. Park, Head In":"angled-front-right","Toward, L. Park, Head In":"angled-front-left","Away, R. Park, Head In":"angled-rear-right"},variantStringAdd:"side"},Perpendicular:{type:"parking-lane",variantString:"sideways",variantStringAdd:"variantString|side"}},Buffers:{"":{type:"divider",variantString:"median"},Trees:{type:"divider",variantString:"big-tree"},tree:{type:"divider",variantString:"palm-tree"},season_tree:{type:"divider",variantString:"big-tree"},median:{type:"divider",variantString:"planting-strip"},planter:{type:"divider",variantString:"planting-strip"}}};r.Buffers.AngleNormal=r.Parking.AngleNormal,r.Buffers.Autos=r.Cars.Autos,r.Buffers.Purpendicular=r.Parking.Perpendicular,r["Median/Buffer"]=r.Buffers,r.Setback.tree=r.Buffers.tree,r.Setback.Trees=r.Buffers.Trees,r.Setback.season_tree=r.Buffers.season_tree,r.Parking.Purpendicular=r.Parking.Perpendicular,r.Setback.Purpendicular=r.Parking.Perpendicular,r.Setback.AngleNormal=r.Parking.AngleNormal,r.Setback.planter=r.Buffers.planter,r.Setback.BikeRacks=r.Curbside.BikeRacks,r.Setback.Tables=r.Walkways.Tables,r.Setback.Poles=r.Curbside.Poles,r.Curbside.Shelters=r.Furniture.Shelters,r.Curbside.Benchs=r.Walkways.Benchs,r.Furniture.planter=r.Buffers.planter,r.Furniture.Benchs=r.Walkways.Benchs,r.Furniture.BikeRacks=r.Curbside.BikeRacks,r.Furniture.Tables=r.Walkways.Tables;var n={Coming:"inbound",Going:"outbound",Both:"both",NA:""},i={"Asphalt Black":"regular","Asphalt Blue":"blue","Asphalt Red 1":"red","Asphalt Red 2":"red","Asphalt Green":"green","Asphalt Old":"regular",Grass:"grass","Grass Dead":"grass"};function a(t,e){return t.split("|").map((function(t){return e[t]})).join("|")}t.exports.convertSegment=function(t){var o={},s=t.Type,c=t.Subtype,l=r[s];if(o.elevation=t.MaterialH/.5,o.width=t.width,o.direction=n[t.Direction],t.side&&(o.side=t.side),t.Material&&(o.material=i[t.Material]),l){var u=l[c];u?o=function(t,r,n){if("string"==typeof t)r.type=t;else if(Array.isArray(t)){var i=t.find((function(t){var e=t.tag===n["O1-Tags"];return e&&t.names?t.names.includes(n["O1-Name"]):e}));r.variantString="";var o=i.variantString;o&&"string"==typeof o&&(r.variantString=o),r.type=i.type;var s=i.variantStringAdd;s&&(r.variantString=a(s,r))}else if("object"===e(t)){r.type=t.type,r.variantString="";var c=t.variantString;c&&"string"==typeof c&&(r.variantString=c);var l=t.nameToVariantMap;l&&l[n["O1-Name"]]&&(r.variantString=l[n["O1-Name"]]);var u=t.tagToVariantMap;u&&u[n["O1-Tags"]]&&(r.variantString=u[n["O1-Tags"]]);var d=t.variantStringAdd;d&&(r.variantString=a(d,r))}return r}(u,o,t):(o.type=s,console.log("The '".concat(c,"' subtype of StreetPlan segment '").concat(s,"' is not yet supported in 3DStreet")))}else o.type=s,console.log("The '".concat(s,"' StreetPlan segment type is not yet supported in 3DStreet"));return o}},9879:(t,e,r)=>{mappingUtils=r(4578),t.exports.convertStreetStruct=function(t){var e,r={},n=Object.keys(t)[0],i=Object.keys(t[n])[0];return r.name=n,r.altName=i,r.segments=Object.values(t[n][i].segments),r.segments.forEach((function(t){t.width*=.3048})),r.segments=(e=r.segments,e.map(mappingUtils.convertSegment)).filter((function(t){return!["Buildings","setback"].includes(t.type)})),console.log("TEST. Converted JSON structure: ",r),r}},5199:t=>{t.exports.isSidewalk=function(t){return t.startsWith("sidewalk")||["utilities","scooter-drop-zone","bikeshare","flex-zone-curb","transit-shelter","brt-station","street-vendor"].includes(t)},t.exports.createBuildingsArray=function(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:150,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"narrow";if("narrow"===n||"wide"===n)t=[{id:"SM3D_Bld_Mixed_4fl",width:5.251},{id:"SM3D_Bld_Mixed_Double_5fl",width:10.9041},{id:"SM3D_Bld_Mixed_4fl_2",width:5.309},{id:"SM3D_Bld_Mixed_5fl",width:5.903},{id:"SM3D_Bld_Mixed_Corner_4fl",width:5.644}],e="41431323432402434130303230234102402341";else if("residential"===n)t=[{id:"SM_Bld_House_Preset_03_1800",width:20},{id:"SM_Bld_House_Preset_08_1809",width:20},{id:"SM_Bld_House_Preset_09_1845",width:20}],e="12021201210101212021201012012021201210";else{if("arcade"!==n)return[];t=[{id:"arched-building-01",width:9.191},{id:"arched-building-02",width:11.19},{id:"arched-building-03",width:13.191},{id:"arched-building-04",width:15.191}],e="03120223130210321203123023103201232013"}for(var i=0,a=0,o=[];a<r;){var s=t[parseInt(e[i])],c={tag:"a-entity",mixin:s.id,position:a+s.width/2+" 0 0"};"SM_Bld_House_Preset_08_1809"===c.mixin&&(c.child={tag:"a-plane",class:"driveway",material:"roughness:0.8",position:"-6.25 0.6 -8.75",rotation:"-90 0 0",src:"#asphalt-texture",width:4,height:4.6}),"SM_Bld_House_Preset_09_1845"===c.mixin&&(c.child={tag:"a-plane",class:"driveway",material:"roughness:0.8",position:"-2.5 0.6 -7",rotation:"-90 0 0",src:"#asphalt-texture",width:4,height:8}),s.width+a<=r&&o.push(c),a+=s.width,i++}return o},t.exports.filterBuildingsArrayByMixin=function(t,e){var r=[];return t.forEach((function(t,n){t.mixin===e&&r.push(t)})),r},t.exports.removePropertyFromArray=function(t,e){return t.forEach((function(t,r){delete t[e]})),t},t.exports.createClonedEntitiesArray=function(t){for(var e=t.mixin,r=void 0===e?"":e,n=t.step,i=void 0===n?15:n,a=t.radius,o=void 0===a?60:a,s=t.rotation,c=void 0===s?"0 0 0":s,l=t.positionXYString,u=void 0===l?"0 0":l,d=t.randomY,f=void 0!==d&&d,p=[],h=-1*o;h<=o;h+=i){var m={tag:"a-entity",position:u+" "+h};r&&(m.class=r,m.mixin=r),m.rotation=f?"0 "+Math.floor(361*randomTestable())+" 0":c,p.push(m)}return p},t.exports.getAmbientSoundJSON=function(t){var e={fence:"#suburbs-mp3",grass:"#suburbs-mp3","parking-lot":"#parking-lot-mp3",waterfront:"#waterfront",residential:"#suburbs2-mp3",narrow:"#ambientmp3",wide:"#ambientmp3"},r=[],n=null;return t.forEach((function(t,i){if(!n||n!==e[t]){var a={tag:"a-entity",class:"playme",sound:"src: "+e[t]+"; positional: false; loop: true"};r.push(a),n=e[t]}})),r}},3334:t=>{function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=document.createElement(t.tag);delete t.tag;for(var n=0,i=Object.entries(t);n<i.length;n++){var a=e(i[n],2),o=a[0],s=a[1];if("child"===o){for(var c=document.createElement(s.tag),l=0,u=Object.entries(s);l<u.length;l++){var d=e(u[l],2),f=d[0],p=d[1];c.setAttribute(f,p)}r.appendChild(c)}r.setAttribute(o,s)}return r}t.exports.createElementFromObject=n,t.exports.appendChildElementsFromArray=function(){var t=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(e,r){t.appendChild(n(e))})),t}},5394:t=>{t.exports.streetmixUserToAPI=function(t){var e=new URL(t).pathname.split("/"),r=e[1],n=e[2];return"-"===r?"https://streetmix.net/api/v1/streets?namespacedId="+n:"https://streetmix.net/api/v1/streets?namespacedId="+n+"&creatorId="+r},t.exports.pathStartsWithAPI=function(t){var e=document.createElement("a");return e.href=t,"api"===e.pathname.split("/")[1]},t.exports.streetmixAPIToUser=function(t){function e(t,e){for(var r=t.split("&"),n=0;n<r.length;n++){var i=r[n].split("=");if(decodeURIComponent(i[0])===e)return decodeURIComponent(i[1])}console.log("Query variable %s not found",e)}var r=new URL(t).search.substring(1),n=e(r,"namespacedId"),i=e(r,"creatorId");return void 0===i&&(i="-"),"https://streetmix.net/"+i+"/"+n},t.exports.convertStreetValues=function(t){return t.schemaVersion<30&&(t.segments.forEach((function(t){t.width*=.3048})),t.width&&(t.width*=.3048)),t}},3520:t=>{"use strict";t.exports=JSON.parse('{"status":true,"project":{"My Street":{"Boulevard Alt 1":{"segments":{"1":{"Type":"Buildings","Subtype":"Commercial","SegPos":1,"width":30,"title":"Building Blue 4floors","side":"left","Direction":"NA","Material":"Building Blue 4floors","MaterialH":"0","Markings":"Standard Concrete","O1-Name":"Building Blue 4floors","O1-Tags":"4-Story,4-Story","O2-Name":"","O2-Tags":"","O3-Name":"","O3-Tags":""},"2":{"id":2478438,"Type":"setback","Subtype":"AngleNormal","SegPos":2,"width":3,"title":"Toward, R. Park, Head In","side":"left","Direction":"NA","Material":"Asphalt Blue","MaterialH":"0.5","Markings":"Setback Small","O1-Name":"Toward, R. Park, Head In","O1-Tags":"Parking - Angle","O2-Name":"Empty place holder","O2-Tags":"Business Signs","O3-Name":"","O3-Tags":""},"3":{"id":2478439,"Type":"Walkways","Subtype":"pedestrian","SegPos":3,"width":6,"title":"3 people","side":"left","Direction":"Both","Material":"Pavers Tan","MaterialH":"0.5","Markings":"Blank","O1-Name":"3 people","O1-Tags":"Many People","O2-Name":"Empty place holder","O2-Tags":"Many People","O3-Name":"","O3-Tags":""},"4":{"id":2478440,"Type":"Furniture","Subtype":"BikeRacks","SegPos":4,"width":7,"title":"NYC Bike Rack","side":"left","Direction":"NA","Material":"Pavers Tan","MaterialH":"0.5","Markings":"Blank","O1-Name":"NYC Bike Rack","O1-Tags":"Bike Racks","O2-Name":"Empty place holder","O2-Tags":"Trees, Fall","O3-Name":"Empty place holder","O3-Tags":"Trees, Fall"},"5":{"id":2478441,"Type":"BikesPaths","Subtype":"Bikes","SegPos":5,"width":4.5,"title":"Casual woman 2","side":"left","Direction":"Coming","Material":"Asphalt Blue","MaterialH":"0.5","Markings":"Painted BufferNone NoEdge","O1-Name":"Casual woman 2","O1-Tags":"Miscellaneous","O2-Name":"Empty place holder","O2-Tags":"Parking - Reverse Angle","O3-Name":"","O3-Tags":""},"6":{"id":2478442,"Type":"Curbside","Subtype":"","SegPos":6,"width":6,"title":"Empty place holder","side":"left","Direction":"NA","Material":"Pavers Tan","MaterialH":"0.5","Markings":"Blank","O1-Name":"Empty place holder","O1-Tags":"Markings - Transit Options","O2-Name":"Shelter","O2-Tags":"0 mph","O3-Name":"","O3-Tags":""},"7":{"id":2478443,"Type":"Gutter","Subtype":"Gutter","SegPos":7,"width":2.5,"title":"Gutter Std. 2.5 ft, Left","side":"left","Direction":"NA","Material":"Standard Concrete","MaterialH":"0.5","Markings":"Blank","O1-Name":"Gutter Std. 2.5 ft, Left","O1-Tags":"Gutters","O2-Name":"Empty place holder","O2-Tags":"Markings - Transit Options","O3-Name":"Empty place holder","O3-Tags":"Markings - Transit Options"},"8":{"id":2478540,"Type":"Parking","Subtype":"Purpendicular","SegPos":8,"width":19,"title":"Purpendicular Right side, Blue","side":"left","Direction":"Coming","Material":"Asphalt Black","MaterialH":"0","Markings":"Parking Left","O1-Name":"Purpendicular Right side, Blue","O1-Tags":"Private Parking","O2-Name":"","O2-Tags":"Markings - Transit Options","O3-Name":"","O3-Tags":""},"9":{"id":2478444,"Type":"Transit","Subtype":"Transit","SegPos":9,"width":11,"title":"UTA bus","side":"left","Direction":"Coming","Material":"Asphalt Red 2","MaterialH":"0","Markings":"Thru Only","O1-Name":"UTA bus","O1-Tags":"Bus Vehicles","O2-Name":"Yellow Sedan","O2-Tags":"Miscellaneous","O3-Name":"","O3-Tags":""},"10":{"id":2478445,"Type":"Cars","Subtype":"","SegPos":10,"width":10,"title":"Empty place holder","side":"left","Direction":"Coming","Material":"Asphalt Black","MaterialH":"0","Markings":"Thru Only","O1-Name":"Empty place holder","O1-Tags":"SUVs/Pickups Reversed","O2-Name":"","O2-Tags":"Miscellaneous","O3-Name":"","O3-Tags":""},"11":{"id":2478446,"Type":"Median/Buffer","Subtype":"season_tree","SegPos":11,"width":14,"title":"Japanese Zelkova","side":"median","Direction":"median","Material":"Asphalt Black","MaterialH":"0","Markings":"Center Median","O1-Name":"Japanese Zelkova","O1-Tags":"Trees, Summer","O2-Name":"TallPlantBox (12ft)","O2-Tags":"Low-Water Xeriscape","O3-Name":"","O3-Tags":""},"12":{"id":2478447,"Type":"Cars","Subtype":"Truck","SegPos":12,"width":10,"title":"Blue Truck","side":"right","Direction":"Going","Material":"Asphalt Black","MaterialH":"0","Markings":"Thru Only","O1-Name":"Blue Truck","O1-Tags":"Miscellaneous","O2-Name":"","O2-Tags":"Low-Water Xeriscape","O3-Name":"","O3-Tags":""},"13":{"id":2478448,"Type":"Transit","Subtype":"Transit","SegPos":13,"width":11,"title":"StreetCar Yellow","side":"right","Direction":"Going","Material":"Grass","MaterialH":"0","Markings":"Thru Only","O1-Name":"StreetCar Yellow","O1-Tags":"Rail Vehicles","O2-Name":"White Sedan","O2-Tags":"Miscellaneous","O3-Name":"","O3-Tags":""},"14":{"id":2478449,"Type":"Gutter","Subtype":"Gutter","SegPos":14,"width":2.5,"title":"Gutter Std. 2.5 ft, Right","side":"right","Direction":"NA","Material":"Standard Concrete","MaterialH":"0.5","Markings":"Blank","O1-Name":"Gutter Std. 2.5 ft, Right","O1-Tags":"Gutters","O2-Name":"Empty place holder","O2-Tags":"Markings - Transit Options","O3-Name":"Empty place holder","O3-Tags":"Markings - Transit Options"},"15":{"id":2478450,"Type":"Curbside","Subtype":"Lights","SegPos":15,"width":2,"title":"Streetlight solar banners 1","side":"right","Direction":"NA","Material":"Pavers Tan","MaterialH":"0.5","Markings":"Blank","O1-Name":"Streetlight solar banners 1","O1-Tags":"Historic Lights","O2-Name":"BikeRack Bollard","O2-Tags":"30 mph","O3-Name":"","O3-Tags":""},"16":{"id":2478451,"Type":"BikesPaths","Subtype":"Bikes","SegPos":16,"width":4.5,"title":"Man Go","side":"right","Direction":"Going","Material":"Asphalt Blue","MaterialH":"0.5","Markings":"Painted BufferNone NoEdge","O1-Name":"Man Go","O1-Tags":"Miscellaneous","O2-Name":"","O2-Tags":"Bike Racks","O3-Name":"","O3-Tags":""},"17":{"id":2478452,"Type":"Furniture","Subtype":"Tables","SegPos":17,"width":7,"title":"Table","side":"right","Direction":"NA","Material":"Pavers Tan","MaterialH":"0.5","Markings":"Blank","O1-Name":"Table","O1-Tags":"Miscellaneous","O2-Name":"Table","O2-Tags":"Miscellaneous","O3-Name":"Empty place holder","O3-Tags":"Trees, Fall"},"18":{"id":2478453,"Type":"Walkways","Subtype":"pedestrian","SegPos":18,"width":6,"title":"3 people","side":"right","Direction":"Both","Material":"Pavers Tan","MaterialH":"0.5","Markings":"Blank","O1-Name":"3 people","O1-Tags":"Many People","O2-Name":"Empty place holder","O2-Tags":"Many People","O3-Name":"","O3-Tags":""},"19":{"id":2478454,"Type":"setback","Subtype":"Paths","SegPos":19,"width":3,"title":"Empty place holder","side":"right","Direction":"NA","Material":"Asphalt Blue","MaterialH":"0.5","Markings":"Setback Small","O1-Name":"Empty place holder","O1-Tags":"Business Signs","O2-Name":"Empty place holder","O2-Tags":"Business Signs","O3-Name":"","O3-Tags":""},"20":{"Type":"Buildings","Subtype":"Commercial","SegPos":20,"width":30,"title":"Building Yellow 4floors","side":"right","Direction":"NA","Material":"Building Yellow 4floors","MaterialH":"0","Markings":"Standard Concrete","O1-Name":"Building Yellow 4floors","O1-Tags":"4-Story,4-Story","O2-Name":"","O2-Tags":"","O3-Name":"","O3-Tags":""}}}}}}')}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var a=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);return(()=>{function t(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}(t,r)||function(t,r){if(!t)return;if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,r)}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r(5236),console.log("3DStreet Version: ".concat("0.4.14"));var n=r(7844),i=r(5394);r(6633),r(6071),r(5470),r(4406),r(8054),r(2475),r(8234),r(8472),r(7391),r(8699),r(631),r(7129),AFRAME.registerComponent("street",{schema:{JSON:{type:"string"},type:{default:"streetmixSegmentsMetric"},left:{default:""},right:{default:""},showGround:{default:!0},showStriping:{default:!0},showVehicles:{default:!0},globalAnimated:{default:!1},length:{default:60}},update:function(t){var e=this.data;if(0!==e.JSON.length){var r=JSON.parse(e.JSON),i=this.el.querySelector(".street-parent");i&&i.remove();var a=this.el.querySelector(".buildings-parent");a&&a.remove();var o=n.processSegments(r.streetmixSegmentsMetric,e.showStriping,e.length,e.globalAnimated,e.showVehicles);if(this.el.append(o),e.left||e.right){var s=r.streetmixSegmentsMetric.reduce((function(t,e){return t+e.width}),0),c=n.processBuildings(e.left,e.right,s,e.showGround,e.length);this.el.append(c)}}else{if(void 0!==t.JSON&&0===t.JSON.length)return;console.log("[street]","No JSON provided yet, but it might be set at runtime")}}}),AFRAME.registerComponent("streetmix-loader",{dependencies:["street"],schema:{streetmixStreetURL:{type:"string"},streetmixAPIURL:{type:"string"},showBuildings:{default:!0},name:{default:""}},update:function(t){var e=this.data,r=this.el;if(t.streetmixStreetURL!==e.streetmixStreetURL||t.streetmixAPIURL!==e.streetmixAPIURL)if(0!==e.streetmixAPIURL.length){var n=new XMLHttpRequest;console.log("[streetmix-loader]","GET "+e.streetmixAPIURL),n.open("GET",e.streetmixAPIURL,!0),n.onload=function(){if(this.status>=200&&this.status<400){var t,n=JSON.parse(this.response),a=i.convertStreetValues(n.data.street),o=a.segments,s=n.name;console.log("streetmixName",s),r.setAttribute("streetmix-loader","name",s),AFRAME.scenes[0]&&AFRAME.scenes[0].getAttribute("metadata")&&(t=AFRAME.scenes[0].getAttribute("metadata").sceneTitle),t||(AFRAME.scenes[0].setAttribute("metadata","sceneTitle",s),console.log("therefore setting metadata sceneTitle as streetmixName",s)),r.setAttribute("data-layer-name","Streetmix • "+s),e.showBuildings&&(r.setAttribute("street","right",a.rightBuildingVariant),r.setAttribute("street","left",a.leftBuildingVariant)),r.setAttribute("street","type","streetmixSegmentsMetric"),r.setAttribute("street","JSON",JSON.stringify({streetmixSegmentsMetric:o})),r.emit("streetmix-loader-street-loaded")}else console.log("[streetmix-loader]","Loading Error: We reached the target server, but it returned an error")},n.onerror=function(){console.log("[streetmix-loader]","Loading Error: There was a connection error of some sort")},n.send()}else{if(e.streetmixStreetURL.length>0){var a=i.streetmixUserToAPI(e.streetmixStreetURL);return console.log("[streetmix-loader]","setting `streetmixAPIURL` to",a),void r.setAttribute("streetmix-loader","streetmixAPIURL",a)}console.log("[streetmix-loader]","Neither `streetmixAPIURL` nor `streetmixStreetURL` properties provided, please provide at least one.")}}}),AFRAME.registerComponent("intersection",{schema:{dimensions:{type:"string",default:"20 20"},sidewalk:{type:"string",default:"0 0 0 0"},northeastcurb:{type:"string",default:"0 0"},southwestcurb:{type:"string",default:"0 0"},southeastcurb:{type:"string",default:"0 0"},northwestcurb:{type:"string",default:"0 0"},stopsign:{type:"string",default:"0 0 0 0"},trafficsignal:{type:"string",default:"0 0 0 0"},crosswalk:{type:"string",default:"0 0 0 0"}},init:function(){for(var e=this.data,r=this.el;r.firstChild;)r.removeChild(r.lastChild);var n=e.dimensions.split(" ").map((function(t){return Number(t)})),i=[this.el.getAttribute("position").x,this.el.getAttribute("position").y,this.el.getAttribute("position").z],a=e.sidewalk.split(" ").map((function(t){return Number(t)})),o=e.northeastcurb.split(" ").map((function(t){return Number(t)})),s=e.southwestcurb.split(" ").map((function(t){return Number(t)})),c=e.southeastcurb.split(" ").map((function(t){return Number(t)})),l=e.northwestcurb.split(" ").map((function(t){return Number(t)})),u=e.stopsign.split(" ").map((function(t){return Number(t)})),d=e.trafficsignal.split(" ").map((function(t){return Number(t)})),f=e.crosswalk.split(" ").map((function(t){return Number(t)})),p=n[0],h=n[1];function m(t){var e=t.length,n=t.width,i=t.positionVec,a=t.scaleVec,o=void 0===a?{x:1,y:1,z:1}:a,s=t.rotationVec,c=document.createElement("a-entity"),l=[];l[0]=n/2,l[1]=parseInt(e/2),c.setAttribute("geometry","primitive","box"),c.setAttribute("geometry","height: 0.4"),c.setAttribute("position",i),c.setAttribute("scale",o),c.setAttribute("geometry","depth",e),c.setAttribute("geometry","width",n),c.setAttribute("rotation",s),c.setAttribute("mixin","sidewalk"),c.setAttribute("material","repeat: ".concat(l[0]," ").concat(l[1])),r.appendChild(c)}this.el.setAttribute("geometry","primitive:box; width: ".concat(p,"; height: ").concat(h,"; depth:0.2")),this.el.setAttribute("position",{x:i[0],y:-.1,z:i[2]}),this.el.setAttribute("rotation","-90 0 0"),this.el.setAttribute("material","src: #asphalt-texture; repeat:5 5; roughness:1");var g={west:{positionVec:{x:p/2-a[0]/2,z:.1},rotationVec:{x:90,y:0,z:0},length:h,width:a[0]},east:{positionVec:{x:-p/2+a[1]/2,z:.1},rotationVec:{x:90,y:0,z:0},length:h,width:a[1]},north:{positionVec:{y:-h/2+a[2]/2,x:a[1]/2-a[0]/2,z:.1},rotationVec:{x:0,y:90,z:-90},length:p-a[1]-a[0],width:a[2]},south:{positionVec:{y:h/2-a[3]/2,x:a[1]/2-a[0]/2,z:.1},rotationVec:{x:0,y:90,z:-90},length:p-a[1]-a[0],width:a[3]}};Object.keys(g).filter((function(t,e){return a[e]})).forEach((function(t,e){m(g[t])}));for(var v={northeast:{positionVec:{x:p/2-o[0]/2,y:h/2-o[1]/2,z:.1},rotationVec:{x:0,y:90,z:-90},length:o[0],width:o[1]},southwest:{positionVec:{x:-p/2+s[0]/2,y:-h/2+s[1]/2,z:.1},rotationVec:{x:0,y:90,z:-90},length:s[0],width:s[1]},southeast:{positionVec:{x:p/2-c[0]/2,y:-h/2+c[1]/2,z:.1},rotationVec:{x:0,y:90,z:-90},length:c[0],width:c[1]},northwest:{positionVec:{x:-p/2+l[0]/2,y:h/2-l[1]/2,z:.1},rotationVec:{x:0,y:90,z:-90},length:l[0],width:l[1]}},y=0,b=Object.entries(v);y<b.length;y++){var x=t(b[y],2),w=x[0],A=x[1];"0 0"!==e["".concat(w,"curb")]&&m(A)}if(u[0]){var S=document.createElement("a-entity");S.setAttribute("position",{x:p/2,y:h/3,z:.1}),S.setAttribute("rotation",{x:0,y:90,z:90}),S.setAttribute("mixin","stop_sign"),r.appendChild(S)}if(u[1]){var E=document.createElement("a-entity");E.setAttribute("position",{x:-p/2,y:-h/3,z:.1}),E.setAttribute("rotation",{x:0,y:-90,z:-90}),E.setAttribute("mixin","stop_sign"),r.appendChild(E)}if(u[2]){var M=document.createElement("a-entity");M.setAttribute("position",{x:-p/3,y:h/2,z:.1}),M.setAttribute("rotation",{x:-90,y:90,z:90}),M.setAttribute("mixin","stop_sign"),r.appendChild(M)}if(u[3]){var k=document.createElement("a-entity");k.setAttribute("position",{x:p/3,y:-h/2,z:.1}),k.setAttribute("rotation",{x:90,y:-90,z:-90}),k.setAttribute("mixin","stop_sign"),r.appendChild(k)}if(d[0]){var _=document.createElement("a-entity");_.setAttribute("position",{x:p/2,y:h/3,z:.3}),_.setAttribute("rotation",{x:210,y:90,z:90}),_.setAttribute("mixin","signal_left"),r.appendChild(_);var T=document.createElement("a-entity");T.setAttribute("position",{x:p/2,y:-h/3,z:.3}),T.setAttribute("rotation",{x:180,y:90,z:90}),T.setAttribute("mixin","signal_right"),r.appendChild(T)}if(d[1]){var O=document.createElement("a-entity");O.setAttribute("position",{x:-p/2,y:-h/3,z:.3}),O.setAttribute("rotation",{x:30,y:90,z:90}),O.setAttribute("mixin","signal_left"),r.appendChild(O);var R=document.createElement("a-entity");R.setAttribute("position",{x:-p/2,y:h/3,z:.3}),R.setAttribute("rotation",{x:0,y:90,z:90}),R.setAttribute("mixin","signal_right"),r.appendChild(R)}if(d[2]){var N=document.createElement("a-entity");N.setAttribute("position",{x:-p/3,y:h/2,z:.1}),N.setAttribute("rotation",{x:120,y:90,z:90}),N.setAttribute("mixin","signal_left"),r.appendChild(N);var P=document.createElement("a-entity");P.setAttribute("position",{x:p/3,y:h/2,z:.1}),P.setAttribute("rotation",{x:90,y:90,z:90}),P.setAttribute("mixin","signal_right"),r.appendChild(P)}if(d[3]){var C=document.createElement("a-entity");C.setAttribute("position",{x:p/3,y:-h/2,z:.1}),C.setAttribute("rotation",{x:-60,y:90,z:90}),C.setAttribute("mixin","signal_left"),r.appendChild(C);var I=document.createElement("a-entity");I.setAttribute("position",{x:-p/3,y:-h/2,z:.1}),I.setAttribute("rotation",{x:-90,y:90,z:90}),I.setAttribute("mixin","signal_right"),r.appendChild(I)}if(f[0]){var j=document.createElement("a-entity");j.setAttribute("position",{x:p/2-2,z:.11}),j.setAttribute("rotation",{x:0,y:0,z:180}),j.setAttribute("scale",{y:h/12}),j.setAttribute("mixin","markings crosswalk-zebra"),r.appendChild(j)}if(f[1]){var F=document.createElement("a-entity");F.setAttribute("position",{x:-p/2+2,z:.11}),F.setAttribute("rotation",{x:0,y:0,z:180}),F.setAttribute("scale",{y:h/12}),F.setAttribute("mixin","markings crosswalk-zebra"),r.appendChild(F)}if(f[2]){var L=document.createElement("a-entity");L.setAttribute("position",{y:-h/2+2,z:.11}),L.setAttribute("rotation",{x:0,y:0,z:90}),L.setAttribute("scale",{y:p/12}),L.setAttribute("mixin","markings crosswalk-zebra"),r.appendChild(L)}if(f[3]){var B=document.createElement("a-entity");B.setAttribute("position",{y:h/2-2,z:.11}),B.setAttribute("rotation",{x:0,y:0,z:90}),B.setAttribute("scale",{y:p/12}),B.setAttribute("mixin","markings crosswalk-zebra"),r.appendChild(B)}}}),AFRAME.registerComponent("street-environment",{schema:{preset:{type:"string",default:"day",oneOf:["day","night","color","sunny-morning","cloudy-afternoon","sunny-afternoon","sunny-noon","foggy","cloudy"]},backgroundColor:{type:"color",default:"#FFF"}},setEnvOption:function(){var t=this.sky,e=this.light1,r=this.light2,n="//assets.3dstreet.app/";"night"===this.data.preset?(e.setAttribute("light","intensity",.5),r.setAttribute("light","intensity",.15),t.setAttribute("visible",!0),t.setAttribute("color","#444"),t.setAttribute("src","#sky-night"),t.setAttribute("rotation","0 0 0")):"day"===this.data.preset?(e.setAttribute("light","intensity",.8),t.setAttribute("visible",!0),t.setAttribute("color","#FFF"),t.setAttribute("src","#sky"),t.setAttribute("rotation","0 20 0"),r.setAttribute("light","intensity: 2.2; castShadow: true; shadowCameraBottom: -20; shadowCameraLeft: -30; shadowCameraRight: 40; shadowCameraTop: 30; shadowMapHeight: 2048; shadowMapWidth: 2048"),r.setAttribute("position","-40 56 -16")):"sunny-morning"===this.data.preset?(e.setAttribute("light","intensity",.8),r.setAttribute("light","intensity: 2.2; castShadow: true; shadowCameraBottom: -20; shadowCameraLeft: -30; shadowCameraRight: 40; shadowCameraTop: 30; shadowMapHeight: 2048; shadowMapWidth: 2048"),r.setAttribute("position","-60 56 -16"),t.setAttribute("visible",!0),t.setAttribute("color","#FFF"),t.setAttribute("src","url(".concat(n,"images/skies/2048-polyhaven-qwantani_puresky-sdr.jpeg)")),t.setAttribute("rotation","0 0 0")):"cloudy-afternoon"===this.data.preset?(e.setAttribute("light","intensity",2),r.setAttribute("light","intensity",.6),t.setAttribute("visible",!0),t.setAttribute("color","#FFF"),t.setAttribute("src","url(".concat(n,"images/skies/2048-mud_road_puresky-sdr.jpeg)")),t.setAttribute("rotation","0 0 0")):"sunny-afternoon"===this.data.preset?(e.setAttribute("light","intensity",2),r.setAttribute("light","intensity: 2.2; castShadow: true; shadowCameraBottom: -20; shadowCameraLeft: -30; shadowCameraRight: 40; shadowCameraTop: 30; shadowMapHeight: 2048; shadowMapWidth: 2048"),r.setAttribute("position","60 56 -16"),t.setAttribute("visible",!0),t.setAttribute("color","#FFF"),t.setAttribute("src","url(".concat(n,"images/skies/2048-kloofendal_43d_clear_puresky-sdr.jpeg)")),t.setAttribute("rotation","0 0 0")):"sunny-noon"===this.data.preset?(e.setAttribute("light","intensity",2),r.setAttribute("light","intensity: 2.2; castShadow: true; shadowCameraBottom: -20; shadowCameraLeft: -30; shadowCameraRight: 40; shadowCameraTop: 30; shadowMapHeight: 2048; shadowMapWidth: 2048"),r.setAttribute("position","5 56 -16"),t.setAttribute("visible",!0),t.setAttribute("color","#FFF"),t.setAttribute("src","url(".concat(n,"images/skies/2048-kloppenheim_05_puresky-sdr.jpeg)")),t.setAttribute("rotation","0 0 0")):"foggy"===this.data.preset?(e.setAttribute("light","intensity",2),r.setAttribute("light","intensity: 0.6; castShadow: false;"),t.setAttribute("visible",!0),t.setAttribute("color","#FFF"),t.setAttribute("src","url(".concat(n,"images/skies/2048-kloofendal_misty_morning_puresky-sdr.jpeg)")),t.setAttribute("rotation","0 0 0")):"cloudy"===this.data.preset?(e.setAttribute("light","intensity",2),r.setAttribute("light","intensity",.6),t.setAttribute("visible",!0),t.setAttribute("color","#FFF"),t.setAttribute("src","url(".concat(n,"images/skies/2048-kloofendal_48d_partly_cloudy_puresky-sdr.jpeg)")),t.setAttribute("rotation","0 0 0")):(t.setAttribute("visible",!1),this.scene.setAttribute("background","color",this.data.backgroundColor))},init:function(){var t=this.el;this.scene=document.querySelector("a-scene"),this.light1=document.createElement("a-entity");var e=this.light1;e.setAttribute("id","env-light1"),e.setAttribute("light",{type:"ambient",color:"#FFF"}),t.appendChild(e),this.light2=document.createElement("a-entity");var r=this.light2;r.setAttribute("id","env-light2"),r.setAttribute("position","-60 56 -16"),r.setAttribute("light","intensity: 2.2; castShadow: true; shadowCameraBottom: -20; shadowCameraLeft: -30; shadowCameraRight: 40; shadowCameraTop: 30; shadowMapHeight: 2048; shadowMapWidth: 2048"),t.appendChild(r),this.sky=document.createElement("a-sky");var n=this.sky;n.setAttribute("id","env-sky"),n.setAttribute("data-ignore-raycaster",""),t.appendChild(n)},update:function(t){this.setEnvOption()}}),AFRAME.registerComponent("wheel",{schema:{speed:{type:"number",default:1},wheelDiameter:{type:"number",default:1}},init:function(){var t=this.el,e=this;t.addEventListener("model-loaded",(function(r){var n=t.getObject3D("mesh");n&&(e.wheel_F_L=n.getObjectByName("wheel_F_L"),e.wheel_F_R=n.getObjectByName("wheel_F_R"),e.wheel_B_L=n.getObjectByName("wheel_B_L"),e.wheel_B_R=n.getObjectByName("wheel_B_R"),e.wheel_B_L_2=n.getObjectByName("wheel_B_L_2"),e.wheel_B_R_2=n.getObjectByName("wheel_B_R_2"))}))},tick:function(t,e){var r=this.data.speed/1e3/this.data.wheelDiameter*2*e;this.wheel_F_L&&this.wheel_F_L.rotateY(r),this.wheel_F_R&&this.wheel_F_R.rotateY(r),this.wheel_B_L&&this.wheel_B_L.rotateY(r),this.wheel_B_L_2&&this.wheel_B_L_2.rotateY(r),this.wheel_B_R_2&&this.wheel_B_R_2.rotateY(r),this.wheel_B_R&&this.wheel_B_R.rotateY(r)}})})(),{}})()));